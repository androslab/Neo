var pixelentity=window.pixelentity||{classes:{},targets:{}};var q=null;window.PR_SHOULD_USE_CONTINUATION=!0;(function(){function d(F){function w(J){var K=J.charCodeAt(0);if(K!==92){return K}var I=J.charAt(1);return(K=k[I])?K:"0"<=I&&I<="7"?parseInt(J.substring(1),8):I==="u"||I==="x"?parseInt(J.substring(2),16):J.charCodeAt(1)}function C(I){if(I<32){return(I<16?"\\x0":"\\x")+I.toString(16)}I=String.fromCharCode(I);if(I==="\\"||I==="-"||I==="["||I==="]"){I="\\"+I}return I}function A(J){for(var M=J.substring(1,J.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),J=[],I=[],O=M[0]==="^",P=O?1:0,L=M.length;P<L;++P){var K=M[P];if(/\\[bdsw]/i.test(K)){J.push(K)}else{var K=w(K),N;P+2<L&&"-"===M[P+1]?(N=w(M[P+2]),P+=2):N=K;I.push([K,N]);N<65||K>122||(N<65||K>90||I.push([Math.max(65,K)|32,Math.min(N,90)|32]),N<97||K>122||I.push([Math.max(97,K)&-33,Math.min(N,122)&-33]))}}I.sort(function(Q,R){return Q[0]-R[0]||R[1]-Q[1]});M=[];K=[NaN,NaN];for(P=0;P<I.length;++P){L=I[P],L[0]<=K[1]+1?K[1]=Math.max(K[1],L[1]):M.push(K=L)}I=["["];O&&I.push("^");I.push.apply(I,J);for(P=0;P<M.length;++P){L=M[P],I.push(C(L[0])),L[1]>L[0]&&(L[1]+1>L[0]&&I.push("-"),I.push(C(L[1])))}I.push("]");return I.join("")}function E(J){for(var M=J.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),I=M.length,N=[],O=0,L=0;O<I;++O){var K=M[O];K==="("?++L:"\\"===K.charAt(0)&&(K=+K.substring(1))&&K<=L&&(N[K]=-1)}for(O=1;O<N.length;++O){-1===N[O]&&(N[O]=++G)}for(L=O=0;O<I;++O){K=M[O],K==="("?(++L,N[L]===void 0&&(M[O]="(?:")):"\\"===K.charAt(0)&&(K=+K.substring(1))&&K<=L&&(M[O]="\\"+N[L])}for(L=O=0;O<I;++O){"^"===M[O]&&"^"!==M[O+1]&&(M[O]="")}if(J.ignoreCase&&H){for(O=0;O<I;++O){K=M[O],J=K.charAt(0),K.length>=2&&J==="["?M[O]=A(K):J!=="\\"&&(M[O]=K.replace(/[A-Za-z]/g,function(P){P=P.charCodeAt(0);return"["+String.fromCharCode(P&-33,P|32)+"]"}))}}return M.join("")}for(var G=0,H=!1,x=!1,u=0,D=F.length;u<D;++u){var B=F[u];if(B.ignoreCase){x=!0}else{if(/[a-z]/i.test(B.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){H=!0;x=!1;break}}}for(var k={b:8,t:9,n:10,v:11,f:12,r:13},v=[],u=0,D=F.length;u<D;++u){B=F[u];if(B.global||B.multiline){throw Error(""+B)}v.push("(?:"+E(B)+")")}return RegExp(v.join("|"),x?"gi":"g")}function c(B){function u(E){switch(E.nodeType){case 1:if(x.test(E.className)){break}for(var F=E.firstChild;F;F=F.nextSibling){u(F)}F=E.nodeName;if("BR"===F||"LI"===F){w[D]="\n",C[D<<1]=A++,C[D++<<1|1]=E}break;case 3:case 4:F=E.nodeValue,F.length&&(F=k?F.replace(/\r\n?/g,"\n"):F.replace(/[\t\n\r ]+/g," "),w[D]=F,C[D<<1]=A,A+=F.length,C[D++<<1|1]=E)}}var x=/(?:^|\s)nocode(?:\s|$)/,w=[],A=0,C=[],D=0,v;B.currentStyle?v=B.currentStyle.whiteSpace:window.getComputedStyle&&(v=document.defaultView.getComputedStyle(B,q).getPropertyValue("white-space"));var k=v&&"pre"===v.substring(0,3);u(B);return{a:w.join("").replace(/\n$/,""),c:C}}function t(u,k,w,v){k&&(u={a:k,d:u},w(u),v.push.apply(v,u.e))}function h(u,k){function x(P){for(var F=P.d,C=[F,"pln"],L=0,J=P.a.match(A)||[],B={},E=0,N=J.length;E<N;++E){var K=J[E],O=B[K],D=void 0,M;if(typeof O==="string"){M=!1}else{var I=w[K.charAt(0)];if(I){D=K.match(I[1]),O=I[0]}else{for(M=0;M<v;++M){if(I=k[M],D=K.match(I[1])){O=I[0];break}}D||(O="pln")}if((M=O.length>=5&&"lang-"===O.substring(0,5))&&!(D&&typeof D[1]==="string")){M=!1,O="src"}M||(B[K]=O)}I=L;L+=K.length;if(M){M=D[1];var H=K.indexOf(M),G=H+M.length;D[2]&&(G=K.length-D[2].length,H=G-M.length);O=O.substring(5);t(F+I,K.substring(0,H),x,C);t(F+I+H,M,s(O,M),C);t(F+I+G,K.substring(G),x,C)}else{C.push(F+I,O)}}P.e=C}var w={},A;(function(){for(var G=u.concat(k),B=[],F={},H=0,E=G.length;H<E;++H){var D=G[H],I=D[3];if(I){for(var C=I.length;--C>=0;){w[I.charAt(C)]=D}}D=D[1];I=""+D;F.hasOwnProperty(I)||(B.push(D),F[I]=q)}B.push(/[\S\s]/);A=d(B)})();var v=k.length;return x}function o(u){var k=[],w=[];u.tripleQuotedStrings?k.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):u.multiLineStrings?k.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):k.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]);u.verbatimStrings&&w.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var v=u.hashComments;v&&(u.cStyleComments?(v>1?k.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):k.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),w.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):k.push(["com",/^#[^\n\r]*/,q,"#"]));u.cStyleComments&&(w.push(["com",/^\/\/[^\n\r]*/,q]),w.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q]));u.regexLiterals&&w.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]);(v=u.types)&&w.push(["typ",v]);u=(""+u.keywords).replace(/^ | $/g,"");u.length&&w.push(["kwd",RegExp("^(?:"+u.replace(/[\s,]+/g,"|")+")\\b"),q]);k.push(["pln",/^\s+/,q," \r\n\t\xa0"]);w.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]);return h(k,w)}function r(H,x){function E(K){switch(K.nodeType){case 1:if(B.test(K.className)){break}if("BR"===K.nodeName){C(K),K.parentNode&&K.parentNode.removeChild(K)}else{for(K=K.firstChild;K;K=K.nextSibling){E(K)}}break;case 3:case 4:if(v){var k=K.nodeValue,L=k.match(I);if(L){var M=k.substring(0,L.index);K.nodeValue=M;(k=k.substring(L.index+L[0].length))&&K.parentNode.insertBefore(J.createTextNode(k),K.nextSibling);C(K);M||K.parentNode.removeChild(K)}}}}function C(K){function k(M,R){var Q=R?M.cloneNode(!1):M,P=M.parentNode;if(P){var P=k(P,1),O=M.nextSibling;P.appendChild(Q);for(var N=O;N;N=O){O=N.nextSibling,P.appendChild(N)}}return Q}for(;!K.nextSibling;){if(K=K.parentNode,!K){return}}for(var K=k(K.nextSibling,0),L;(L=K.parentNode)&&L.nodeType===1;){K=L}F.push(K)}var B=/(?:^|\s)nocode(?:\s|$)/,I=/\r\n?|\n/,J=H.ownerDocument,A;H.currentStyle?A=H.currentStyle.whiteSpace:window.getComputedStyle&&(A=J.defaultView.getComputedStyle(H,q).getPropertyValue("white-space"));var v=A&&"pre"===A.substring(0,3);for(A=J.createElement("LI");H.firstChild;){A.appendChild(H.firstChild)}for(var F=[A],D=0;D<F.length;++D){E(F[D])}x===(x|0)&&F[0].setAttribute("value",x);var u=J.createElement("OL");u.className="linenums";for(var w=Math.max(0,x-1|0)||0,D=0,G=F.length;D<G;++D){A=F[D],A.className="L"+(D+w)%10,A.firstChild||A.appendChild(J.createTextNode("\xa0")),u.appendChild(A)}H.appendChild(u)}function z(u,k){for(var w=k.length;--w>=0;){var v=k[w];y.hasOwnProperty(v)?window.console&&console.warn("cannot override language handler %s",v):y[v]=u}}function s(u,k){if(!u||!y.hasOwnProperty(u)){u=/^\s*</.test(k)?"default-markup":"default-code"}return y[u]}function p(X){var L=X.g;try{var T=c(X.h),Q=T.a;X.a=Q;X.c=T.c;X.d=0;s(L,Q)(X);var N=/\bMSIE\b/.test(navigator.userAgent),L=/\n/g,F=X.a,G=F.length,T=0,M=X.c,I=M.length,Q=0,U=X.e,R=U.length,X=0;U[R]=G;var H,K;for(K=H=0;K<R;){U[K]!==U[K+2]?(U[H++]=U[K++],U[H++]=U[K++]):K+=2}R=H;for(K=H=0;K<R;){for(var A=U[K],S=U[K+1],W=K+2;W+2<=R&&U[W+1]===S;){W+=2}U[H++]=A;U[H++]=S;K=W}for(U.length=H;Q<I;){var J=M[Q+2]||G,V=U[X+2]||G,W=Math.min(J,V),P=M[Q+1],O;if(P.nodeType!==1&&(O=F.substring(T,W))){N&&(O=O.replace(L,"\r"));P.nodeValue=O;var E=P.ownerDocument,D=E.createElement("SPAN");D.className=U[X+1];var B=P.parentNode;B.replaceChild(D,P);D.appendChild(P);T<J&&(M[Q+1]=P=E.createTextNode(F.substring(W,J)),B.insertBefore(P,D.nextSibling))}T=W;T>=J&&(Q+=2);T>=V&&(X+=2)}}catch(C){"console" in window&&console.log(C&&C.stack?C.stack:C)}}var m=["break,continue,do,else,for,if,return,while"],j=[[m,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],n=[j,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],l=[j,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],i=[l,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],j=[j,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],g=[m,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],f=[m,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],m=[m,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],e=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,b=/\S/,a=o({keywords:[n,i,j,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+g,f,m],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),y={};z(a,["default-code"]);z(h([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]);z(h([["pln",/^\s+/,q," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]);z(h([],[["atv",/^[\S\s]+/]]),["uq.val"]);z(o({keywords:n,hashComments:!0,cStyleComments:!0,types:e}),["c","cc","cpp","cxx","cyc","m"]);z(o({keywords:"null,true,false"}),["json"]);z(o({keywords:i,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:e}),["cs"]);z(o({keywords:l,cStyleComments:!0}),["java"]);z(o({keywords:m,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]);z(o({keywords:g,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]);z(o({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]);z(o({keywords:f,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]);z(o({keywords:j,cStyleComments:!0,regexLiterals:!0}),["js"]);z(o({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]);z(h([],[["str",/^[\S\s]+/]]),["regex"]);window.prettyPrintOne=function(u,k,w){var v=document.createElement("PRE");v.innerHTML=u;w&&r(v,w);p({g:k,i:w,h:v});return v.innerHTML};window.prettyPrint=function(E){function v(){for(var L=window.PR_SHOULD_USE_CONTINUATION?w.now()+250:Infinity;u<A.length&&w.now()<L;u++){var O=A[u],I=O.className;if(I.indexOf("prettyprint")>=0){var I=I.match(B),K,H;if(H=!I){H=O;for(var M=void 0,N=H.firstChild;N;N=N.nextSibling){var J=N.nodeType,M=J===1?M?H:N:J===3?b.test(N.nodeValue)?H:M:M}H=(K=M===H?void 0:M)&&"CODE"===K.tagName}H&&(I=K.className.match(B));I&&(I=I[1]);H=!1;for(M=O.parentNode;M;M=M.parentNode){if((M.tagName==="pre"||M.tagName==="code"||M.tagName==="xmp")&&M.className&&M.className.indexOf("prettyprint")>=0){H=!0;break}}H||((H=(H=O.className.match(/\blinenums\b(?::(\d+))?/))?H[1]&&H[1].length?+H[1]:!0:!1)&&r(O,H),D={g:I,h:O,i:H},p(D))}}u<A.length?setTimeout(v,250):E&&E()}for(var C=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],A=[],x=0;x<C.length;++x){for(var F=0,G=C[x].length;F<G;++F){A.push(C[x][F])}}var C=q,w=Date;w.now||(w={now:function(){return +new Date}});var u=0,D,B=/\blang(?:uage)?-([\w.]+)(?!\S)/;v()};window.PR={createSimpleLexer:h,registerLangHandler:z,sourceDecorator:o,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}})();(function(g){var e=(new Image()).style,d="ransition",h,f;f=g.support.csstransitions=(h="t"+d) in e&&h||(h="webkitT"+d) in e&&h||(h="MozT"+d) in e&&h||(h="OT"+d) in e&&h||(h="MST"+d) in e&&h||false;g.support.csstransitionsEnd=(f=="MozTransition"&&"transitionend")||(f=="OTransition"&&(parseInt(jQuery.browser.version,10)>=12?"otransitionend":"oTransitionEnd"))||(f&&f+"End");g.support.csstransitionsPrefix={MozTransition:"-moz-",webkitTransition:"-webkit-",OTransition:"-o-",MSTransition:"-ms-"}[f]}(jQuery));if(!jQuery.easing.easeInQuad){jQuery.extend(jQuery.easing,{easeInQuad:function(e,f,a,h,g){return h*(f/=g)*f+a},easeOutQuad:function(e,f,a,h,g){return -h*(f/=g)*(f-2)+a},easeInOutQuad:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f+a}return -h/2*((--f)*(f-2)-1)+a},easeInCubic:function(e,f,a,h,g){return h*(f/=g)*f*f+a},easeOutCubic:function(e,f,a,h,g){return h*((f=f/g-1)*f*f+1)+a},easeInOutCubic:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f+a}return h/2*((f-=2)*f*f+2)+a},easeInOutQuint:function(e,f,a,h,g){if((f/=g/2)<1){return h/2*f*f*f*f*f+a}return h/2*((f-=2)*f*f*f*f+2)+a},easeInExpo:function(e,f,a,h,g){return(f===0)?a:h*Math.pow(2,10*(f/g-1))+a},easeOutExpo:function(e,f,a,h,g){return(f==g)?a+h:h*(-Math.pow(2,-10*f/g)+1)+a},easeInOutExpo:function(e,f,a,h,g){if(f===0){return a}if(f==g){return a+h}if((f/=g/2)<1){return h/2*Math.pow(2,10*(f-1))+a}return h/2*(-Math.pow(2,-10*--f)+2)+a},easeInElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h===0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;i=j/4}else{i=j/(2*Math.PI)*Math.asin(l/g)}return -(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e},easeOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h===0){return e}if((h/=k)==1){return e+l}if(!j){j=k*0.3}if(g<Math.abs(l)){g=l;i=j/4}else{i=j/(2*Math.PI)*Math.asin(l/g)}return g*Math.pow(2,-10*h)*Math.sin((h*k-i)*(2*Math.PI)/j)+l+e},easeInOutElastic:function(f,h,e,l,k){var i=1.70158;var j=0;var g=l;if(h===0){return e}if((h/=k/2)==2){return e+l}if(!j){j=k*(0.3*1.5)}if(g<Math.abs(l)){g=l;i=j/4}else{i=j/(2*Math.PI)*Math.asin(l/g)}if(h<1){return -0.5*(g*Math.pow(2,10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j))+e}return g*Math.pow(2,-10*(h-=1))*Math.sin((h*k-i)*(2*Math.PI)/j)*0.5+l+e},easeInBack:function(e,f,a,i,h,g){if(g===undefined){g=1.70158}return i*(f/=h)*f*((g+1)*f-g)+a},easeOutBack:function(e,f,a,i,h,g){if(g===undefined){g=1.70158}return i*((f=f/h-1)*f*((g+1)*f+g)+1)+a},easeInOutBack:function(e,f,a,i,h,g){if(g===undefined){g=1.70158}if((f/=h/2)<1){return i/2*(f*f*(((g*=(1.525))+1)*f-g))+a}return i/2*((f-=2)*f*(((g*=(1.525))+1)*f+g)+2)+a},easeInBounce:function(e,f,a,h,g){return h-jQuery.easing.easeOutBounce(e,g-f,0,h,g)+a},easeOutBounce:function(e,f,a,h,g){if((f/=g)<(1/2.75)){return h*(7.5625*f*f)+a}else{if(f<(2/2.75)){return h*(7.5625*(f-=(1.5/2.75))*f+0.75)+a}else{if(f<(2.5/2.75)){return h*(7.5625*(f-=(2.25/2.75))*f+0.9375)+a}else{return h*(7.5625*(f-=(2.625/2.75))*f+0.984375)+a}}}},easeInOutBounce:function(e,f,a,h,g){if(f<g/2){return jQuery.easing.easeInBounce(e,f*2,0,h,g)*0.5+a}return jQuery.easing.easeOutBounce(e,f*2-g,0,h,g)*0.5+h*0.5+a}})};(function(a){a.pixelentity=a.pixelentity||{version:"1.0.0"};a.pixelentity.effects=a.pixelentity.effects||{version:"1.0.0"};a.pixelentity.effects.info=function(h){var g=a(h.currentTarget);var f=h.type=="mouseenter";if(f&&g.hasClass("disabled")){return}var c=g.data("bg")||(g.data("bg",a(g.find(".peOverElementInnerBG")))&&g.data("bg"));var j=g.data("text")||(g.data("text",a(g.find(".peOverElementText")))&&g.data("text"));var d=g.data("icon")||(g.data("icon",a(g.find(".peOverElementIcon")))&&g.data("icon"));var i=g.data("iconBG")||(g.data("iconBG",a(g.find(".peOverElementIconBG")))&&g.data("iconBG"));var b=g.width();if(b<140){g.removeClass("peOverSmall").addClass("peOverXSmall")}else{if(b<200){g.removeClass("peOverXSmall").addClass("peOverSmall")}else{g.removeClass("peOverXSmall").removeClass("peOverSmall")}}if(c.length>0){c.stop().fadeTo(0,f?0:0.3).fadeTo(300,f?0.3:0)}if(j.length>0){j.stop().delay(f?200:0).animate({opacity:f?1:0,"margin-top":f?0:10},300)}if(d.length>0){d.stop().delay(f?200:0).animate({opacity:f?1:0},300,"easeOutQuad")}if(!a.support.csstransitions&&i.length>0){i.stop().animate({opacity:f?1:0},300)}}}(jQuery));(function(b){b.pixelentity=b.pixelentity||{version:"1.0.0"};b.pixelentity.effects=b.pixelentity.effects||{version:"1.0.0"};function d(){return !!document.createElement("canvas").getContext}function c(j,l){var o;if(d()){var q=j[0].naturalWidth||j[0].width||j.width();var k=j[0].naturalHeight||j[0].height||j.height();o=document.createElement("canvas");o.width=q;o.height=k;var s=o.getContext("2d");s.drawImage(j[0],0,0);var m=s.getImageData(0,0,q,k),e=m.data;var f=e.length;var r,g;for(g=0;g<f;g+=4){r=e[g]*0.3+e[g+1]*0.59+e[g+2]*0.11;r=((r*r*r)/(255*200));r=r>255?255:r;e[g]=e[g+1]=e[g+2]=r}s.putImageData(m,0,0);o=b(o)}else{if(b.browser.msie){o=j.clone();o[0].style.filter="gray"}}if(o){o.css({"z-index":10,position:"absolute"});o.fadeTo(0,0);l.data("bw",o).prepend(o);if(l.data("over")){a(l)}}}function a(e){var f=e.data("bw");f.width(e.width()).height(e.height());f.stop().fadeTo(e.data("over")?500:300,e.data("over")?1:0,"easeOutQuad")}b.pixelentity.effects.bw=function(i){var h=b(i.currentTarget);var f=h.data("bw");h.data("over",i.type==="mouseenter");if(!f){var g=h.find("img:first");h.data("bw","loading");b.pixelentity.preloader.load(g,function(e){c(e,h)})}else{if(f!="loading"){a(h)}}}}(jQuery));String.prototype.format=function(){var c=this;for(var a=0;a<arguments.length;a++){var b=new RegExp("%"+a,"gi");c=c.replace(b,arguments[a])}return c};(function(d){var b=["DOMMouseScroll","mousewheel"];if(d.event.fixHooks){for(var a=b.length;a;){d.event.fixHooks[b[--a]]=d.event.mouseHooks}}d.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var e=b.length;e;){this.addEventListener(b[--e],c,false)}}else{this.onmousewheel=c}},teardown:function(){if(this.removeEventListener){for(var e=b.length;e;){this.removeEventListener(b[--e],c,false)}}else{this.onmousewheel=null}}};d.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}});function c(j){var h=j||window.event,g=[].slice.call(arguments,1),k=0,i=true,f=0,e=0;j=d.event.fix(h);j.type="mousewheel";if(h.wheelDelta){k=h.wheelDelta/120}if(h.detail){k=-h.detail/3}e=k;if(h.axis!==undefined&&h.axis===h.HORIZONTAL_AXIS){e=0;f=-1*k}if(h.wheelDeltaY!==undefined){e=h.wheelDeltaY/120}if(h.wheelDeltaX!==undefined){f=-1*h.wheelDeltaX/120}g.unshift(j,k,f,e);return(d.event.dispatch||d.event.handle).apply(this,g)}})(jQuery);(function(e){e.pixelentity=e.pixelentity||{version:"1.0.0"};var d=navigator.userAgent.toLowerCase();var b=d.match(/(iphone|ipod|ipad)/)!==null;var a=!b&&d.match(/android ([^;]+)/);if(a){a=a[1].split(/\./);a=parseFloat(a.shift()+"."+a.join(""))}else{a=false}var c=(b||a||d.match(/(android|blackberry|webOS|opera mobi)/)!==null);e.pixelentity.browser={iDev:b,android:a,mobile:c}}(jQuery));(function(a){a.pixelentity=a.pixelentity||{version:"1.0.0"};a.pixelentity.Geom={getScaler:function(o,j,k,n,g,i,c){var e={};var d=n/i;var m=g/c;var b;if(typeof o=="string"){switch(o){case"fill":case"fillmax":b=d>m?d:m;if(o=="fill"){b=Math.min(1,b)}break;case"fit":case"fitmax":b=d<m?d:m;if(o=="fit"){b=Math.min(1,b)}break;case"none":b=1;break}}else{b=o}e.ratio=b;e.diff={};e.offset={};e.align={w:j,h:k};var l=e.diff;var f=e.offset;l.w=f.w=Math.round((n-i*b)*10000)/10000;l.h=f.h=Math.round((g-c*b)*10000)/10000;switch(j){case"center":f.w=l.w/2;break;case"left":f.w=0;break}switch(k){case"center":f.h=l.h/2;break;case"top":f.h=0;break}return e},splitProps:function(b,d){var c=b.split(/,/);return d?{h:parseFloat(c[0]),w:parseFloat(c[1])}:{h:c[0],w:c[1]}}}}(jQuery));(function(c){c.pixelentity=c.pixelentity||{version:"1.0.0"};if(c.pixelentity.preloader){return}function b(i){var h=c(i.currentTarget);var f;while(h.data("peUtilsLoader")&&(f=h.data("peUtilsLoader").shift())){if(--f.total<=0){var d=f.callback;var g=f.target;h.unbind("load error",b);if(typeof d==="function"){d(g)}}}}var a=c.pixelentity.preloader={load:function(g,k,j){g=(g instanceof jQuery)?g:c(g);var d=(g[0].tagName.toLowerCase()=="img")?[g[0]]:g.find("img").get();var i;var h=[];var e;while((i=d.shift())){e=i.complete;if(!(i.src&&e&&!(i.src.match(/blank.png$/i)!==null&&i.getAttribute("data-src")))){h.push(i)}}if(h.length>0){var f={target:g,callback:k,total:h.length};while((i=h.shift())){i=c(i);if(!j&&c.browser.msie&&i[0].src.match(/blank.png$/i)!==null){i.removeAttr("src");i.replaceWith(i.clone());if(!i.attr("data-src")){f.total--}}if(i.data("peUtilsLoader")){i.data("peUtilsLoader").push(f)}else{i.data("peUtilsLoader",[f])}i.one("load error",b);if(i.attr("data-src")){i.attr("src",i.attr("data-src"));i.removeAttr("data-src")}else{if(c.browser.msie){i.attr("src",i.attr("src"))}}i=undefined}}else{k(g)}},clear:function(g,i){g=(g instanceof jQuery)?g:c(g);var e=(g[0].tagName.toLowerCase()=="img")?[g[0]]:g.find("img").get();var h,f,d;while((h=e.shift())){h=c(h);while(h.data("peUtilsLoader")&&(f=h.data("peUtilsLoader").shift())){d=f.callback;if(d===i){f.callback=false;break}}}}}}(jQuery));(function(e){var k="0px 0px";var j="bilinear";var f=/progid:DXImageTransform\.Microsoft\.Matrix\(.*?\)/;var c=document.createElement("modernizr"),d=c.style;function i(){var m={transformProperty:"",MozTransform:"-moz-",WebkitTransform:"-webkit-",OTransform:"-o-",msTransform:"-ms-"};for(var n in m){if(typeof d[n]!="undefined"){return m[n]}}return null}function l(){var n=["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"];for(var m in n){if(d[n[m]]!==undefined){return true}}return false}var a=i(),g=a!==null?a+"transform":false,h=a!==null?a+"transform-origin":false;e.support.csstransforms=l();e.support.hw3dTransform=("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix());if(a=="-ms-"){g="msTransform";h="msTransformOrigin"}function b(o,s,z,y,v,q,x,p){if(e.support.csstransforms&&!p){var t;var u="px";if(v&&q&&(parseInt(z,10)!=z||parseInt(y,10)!=y)){z=100*z/v;y=100*y/q;z=parseInt(z*1000,10)/1000;y=parseInt(y*1000,10)/1000;u="%"}else{z=parseInt(z,10);y=parseInt(y,10)}if(e.support.hw3dTransform){t=(z!==undefined)?"translate3d("+z+u+","+y+u+",0) ":"translateZ(0) "}else{t=(z!==undefined)?"translate("+z+u+","+y+u+") ":""}e(o).css(h,k).css(g,t+"scale("+s+")")}else{if(!x&&!p&&e.browser.msie){var m=o.style;var r='progid:DXImageTransform.Microsoft.Matrix(FilterType="'+j+'",M11='+s+",M12=0,M21=0,M22="+s+",Dx="+z+",Dy="+y+")";var n=m.filter||e.curCSS(o,"filter")||"";m.filter=f.test(n)?n.replace(f,r):n?n+" "+r:r}else{e(o).width(v*s).height(q*s).css({"margin-left":z+"px","margin-top":y+"px"})}}}e.fn.transform=function(r,p,o,n,q,m,s){this.each(function(){b(this,r,p,o,n,q,m,s)});return this}}(jQuery));(function(e){e.pixelentity=e.pixelentity||{version:"1.0.0"};if(e.pixelentity.youtube){return}var f=false;var a=window.YT&&window.YT.Player;var d=[];function b(){for(var g=0;g<d.length;g++){d[g](a)}}function c(){if(f){return}f=true;var g=document.createElement("script");g.src="http://www.youtube.com/player_api";var h=document.getElementsByTagName("script")[0];h.parentNode.insertBefore(g,h);window.onYouTubePlayerAPIReady=function(){a=YT.Player;b()}}e.pixelentity.youtube=function(g){if(a){g(a)}else{d.push(g);c()}}}(jQuery));var Froogaloop=(function(){function c(m){return new c.fn.init(m)}var l={},e=false,k=Array.prototype.slice;c.fn=c.prototype={playerDomain:"",element:null,init:function(m){if(typeof m==="string"){m=document.getElementById(m)}this.element=m;return this},api:function(s,p){if(!this.element||!s){return false}var m=this,o=m.element,n=o.id!=""?o.id:null,q=!d(p)?p:null,r=d(p)?p:null;if(r){i(s,r,n)}j(s,q,o);return m},addEvent:function(n,q){if(!this.element){return false}var m=this,p=m.element,o=p.id!=""?p.id:null;i(n,q,o);if(n!="ready"){j("addEventListener",n,p)}if(e){return m}playerDomain=a(p.getAttribute("src"));if(window.addEventListener){window.addEventListener("message",b,false)}else{window.attachEvent("onmessage",b,false)}e=true;return m},removeEvent:function(n){if(!this.element){return false}var m=this,p=m.element,o=p.id!=""?p.id:null,q=f(n,o);if(n!="ready"&&q){j("removeEventListener",n,p)}}};function j(q,p,o){if(!o||!o.contetWindow||!o.contentWindow.postMessage){return false}var m=o.getAttribute("src").split("?")[0],n=JSON.stringify({method:q,value:p});o.contentWindow.postMessage(n,m)}function b(o){if(o.origin!=playerDomain){return false}var q=JSON.parse(o.data),p=q.value,t=q.event||q.method,n=q.data,m=m==""?null:q.player_id,s=g(t,m),r=[];if(!s){return false}if(p!==undefined){r.push(p)}if(n){r.push(n)}if(m){r.push(m)}return r.length>0?s.apply(null,r):s.call()}function i(m,o,n){if(n){if(!l[n]){l[n]={}}l[n][m]=o}else{l[m]=o}}function g(m,n){if(n){return l[n][m]}else{return l[m]}}function f(m,n){if(n&&l[n]){if(!l[n][m]){return false}l[n][m]=null}else{if(!l[m]){return false}l[m]=null}return true}function a(n){var q=n.split("/"),m="";for(var o=0,p=q.length;o<p;o++){if(o<3){m+=q[o]}else{break}if(o<2){m+="/"}}return m}function d(m){return !!(m&&m.constructor&&m.call&&m.apply)}function h(m){return toString.call(m)==="[object Array]"}c.fn.init.prototype=c.fn;return(window.Froogaloop=c)})();(function(c){c.pixelentity=c.pixelentity||{version:"1.0.0"};if(c.pixelentity.vimeo){return}var a=0;function b(h,e){var d=this;var f;function j(){a++;var k=c('<iframe id="pe_vimeo_player'+a+'" src="http://player.vimeo.com/video/'+e.videoId+"?autoplay="+(e.playerVars.autoplay?1:0)+"&loop="+(e.playerVars.loop?1:0)+"&api=1&player_id=pe_vimeo_player"+a+"&origin="+location.href.match(/:\/\/(.[^\/]+)/)[1]+'" width="'+e.width+'" height="'+e.height+'" frameborder="0"></iframe>')[0];c(h).append(k);f=new Froogaloop(k);f.addEvent("ready",g);setTimeout(g,4000)}function g(){if(f){f.removeEvent("ready",g);c(d).trigger("video_ready.pixelentity");f.addEvent("finish",i)}}function i(){c(d).trigger("video_ended.pixelentity")}c.extend(d,{destroy:function(){if(f){f.removeEvent("ready",g);f.removeEvent("finish",i);c(f.element).remove();delete f.element;f=undefined}d=undefined}});j()}c.pixelentity.vimeo=function(d){d(b)}}(jQuery));jQuery(function($){if($.browser.msie){(function(){if(!
/*@cc_on!@*/
0){return}var e="div,audio,video,source".split(",");for(var i=0;i<e.length;i++){document.createElement(e[i])}})();if(!Array.prototype.indexOf){Array.prototype.indexOf=function(obj,start){for(var i=(start||0),j=this.length;i<j;i++){if(this[i]==obj){return i}}return -1}}}var projekktors=[];function Iterator(arr){this.length=arr.length;this.each=function(fn){$.each(arr,fn)};this.size=function(){return arr.length}}if($.prop==undefined||$().jquery<"1.6"){$.fn.prop=function(arga,argb){return $(this).attr(arga,argb)}}projekktor=$p=function(){var arg=arguments[0],instances=[];if(!arguments.length){return projekktors[0]||null}if(typeof arg=="number"){return projekktors[arg]}if(typeof arg=="string"){if(arg=="*"){return new Iterator(projekktors)}for(var i=0;i<projekktors.length;i++){try{if(projekktors[i].getId()==arg.id){instances.push(projekktors[i]);continue}}catch(e){}try{for(var j=0;j<$(arg).length;j++){if(projekktors[i].env.playerDom.get(0)==$(arg).get(j)){instances.push(projekktors[i]);continue}}}catch(e){}try{if(projekktors[i].getParent()==arg){instances.push(projekktors[i]);continue}}catch(e){}try{if(projekktors[i].getId()==arg){instances.push(projekktors[i]);continue}}catch(e){}}if(instances.length>0){return(instances.length==1)?instances[0]:new Iterator(instances)}}if(instances.length==0){var cfg=arguments[1]||{};var callback=arguments[2]||{};if(typeof arg=="string"){var count=0,playerA;$.each($(arg),function(){playerA=new PPlayer($(this),cfg,callback);projekktors.push(playerA);count++});return(count>1)?new Iterator(projekktors):playerA}else{if(arg){projekktors.push(new PPlayer(arg,cfg,callback));return new Iterator(projekktors)}}}return null;function PPlayer(srcNode,cfg,onReady){this.config=new projekktorConfig("0.9.08");this._persCfg=["enableNativePlayback","enableFlashFallback"];this._queue=[];this.env={muted:false,inFullscreen:false,playerStyle:null,scrollTop:null,scrollLeft:null,bodyOverflow:null,playerDom:null,mediaContainer:null,agent:"standard",mouseIsOver:false,loading:false,autoSize:false,className:"",onReady:onReady};this.media=[null];this._plugins=[];this.listeners=[];this.playerModel={};this._isReady=false;this._compTableCache=false;this._currentItem=0;this._playlistServer="";this._id="";this._reelUpdate=function(obj){this.env.loading=true;switch(typeof obj){default:obj=[{file:"",type:"",errorCode:98}];break;case"object":if(obj.length==0){obj=[{file:"",type:"",errorCode:97}]}break;case"undefined":obj=[{file:"",type:"",errorCode:97}];break}var ref=this,data=obj;this.media=[];try{var changes=false;for(var props in data.config){if(typeof data.config[props].indexOf("objectfunction")>-1){continue}this.config[props]=this._cleanValue(data.config[props]);changes=true}delete (data.config);if(changes===true){this._debug("Updated config var: "+props+" to "+this.config[props]);this._promote("configModified")}}catch(e){}var files=data.playlist||data;for(var item in files){if(typeof files[item]=="function"){continue}if(typeof files[item]==undefined){continue}if(files[item]){this._addItem(this._prepareMedia({file:files[item],config:files[item].config||{},errorCode:files[item].errorCode}))}}this.env.loading=false;this._promote("scheduled",this.getItemCount());this._syncPlugins(function(){ref.setActiveItem(0)})};this._addItem=function(data,idx,replace){var resultIdx=0;if(this.media.length===1&&this.media[0].mediaModel=="NA"){this._detachplayerModel();this.media=[]}if(idx===undefined||idx<0||idx>this.media.length-1){this.media.push(data);resultIdx=this.media.length-1}else{this.media.splice(idx,(replace===true)?1:0,data);resultIdx=idx}if(this.env.loading===false){this._promote("scheduleModified",this.getItemCount())}return resultIdx};this._removeItem=function(idx){var resultIdx=0;if(this.media.length===1){if(this.media[0].mediaModel=="NA"){return 0}else{this.media[0]=this._prepareMedia({file:""});return 0}}if(idx===undefined||idx<0||idx>this.media.length-1){this.media.pop();resultIdx=this.media.length}else{this.media.splice(idx,1);resultIdx=idx}if(this.env.loading===false){this._promote("scheduleModified",this.getItemCount())}return resultIdx};this._prepareMedia=function(data){var mediaFile="",extTypes={},typesModels={},errorCode=data.errorCode||7,priority=[],modelSets=[];result={};var extRegEx=[];for(var i in $p.mmap){if($p.mmap[i].platform&&$p.mmap[i].platform.toUpperCase()=="FLASH"){if(!this.getFlashVersion()>0){continue}if(this.getConfig("enableFlashFallback")==false){continue}}if($p.mmap[i].platform&&$p.mmap[i].platform.toUpperCase()=="NATIVE"){if(!this.getCanPlayNatively($p.mmap[i].type)){continue}if(this.getConfig("enableNativePlayback")==false){continue}if(data.config&&data.config.flashStreamType=="rtmp"){continue}}$p.mmap[i].level=this.config._platformPriority.indexOf($p.mmap[i].platform);$p.mmap[i].level=($p.mmap[i].level<0)?100:$p.mmap[i].level;extRegEx.push("."+$p.mmap[i].ext);if(!extTypes[$p.mmap[i].ext]){extTypes[$p.mmap[i].ext]=new Array()}extTypes[$p.mmap[i].ext].push($p.mmap[i]);if(!typesModels[$p.mmap[i].type]){typesModels[$p.mmap[i].type]=new Array()}typesModels[$p.mmap[i].type].push($p.mmap[i])}extRegEx="^.*.("+extRegEx.join("|")+")$";if(typeof data.file=="string"){data.file=[{src:data.file}];if(typeof data.type=="string"){data.file=[{src:data.file,type:data.type}]}}if(data.file===false){data.file=[{src:""}]}for(var index in data.file){if(index=="config"){continue}if(typeof data.file[index]=="string"){data.file[index]={src:data.file[index]}}if(data.file[index].src==undefined){continue}try{data.file[index].ext=data.file[index].src.match(new RegExp(extRegEx))[1];data.file[index].ext=(!data.file[index].ext)?"NaN":data.file[index].ext.replace(".","")}catch(e){data.file[index].ext="NaN"}if(data.file[index].type!==undefined&&data.file[index].type!==""){try{var codecMatch=data.file[index].type.split(" ").join("").split(/[\;]codecs=.([a-zA-Z0-9\,]*)[\'|\"]/i);if(codecMatch[1]!==undefined){data.file[index].codec=codecMatch[1];data.file[index].type=codecMatch[0]}}catch(e){}if(typesModels[data.file[index].type]){modelSets=$.merge(modelSets,typesModels[data.file[index].type])}}else{if(extTypes[data.file[index].ext]){modelSets=$.merge(modelSets,extTypes[data.file[index].ext])}}}if(modelSets.length==0){modelSets=typesModels["none/none"]}else{modelSets.sort(function(a,b){return a.level-b.level})}for(var index in data.file){if(data.file[index].type==modelSets[0].type||modelSets[0].type=="none/none"){result={setup:data.file,ID:this.randomId(8),type:data.file[index].type,ext:data.file[index].ext,file:(data.config.flashStreamType!="rtmp")?this.toAbsoluteURL(data.file[index].src):data.file[index].src,mediaModel:modelSets[0].model||"NA",errorCode:errorCode,config:data.config||{}};break}}return result};this._modelUpdateListener=function(type,value){var ref=this;if(!this.playerModel.init){return}if(type!="time"&&type!="progress"){this._debug("Received model Update: '"+type+"' ("+value+") while handling '"+this.playerModel.getFile()+"' using '"+this.playerModel.getModelName()+"'")}switch(type){case"state":this._promote("state",value);switch(value){case"IDLE":case"AWAKENING":case"BUFFERING":case"PLAYING":break;case"ERROR":this._promote("error",{});break;case"STOPPED":this._promote("stopped",{});break;case"PAUSED":if(this.getConfig("disablePause")===true){this.playerModel.applyCommand("play",0)}break;case"COMPLETED":if(this._currentItem+1>=this.media.length){if(this.getInFullscreen()===true){this.setFullscreen(false)}this._promote("done",{})}this.setActiveItem("next");break}break;case"buffer":this._promote("buffer",value);break;case"modelReady":this._promote("item",ref._currentItem);break;case"displayReady":this._promote("displayReady",true);this._addGUIListeners();this._syncPlugins();break;case"FFreinit":break;case"seek":this._promote("seek",{dest:value});break;case"volume":this.setConfig({volume:value});this._promote("volume",value);if(value<=0){this.env.muted=true;this._promote("mute",value)}else{if(this.env.muted==true){this.env.muted=false;this._promote("unmute",value)}}break;case"resume":case"progress":case"time":case"fullscreen":case"resize":case"start":this._promote(type,value);break;case"playlist":this.setFile(value,true);break;case"config":this.setConfig(value);break;case"scaled":if(this.env.autoSize===true){this.env.playerDom.css({height:value.realHeight+"px",width:value.realWidth+"px"});this._promote("resize",value);this.env.autoSize=false;break}this._promote("scaled",value);break}};this._syncPlugins=function(callback){var ref=this;this.env.loading=true;(function(){try{if(ref._plugins.length>0){for(var i=0;i<ref._plugins.length;i++){if(ref._plugins[i].pluginReady!==true){setTimeout(arguments.callee,50);return}}}ref.env.loading=false;ref._promote("pluginsReady",{});if(ref._isReady===true){ref._promote("ready",ref.getItemIdx())}try{callback()}catch(e){}}catch(e){}})()};this._MD=function(event){projekktor("#"+event.currentTarget.id.replace("_media",""))._displayMousedownListener(event)};this._addGUIListeners=function(){var ref=this;this._removeGUIListeners();if(this.getDC().get(0).addEventListener){this.getDC().get(0).addEventListener("mousedown",this._MD,true)}else{this.getDC().mousedown(function(event){ref._displayMousedownListener(event)})}this.getDC().mousemove(function(event){ref._displayMousemoveListener(event)}).mouseenter(function(event){ref._displayMouseEnterListener(event)}).mouseleave(function(event){ref._displayMouseLeaveListener(event)});$(window).bind("resize.projekktor"+this.getId(),function(){ref.playerModel.applyCommand("resize")});if(this.config.enableKeyboard===true){if(!$.browser.mozilla){$(document.documentElement).unbind("keydown.pp"+this._id);$(document.documentElement).bind("keydown.pp"+this._id,function(evt){ref._keyListener(evt)})}else{$(document.documentElement).unbind("keypress.pp"+this._id);$(document.documentElement).bind("keypress.pp"+this._id,function(evt){ref._keyListener(evt)})}}};this._removeGUIListeners=function(){$("#"+this.getId()).unbind();this.getDC().unbind();if(this.getDC().get(0).removeEventListener){this.getDC().get(0).removeEventListener("mousedown",this._MD,true)}else{this.getDC().get(0).detachEvent("onmousedown",this._MD)}$(window).unbind("resize.projekktor"+this.getId())};this._registerPlugins=function(){var plugins=$.merge($.merge([],this.config._plugins),this.config._addplugins);if(this._plugins.length>0){return}if(plugins==0){return}for(var i=0;i<plugins.length;i++){var pluginName="projekktor"+plugins[i];try{typeof eval(pluginName)}catch(e){continue}var pluginObj=$.extend(true,{},new projekktorPluginInterface(),eval(pluginName).prototype);pluginObj.name=plugins[i].toLowerCase();pluginObj.pp=this;pluginObj.playerDom=this.env.playerDom;pluginObj._init(this.config["plugin_"+plugins[i].toLowerCase()]||{});this._plugins.push(pluginObj)}};this.removePlugin=function(rmvPl){if(this._plugins.length==0){return}var pluginsToRemove=rmvPl||$.merge($.merge([],this.config._plugins),this.config._addplugins),pluginsRegistered=this._plugins.length;for(var j=0;j<pluginsToRemove.length;j++){for(var k=0;k<pluginsRegistered;k++){if(this._plugins[k]!=undefined){if(this._plugins[k].name==pluginsToRemove[j].toLowerCase()){this._plugins[k].deconstruct();this._plugins.splice(k,1)}}}}};this._promote=function(evt,value){var event=evt,pluginData={};if(typeof event=="object"){if(!event._plugin){return}value.PLUGIN=event._plugin+"";value.EVENT=event._event+"";event="pluginevent"}if(event!="time"&&event!="progress"&&event!="mousemove"){this._debug("Fireing :"+event)}if(this._plugins.length>0){for(var i in this._plugins){try{this._plugins[i][event+"Handler"](value,this)}catch(e){}}}if(this.listeners.length>0){for(var i in this.listeners){try{if(this.listeners[i]["event"]==event||this.listeners[i]["event"]=="*"){this.listeners[i]["callback"](value,this)}}catch(e){}}}};this._detachplayerModel=function(){this._removeGUIListeners();try{this.playerModel.destroy()}catch(e){}this._promote("detach",{})};this._displayMousedownListener=function(evt){if(!this.env.mouseIsOver){return}switch(evt.which){case 1:this._promote("leftclick",evt);break;case 2:this._promote("middleclick",evt);break;case 3:evt.stopPropagation();evt.preventDefault();$(document).bind("contextmenu",function(evt){$(document).unbind("contextmenu");return false});this._promote("rightclick",evt);break}return false};this._displayMousemoveListener=function(evt){if("TEXTAREA|INPUT".indexOf(evt.target.tagName.toUpperCase())>-1){this.env.mouseIsOver=false}this._promote("mousemove",{});evt.stopPropagation()};this._displayMouseEnterListener=function(evt){this._promote("mouseenter",{});this.env.mouseIsOver=true;evt.stopPropagation()};this._displayMouseLeaveListener=function(evt){this._promote("mouseleave",{});this.env.mouseIsOver=false;evt.stopPropagation()};this._keyListener=function(evt){if(!this.env.mouseIsOver){return}evt.stopPropagation();evt.preventDefault();this._debug("Keypress: "+evt.keyCode);this._promote("key",evt.keyCode);switch(evt.keyCode){case 27:this.setFullscreen(false);break;case 13:this.setFullscreen(true);break;case 39:this.setActiveItem("next");break;case 37:this.setActiveItem("previous");break;case 123:break;default:this.setPlayPause();break}return false};this._enterFullViewport=function(){if(this.env.inFullscreen===true){return}this.env.scrollTop=$(window).scrollTop();this.env.scrollLeft=$(window).scrollLeft();this.env.playerStyle=this.getDC().attr("style");this.env.bodyOverflow=$("body").css("overflow");$(window).scrollTop(0).scrollLeft(0);if(($.browser.mozilla)&&this.getUsesFlash()){}else{$("body").css("overflow","hidden")}this.env.playerDom.css({position:"fixed",display:"block",top:0,left:0,width:"100%",height:"100%",zIndex:99997});this.env.inFullscreen=true};this._exitFullViewport=function(){if(this.env.inFullscreen===false){return}this.getDC().attr("style",this.env.playerStyle);$("body").css("overflow",this.env.bodyOverflow);$(window).scrollTop(this.env.scrollTop);$(window).scrollLeft(this.env.scrollLef);if(this.getDC().width()!=this.config._width||this.getDC().height()!=this.config._height){this.getDC().css({width:this.config._width+"px",height:this.config._height+"px"})}this._modelUpdateListener("resize");this.env.inFullscreen=false};this._enterIframeFullViewport=function(){if(this.env.inFullscreen===true){return}var win=this.getIframeWindow(),iframe=this.getIframe();if(!win||!iframe){return}this.env.scrollTop=win.scrollTop();this.env.scrollLeft=win.scrollLeft();this.env.playerStyle=iframe.attr("style");this.env.iframeWidth=iframe.attr("width");this.env.iframeHeight=iframe.attr("height");this.env.bodyOverflow=$(win[0].document.body).css("overflow");win.scrollTop(0);win.scrollLeft(0);$(win[0].document.body).css("overflow","hidden");iframe.css({position:"fixed",display:"block",top:0,left:0,width:"100%",height:"100%",zIndex:9999});this.env.inFullscreen=true};this._exitIframeFullViewport=function(){if(this.env.inFullscreen===false){return}var win=this.getIframeWindow();var iframe=this.getIframe();if(!win||!iframe){return}win.scrollTop(this.env.scrollTop);win.scrollLeft(this.env.scrollLef);$(win[0].document.body).css("overflow",this.env.bodyOverflow);iframe.attr("width",this.env.iframeWidth+"px");iframe.attr("height",this.env.iframeHeight+"px");iframe.attr("style",(this.env.playerStyle==undefined)?"":this.env.playerStyle);this.env.inFullscreen=false};this.getItemConfig=function(name,itemIdx){return this.getConfig(name,itemIdx)};this.getConfig=function(name,itemIdx){var idx=itemIdx||this._currentItem,result=undefined,playerCfg=(this.config["_"+name])?this.config["_"+name]:this.config[name];if(playerCfg!==undefined){result=playerCfg;if($.inArray(name,this._persCfg)>-1){if(this._cookie(name)!==null){result=this._cookie(name)}}if(this.config["_"+name]==undefined){try{if(this.media[idx]["config"][name]!==undefined){result=this.media[idx]["config"][name]}}catch(e){}}}else{if(name.indexOf("plugin_")>-1){try{if(this.media[idx]["config"][name]){result=this.media[idx]["config"][name]}}catch(e){}}}return result};this.getItemCount=function(){return this.media.length};this.getDC=function(){return this.env.playerDom};this.getState=function(isThis){var result=null;try{result=this.playerModel.getState()}catch(e){result="IDLE"}if(isThis!=null){return(result==isThis.toUpperCase())}return result};this.getLoadProgress=function(){try{return this.playerModel.getLoadProgress()}catch(e){return 0}};this.getKbPerSec=function(){try{return this.playerModel.getKbPerSec()}catch(e){return 0}};this.getItemId=function(idx){if(idx==undefined){return this.media[this._currentItem].ID}return this.media[idx].ID};this.getItemIdx=function(){return this._currentItem};this.getItem=function(){arg=arguments[0]||"current";switch(arg){case"next":return $.extend(true,[],this.media[this._currentItem+1]);case"prev":return $.extend(true,[],this.media[this._currentItem-1]);case"current":return $.extend(true,[],this.media[this._currentItem]);case"*":return $.extend(true,[],this.media);default:return $.extend(true,[],this.media[arg])}};this.getVolume=function(){return(this.getConfig("fixedVolume")===true)?this.config.volume:this.getConfig("volume")};this.getTrackId=function(){if(this.getConfig("trackId")){return this.config.trackId}if(this._playlistServer!=null){return"pl"+this._currentItem}return null};this.getLoadPlaybackProgress=function(){try{return this.playerModel.getLoadPlaybackProgress()}catch(e){return 0}};this.getDuration=function(){try{return this.playerModel.getDuration()}catch(e){return 0}};this.getPosition=function(){try{return this.playerModel.getPosition()||0}catch(e){return 0}};this.getTimeLeft=function(){try{return this.playerModel.getDuration()-this.playerModel.getPosition()}catch(e){return this.media[this._currentItem].duration}};this.getInFullscreen=function(){return this.env.inFullscreen};this.getMediaContainer=function(){if(this.env.mediaContainer==null){this.env.mediaContainer=$("#"+this.getMediaId())}if(this.env.mediaContainer.length==0){if(this.env.playerDom.find("."+this.config._cssClassPrefix+"display").length>0){this.env.mediaContainer=$(document.createElement("div")).attr({id:this.getId()+"_media"}).css({overflow:"hidden",height:"100%",width:"100%",top:0,left:0,padding:0,margin:0,display:"block"}).appendTo(this.env.playerDom.find("."+this.config._cssClassPrefix+"display"))}else{this.env.mediaContainer=$(document.createElement("div")).attr({id:this.getMediaId()}).css({width:"1px",height:"1px"}).appendTo($(document.body))}}return this.env.mediaContainer};this.getMediaId=function(){return this.getId()+"_media"};this.getMediaType=function(){return this.media[this._currentItem].type};this.getUsesFlash=function(){return(this.playerModel.requiresFlash!==false)};this.getModel=function(){try{return this.media[this._currentItem].mediaModel}catch(e){return"NA"}};this.getIframeWindow=function(){try{return $(parent.window)}catch(e){return false}};this.getIframe=function(){try{return window.$(frameElement)}catch(e){return false}};this.getPlaylist=function(){return this.getItem("*")};this.getFlashVersion=function(){try{try{var axo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{axo.AllowScriptAccess="always"}catch(e){return"6,0,0"}}catch(e){}return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1].match(/\d+/g)[0]}catch(e){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin){return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].match(/\d+/g)[0]}}catch(e){}}return"0,0,0".match(/\d+/g)[0]};this.getCanPlayNatively=function(type){var checkFor=[];if(this._compTableCache==false){this._compTableCache=this._testMediaSupport()}switch(typeof type){case"undefined":if(this._compTableCache.media.length>0){return true}case"string":checkFor.push(type);break;case"array":checkFor=type;break}for(var i in checkFor){if($.inArray(checkFor[i],this._compTableCache.all)>-1){return true}}return false};this.getNativeFullscreenSupport=function(){if(typeof this.video.webkitEnterFullScreen=="function"){if(!navigator.userAgent.match("Chrome")&&!navigator.userAgent.match("Mac OS X 10.5")){return true}}return false};this.getId=function(){return this._id};this.getHasGUI=function(){try{return this.playerModel.getHasGUI()}catch(e){return false}};this.getCssPrefix=function(){return this.config._cssClassPrefix};this.getPlayerDimensions=function(){return{width:this.config._width,height:this.config._height}};this.getMediaDimensions=function(){return{width:this.config._width,height:this.config._height}};this.getFromUrl=function(url,dest,callback,customParser,dataType){var data=null,ref=this;if(dest==ref&&callback=="_reelUpdate"){this._promote("scheduleLoading",1+this.getItemCount())}if(callback.substr(0,1)!="_"){window[callback]=function(data){try{delete window[callback]}catch(e){}dest[callback](data)}}else{this["_jsonp"+callback]=function(data){dest[callback](data)}}if(dataType){if($.parseJSON==undefined&&dataType.indexOf("json")>-1){this._raiseError("Projekktor requires jQuery 1.4.2 in order to handle JSON playlists.");return this}dataType=(dataType.indexOf("/")>-1)?dataType.split("/")[1]:dataType}$.ajax({url:url,complete:function(xhr,status){if(dataType==undefined){try{if(xhr.getResponseHeader("Content-Type").indexOf("xml")>-1){dataType="xml"}if(xhr.getResponseHeader("Content-Type").indexOf("json")>-1){dataType="json"}if(xhr.getResponseHeader("Content-Type").indexOf("html")>-1){dataType="html"}}catch(e){}}switch(dataType){case"html":case"xml":if(window.DOMParser){data=new DOMParser();data=data.parseFromString(xhr.responseText,"text/xml")}else{data=new ActiveXObject("Microsoft.XMLDOM");data.async="false";data.loadXML(xhr.responseText)}break;case"json":data=xhr.responseText;if(typeof data=="string"){data=$.parseJSON(data)}break;case"jsonp":break;default:data=xhr.responseText;break}try{data=customParser(data,xhr.responseText)}catch(e){}if(status!="error"&&dataType!="jsonp"){dest[callback](data)}},error:function(data){if(dataType!="jsonp"){dest[callback](false)}},cache:true,dataType:dataType,jsonpCallback:(callback.substr(0,1)!="_")?false:"projekktor('"+this.getId()+"')._jsonp"+callback,jsonp:(callback.substr(0,1)!="_")?false:"callback"});return this};this.setActiveItem=function(mixedData){var newItem=0;var lastItem=this._currentItem;if(this.env.loading===true){return this}if(typeof mixedData=="string"){switch(mixedData){case"previous":if(this.getConfig("disallowSkip")==true&&!this.getState("COMPLETED")){return this}newItem=this._currentItem-1;break;case"next":if(this.getConfig("disallowSkip")==true&&!this.getState("COMPLETED")){return this}newItem=this._currentItem+1;break;default:case"poster":result=0;break}}else{if(typeof mixedData=="number"){newItem=parseInt(mixedData)}else{newItem=0}}if(newItem!=this._currentItem){if(this.getConfig("disallowSkip")==true&&!this.getState("COMPLETED")){return this}}this._detachplayerModel();var ap=false;if(newItem===0&&lastItem==0&&(this.config._autoplay===true||this.getState().indexOf("IDLE|STOPPED")>-1)){ap=true}else{if(this.getItemCount()>1&&newItem!=lastItem&&this.config._continuous===true&&newItem<this.getItemCount()){ap=true}}if(newItem>=this.getItemCount()||newItem<0){ap=this.config._loop;newItem=0}this._currentItem=newItem;this.getDC().attr("class",this.env.className);var newModel=this.media[this._currentItem].mediaModel.toUpperCase();if(!$p.models[newModel]){newModel="NA";this.media[this._currentItem].mediaModel=newModel;this.media[this._currentItem].errorCode=8}else{if(this.getConfig("className")!==false){this.getDC().addClass(this.getConfig("className"))}}this.playerModel=new playerModel();$.extend(this.playerModel,$p.models[newModel].prototype);this.playerModel._init({media:$.extend(true,{},this.media[this._currentItem]),model:newModel,pp:this,environment:$.extend(true,{},this.env),autoplay:ap});return this};this._enqueue=function(command,params,delay){this._queue.push({command:command,params:params,delay:delay});this._processQueue()};this._clearqueue=function(command,params){if(this._isReady!==true){return}this._queue=[]};this._processQueue=function(){var ref=this,modelReady=false;if(this._processing===true){return}if(this.env.loading===true){return}this._processing=true;(function(){modelReady=false;try{modelReady=ref.playerModel.getIsReady()}catch(e){}if(ref.env.loading!==true&&modelReady){var msg=ref._queue.shift();if(!msg){ref._processing=false;if(ref._isReady===false){ref._promote("ready",ref.getItemIdx());ref._isReady=true}return}if(typeof msg.command=="string"){if(msg.delay>0){setTimeout(function(){ref.playerModel.applyCommand(msg.command,msg.params)},msg.delay)}else{ref.playerModel.applyCommand(msg.command,msg.params)}}else{msg.command(ref)}arguments.callee();return}setTimeout(arguments.callee,100)})()};this.getIsLastItem=function(){return((this._currentItem==this.media.length-1)&&this.config._loop!==true)};this.getIsFirstItem=function(){return((this._currentItem==0)&&this.config._loop!==true)};this.getIsMobileClient=function(){var uagent=navigator.userAgent.toLowerCase();var mobileAgents=["android","windows ce","blackberry","palm","mobile"];for(var i=0;i<mobileAgents.length;i++){if(uagent.indexOf(mobileAgents[i])>-1){return true}}return false};this.setPlay=function(){this._enqueue("play",false);return this};this.setPause=function(){this._enqueue("pause",false);return this};this.setStop=function(toZero){var ref=this;this._enqueue("stop",false);if(toZero){this._enqueue(function(){ref._currentItem=0;ref.setActiveItem(0)})}return this};this.setPlayPause=function(){if(!this.getState("PLAYING")){this.setPlay()}else{this.setPause()}return this};this.setVolume=function(vol,fadeDelay){if(this.getConfig("fixedVolume")==true){return this}var initalVolume=this.getVolume();if(typeof vol=="string"){var dir=vol.substr(0,1);vol=parseFloat(vol.substr(1));vol=(vol>1)?vol/100:vol;if(dir=="+"){vol=this.getVolume()+vol}else{if(dir=="-"){vol=this.getVolume()-vol}else{vol=this.getVolume()}}}if(typeof vol=="number"){vol=(vol>1)?1:vol;vol=(vol<0)?0:vol}else{return this}if(vol>initalVolume&&fadeDelay){if(vol-initalVolume>0.03){for(var i=initalVolume;i<=vol;i=i+0.03){this._enqueue("volume",i,fadeDelay)}this._enqueue("volume",vol,fadeDelay);return this}}else{if(vol<initalVolume&&fadeDelay){if(initalVolume-vol>0.03){for(var i=initalVolume;i>=vol;i=i-0.03){this._enqueue("volume",i,fadeDelay)}this._enqueue("volume",vol,fadeDelay);return this}}}this._enqueue("volume",vol);return this};this.setPlayhead=function(position){if(this.getConfig("disallowSkip")==true){return this}if(typeof position=="string"){var dir=position.substr(0,1);position=parseFloat(position.substr(1));if(dir=="+"){position=this.getPosition()+position}else{if(dir=="-"){position=this.getPosition()-position}else{position=this.getPosition()}}}if(typeof position=="number"){this._enqueue("seek",position)}return this};this.setPlayerPoster=function(url){var ref=this;this._enqueue(function(){ref.setConfig({poster:url},0)});return this};this.setItemConfig=function(){var ref=this,args=arguments;this._enqueue(function(){ref._setConfig(args[0]||null,args[1]||null)});return this};this.setConfig=function(){var ref=this,args=arguments;this._enqueue(function(){ref._setConfig(args[0]||null,args[1]||null)});return this};this._setConfig=function(){if(!arguments.length){return result}var confObj=arguments[0],dest="*",value=false;if(typeof confObj!="object"){return this}if(arguments[1]=="string"||arguments[1]=="number"){dest=arguments[1]}else{dest=this._currentItem}for(var i in confObj){if($.inArray(i,this._persCfg)>-1){this._cookie(i,this._cleanValue(confObj[i]))}if(this.config["_"+i]!=undefined){continue}value=this._cleanValue(confObj[i]);if(dest=="*"){$.each(this.media,function(){if(this.config==undefined){this.config={}}this.config[i]=value});continue}if(this.media[dest]==undefined){return this}if(this.media[dest]["config"]==undefined){this.media[dest]["config"]={}}this.media[dest]["config"][i]=value}return this};this.setFullscreen=function(full){full=(full==null)?!this.getInFullscreen():full;if(full==this.getInFullscreen()||!this.config.enableFullscreen||this.getIsMobileClient()){return this}switch(full){case true:if(this.config._iframe===true){this._enterIframeFullViewport()}else{this._enterFullViewport()}break;case false:if(this.config._iframe===true){this._exitIframeFullViewport()}else{this._exitFullViewport()}break}this.playerModel.applyCommand("fullscreen",full);return this};this.setResize=function(){this._modelUpdateListener("resize");return this};this.setSize=function(data){this.config._width=data.width||this.config._width;this.config._height=data.height||this.config._height;if(this.getInFullscreen()===true){return}this.getDC().css({width:data.width+"px",height:data.height+"px"});this._modelUpdateListener("resize")};this.addListener=function(evt,callback){var ref=this;this._enqueue(function(){ref._addListener(evt,callback)})};this._addListener=function(evt,callback){var listenerObj={event:evt,callback:callback};this.listeners.push(listenerObj);return this};this.removeListener=function(evt,callback){var len=this.listeners.length;for(var i=0;i<len;i++){if(this.listeners[i]==undefined){continue}if(this.listeners[i].event!=evt&&evt!=="*"){continue}if(this.listeners[i].callback!=callback&&callback!==undefined){continue}this.listeners.splice(i,1)}return this};this.setItem=function(){var itemData=arguments[0];var affectedIdx=0;this._clearqueue();if(this.env.loading===true){return this}if(itemData==null){affectedIdx=this._removeItem(arguments[1]);if(affectedIdx===this._currentItem){this.setActiveItem("previous")}}else{affectedIdx=this._addItem(this._prepareMedia({file:itemData,config:itemData.config||{}}),arguments[1],arguments[2]);if(affectedIdx===this._currentItem){this.setActiveItem(this._currentItem)}}return this};this.setFile=function(arg,ext,dataType){var data=arg||{},result={},externalData=ext||false;this._clearqueue();if(this.env.loading===true){return this}if(typeof data=="object"&&data.length==0){return false}this.env.loading=true;this._detachplayerModel();if(typeof data=="object"){if(data.length==0){this._reelUpdate({});return false}this._debug("Applying incoming JS Object",data);this._reelUpdate(data);return this}if(typeof data=="string"){var splt=[];splt[0]=data;if(data.indexOf(this.config._FilePosterSeparator)>-1){splt=data.split(this.config._FilePosterSeparator);data.config={poster:splt[1]}}else{result[0]={};result[0].file=data}if(externalData===false){this._debug("Applying incoming single file:"+result[0]["file"],data);this._reelUpdate(result)}else{this._debug("Loading external data from "+splt[0]+" supposed to be "+dataType);this._playlistServer=splt[0];this.getFromUrl(splt[0],this,"_reelUpdate",this.config._reelParser,dataType)}}return this};this.openUrl=function(cfg){cfg=cfg||{url:"",target:"",pause:false};window.open(cfg.url,cfg.target).focus();if(cfg.pause===true){this.setPause()}return this};this.selfDestruct=function(){var ref=this;this._enqueue(function(){ref._selfDestruct()});return this},this._selfDestruct=function(){var ref=this;$(this).unbind();this.removePlugin();this._removeGUIListeners();this.env.playerDom.replaceWith($(this.env.srcNode).clone());$.each(projekktors,function(idx){try{if(this.getId()==ref.getId()||this.getId()==ref.getId()||this.getParent()==ref.getId()){projekktors.splice(idx,1);return}}catch(e){}});return this};this.reset=function(){var ref=this;this._clearqueue();this._enqueue(function(){ref._reset()});return this},this._reset=function(){var cleanConfig={},ref=this;$(this).unbind();this.setFullscreen(false);this.removePlugin();this._removeGUIListeners();this.env.mediaContainer=null;for(var i in this.config){cleanConfig[(i.substr(0,1)=="_")?i.substr(1):i]=this.config[i]}if(typeof this.env.onReady==="function"){this._enqueue(ref.env.onReady(ref))}this._init(this.env.playerDom,cleanConfig);return this},this._cookie=function(key,value){if(document.cookie===undefined){return null}if(document.cookie===false){return null}var options={};if(arguments.length>1&&(value===null||typeof value!=="object")){var t=new Date();t.setDate(t.getDate()+this.config._cookieExpiry);return(document.cookie=encodeURIComponent(this.config._cookieName+"_"+key)+"="+encodeURIComponent(String(value))+"; expires="+t.toUTCString()+"; path=/")}options=value||{};var result,decode=options.raw?function(s){return s}:decodeURIComponent;var returnthis=(result=new RegExp("(?:^|; )"+encodeURIComponent(this.config._cookieName+"_"+key)+"=([^;]*)").exec(document.cookie))?decode(result[1]):null;return(returnthis!=null)?this._cleanValue(returnthis):null};this.embeddFlash=function(destObj,domOptions){var flashVars=domOptions.FlashVars||{},result="",htmlEmbedObj="",htmlEmbed="",tmpStr="",id="";domOptions.src+="?";for(var key in flashVars){if(typeof flashVars[key]!="function"){tmpStr=flashVars[key];for(var i in this.media){if(typeof tmpStr!="string"){continue}tmpStr=tmpStr.replace("{"+i+"}",this.media[i])}domOptions.src+=key+"="+encodeURIComponent(tmpStr)+"&"}}domOptions.src.replace(/&$/,"");if($.browser.msie){id=' id="'+domOptions.id+'" '}htmlEmbedObj="<object"+id+' codebase="https://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0"  name="'+domOptions.name+'" width="'+domOptions.width+'" height="'+domOptions.height+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000">';htmlEmbedObj+='<param name="movie" value="'+domOptions.src+'"></param>';htmlEmbedObj+='<param name="allowScriptAccess" value="'+domOptions.allowScriptAccess+'"></param>';htmlEmbedObj+='<param name="allowFullScreen" value="'+domOptions.allowFullScreen+'"></param>';htmlEmbedObj+='<param name="wmode" value="'+domOptions.wmode+'"></param>';htmlEmbed="<embed ";for(var key in domOptions){if(key.toUpperCase()==="FLASHVARS"){continue}if(typeof domOptions[key]!="function"){htmlEmbed+=key+'="'+domOptions[key]+'" '}}htmlEmbed+=' pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash"></embed>';result=htmlEmbedObj+htmlEmbed;result+="</object>";if($.browser.mozilla){result=htmlEmbed}if(destObj===null){return result}destObj[0].innerHTML=result;return $("#"+domOptions.id)[0]};this._testMediaSupport=function(){var nativeElementType="",result={all:[],media:[]};for(var i=0;i<$p.mmap.length;i++){if($.inArray($p.mmap[i]["type"],result.all)>-1){continue}if("all|internal".indexOf($p.mmap[i]["platform"])>-1){result.all.push($p.mmap[i]["type"]);continue}if($p.mmap[i]["fixed"]!==true){if(($p.mmap[i]["type"].indexOf("video")>-1||$p.mmap[i]["type"].indexOf("audio")>-1)){try{nativeElementType=($p.mmap[i]["type"].indexOf("video")>-1)?"video":"audio";var testObject=document.createElement(nativeElementType);if(testObject.canPlayType!=false){switch(testObject.canPlayType($p.mmap[i]["type"])){case"no":case"":break;case"maybe":if($.browser.opera){if($.browser.version.slice(0,2)<11){break}}case"probably":default:result.all.push($p.mmap[i]["type"]);result.media.push($p.mmap[i]["type"])}}}catch(e){}}}}return result};this.randomId=function(length){var chars="abcdefghiklmnopqrstuvwxyz";var result="";for(var i=0;i<length;i++){var rnum=Math.floor(Math.random()*chars.length);result+=chars.substring(rnum,rnum+1)}return result};this.toAbsoluteURL=function(s){var l=location,h,p,f,i;if(s==null||s==""){return""}if(/^\w+:/.test(s)){return s}h=l.protocol+"//"+l.host;if(s.indexOf("/")==0){return h+s}p=l.pathname.replace(/\/[^\/]*$/,"");f=s.match(/\.\.\//g);if(f){s=s.substring(f.length*3);for(i=f.length;i--;){p=p.substring(0,p.lastIndexOf("/"))}}return h+p+"/"+s};this.parseTemplate=function(template,data){if(data===undefined||data.length==0||typeof data!="object"){return template}for(var i in data){template=template.replace(new RegExp("%{"+i+"}","gi"),data[i])}template=template.replace(/%{(.*?)}/gi,"");return template};this._cleanValue=function(value){switch(value){case"false":return false;case"true":return true;case"null":return null;case"undefined":return"";case undefined:return false;default:return(typeof value!="string"&&typeof value!="number"&&typeof value!="boolean")?false:value}};this._getTypeFromFileExtension=function(url){var fileExt="",extRegEx=[],extTypes={},extRegEx=[];for(var i in $p.mmap){extRegEx.push("."+$p.mmap[i].ext);extTypes[$p.mmap[i].ext]=$p.mmap[i]}extRegEx="^.*.("+extRegEx.join("|")+")";try{fileExt=url.match(new RegExp(extRegEx))[1];fileExt=(!fileExt)?"NaN":fileExt.replace(".","")}catch(e){fileExt="NaN"}return extTypes[fileExt].type};this._debug=function(desc,data){if(this.config._debug===false){return}if(this.config._debug=="console"){try{if(desc){console.log(desc)}if(data){console.log(data)}}catch(e){}return}var result="<pre><b>"+desc+"</b>\n";if(data&&this.config.debugLevel>1){switch(typeof data){case"undefined":break;case"object":var temp="";if(temp==""){temp="";for(var i in data){temp+=i+" : "+data[i]+"\n"}}result+=temp;break;case"string":result+=data}result+="</pre>"}try{$("#"+this.config._debug).prepend(result)}catch(e){}};this._raiseError=function(txt){this.env.playerDom.html(txt).css({color:"#fdfdfd",backgroundColor:"#333",lineHeight:this.config.height+"px",textAlign:"center",display:"block"});this._promote("error")};this._readMediaTag=function(domNode){var result={},htmlTag="",attr=[],ref=this;if(domNode[0].tagName.toUpperCase()!="VIDEO"&&domNode[0].tagName.toUpperCase()!="AUDIO"){return false}result={autoplay:(domNode.prop("autoplay")!==undefined&&domNode.prop("autoplay")!==false)?true:false,controls:(domNode.prop("controls")!==undefined&&domNode.prop("controls")!==false)?true:false,loop:(domNode.prop("loop")!==undefined&&domNode.prop("loop")!==false)?true:false,title:(domNode.attr("title")!==undefined&&domNode.attr("title")!==false)?domNode.attr("title"):"",poster:(domNode.attr("poster")!==undefined&&domNode.attr("poster")!==false)?domNode.attr("poster"):"",width:(domNode.attr("width")!==undefined&&domNode.attr("width")!==false)?domNode.attr("width"):false,height:(domNode.attr("height")!==undefined&&domNode.attr("height")!==false)?domNode.attr("height"):false};if($.browser.msie){htmlTag=$($("<div></div>").html($(domNode).clone())).html();attr=["autoplay","controls","loop"];for(var i=0;i<attr.length;i++){if(htmlTag.indexOf(attr[i])==-1){continue}result[attr[i]]=true}}domNode.prop("autoplay",false);result.playlist=[];result.playlist[0]=[];if(srcNode.attr("src")){result.playlist[0].push({src:srcNode.attr("src"),type:srcNode.attr("type")||this._getTypeFromFileExtension(srcNode.attr("src"))})}if($.browser.msie&&$.browser.version<9){var childNode=srcNode;do{childNode=childNode.next("source");if(childNode.attr("src")){result.playlist[0].push({src:childNode.attr("src"),type:childNode.attr("type")||this._getTypeFromFileExtension(childNode.attr("src"))})}}while(childNode.attr("src"))}else{srcNode.children("source").each(function(){if($(this).attr("src")){result.playlist[0].push({src:$(this).attr("src"),type:$(this).attr("type")||ref._getTypeFromFileExtension($(this).attr("src"))})}})}try{domNode[0].pause();domNode.find("source").remove();domNode.prop("src","");domNode[0].load()}catch(e){}return result};this._applyDimensions=function(){if(this.config._height!==false&&this.config._width!==false){if(this.config._width<=this.config._minWidth){this.config._width=this.config._minWidth;this.env.autoSize=true}if(this.config._height<=this.config._minHeight){this.config._height=this.config._minHeight;this.env.autoSize=true}}this.env.playerDom.css({overflow:"hidden",width:this.config._width+"px",height:this.config._height+"px","max-width":"100%"})};this._init=function(customNode,customCfg){var theNode=customNode||srcNode,theCfg=customCfg||cfg,cfgBySource=this._readMediaTag(theNode);this.env.srcNode=$.extend(true,{},theNode);this.env.className=theNode.attr("class");if(cfgBySource!==false){this.env.playerDom=$(document.createElement("div")).attr({"class":theNode[0].className,style:theNode.attr("style")});theNode.replaceWith(this.env.playerDom)}else{cfgBySource={width:(theNode.attr("width"))?theNode.attr("width"):theNode.width(),height:(theNode.attr("height"))?theNode.attr("height"):theNode.height()};this.env.playerDom=theNode}theCfg=$.extend(true,{},cfgBySource,theCfg);for(var i in theCfg){if(this.config["_"+i]!=undefined){this.config["_"+i]=theCfg[i]}else{this.config[i]=theCfg[i]}}if(this.getIsMobileClient()){this.config._autoplay=false}this._id=theNode[0].id||this.randomId(8);this.env.playerDom.attr("id",this._id);if(this.config._theme){switch(typeof this.config._theme){case"string":break;case"object":this._applyTheme(this.config._theme)}}else{this._start(false)}return this};this._start=function(data){var ref=this,files=[];this._applyDimensions();try{$("#projekktorver").html("V"+this.config._version)}catch(e){}this._registerPlugins();if(this.config._iframe===true){if(this.getIframeWindow()){this.getIframeWindow().ready(function(){ref._enterFullViewport();ref.env.inFullscreen=false})}else{ref._enterFullViewport();ref.env.inFullscreen=false;this.config.disableFullscreen=true}}if(typeof onReady==="function"){this._enqueue(function(){onReady(ref)})}for(var i in this.config._playlist[0]){if(this.config._playlist[0][i].type){if(this.config._playlist[0][i].type.indexOf("/json")>-1||this.config._playlist[0][i].type.indexOf("/xml")>-1){this.setFile(this.config._playlist[0][i].src,true,this.config._playlist[0][i].type);return this}}}this.setFile(this.config._playlist);return this};this._applyTheme=function(data){var ref=this;if(data===false){this._raiseError("The Projekktor theme-set specified could not be loaded.");return false}if(typeof data.config.plugins=="object"){for(var i=0;i<data.config.plugins.length;i++){try{typeof eval("projekktor"+data.config.plugins[i])}catch(e){this._raiseError("The applied theme requires the following Projekktor plugin(s): <b>"+data.config.plugins.join(", ")+"</b>");return false}}}if(typeof data.css=="string"){$("head").append('<style type="text/css">'+this.parseTemplate(data.css,{rp:data.baseURL})+"</style>")}if(typeof data.html=="string"){this.env.playerDom.html(this.parseTemplate(data.html,{p:this.config._cssClassPrefix}))}this.env.playerDom.addClass(data.id).addClass(data.variation);if(typeof data.config=="object"){for(var i in data.config){if(this.config["_"+i]!=undefined){this.config["_"+i]=data.config[i]}else{this.config[i]=data.config[i]}}}if(data.onReady){this._enqueue(function(player){eval(data.onReady)})}return this._start()};return this._init()}};$p.mmap=[];$p.models={};$p.newModel=function(obj,ext){var result=false,extend=($p.models[ext]&&ext!=undefined)?$p.models[ext].prototype:{};if(typeof obj!="object"){return result}if(!obj.modelId){return result}if($p.models[obj.modelId]){return result}$p.models[obj.modelId]=function(){};$p.models[obj.modelId].prototype=$.extend({},extend,obj);for(var i=0;i<obj.iLove.length;i++){obj.iLove[i].model=obj.modelId.toLowerCase();$p.mmap.push(obj.iLove[i])}return true}});var projekktorConfig=function(b){this._version=b};var projekktorPluginInterface=function(){};jQuery(function(b){projekktorPluginInterface.prototype={pluginReady:false,name:"",pp:{},config:{},playerDom:null,canvas:{media:null,projekktor:null},_appliedDOMObj:[],_init:function(a){this.config=b.extend(true,this.config,a);this.initialize()},getConfig:function(a,f){var e=null;if(this.pp.getConfig("plugin_"+this.name)!=null){e=this.pp.getConfig("plugin_"+this.name)[a]}if(e==null){e=this.pp.getConfig(a)}if(e==null){e=(this.config[a]||f)}return e},sendEvent:function(a,d){this.pp._promote({_plugin:this.name,_event:a},d)},deconstruct:function(){this.pluginReady=false;b.each(this._appliedDOMObj,function(){b(this).remove()})},parseTemplate:function(a,d){return this.pp.parseTemplate(a,d)},blockSelection:function(a){if(!a){return}if(b.browser.mozilla){a.css("MozUserSelect","none")}else{if(b.browser.msie){a.bind("selectstart",function(){return false})}else{a.mousedown(function(){return false})}}},applyToPlayer:function(h,g){var f=this.getConfig("cssClassPrefix");if(!h){return null}if(this.playerDom.find("."+f+h.attr("class")).length==0){var a=h.attr("class");h.removeClass(a);h.addClass(f+a);if(g===true){h.prependTo(this.playerDom)}else{h.appendTo(this.playerDom)}this._appliedDOMObj.push(h);return h}var a=h.attr("class");h=this.playerDom.find("."+f+h.attr("class"));h.removeClass(a);h.addClass(f+a);return h},initialize:function(){}}});var playerModel=function(){};jQuery(function(b){playerModel.prototype={modelId:"player",iLove:[],_currentState:null,_currentBufferState:null,_volume:0,_KbPerSec:0,_bandWidthTimer:null,_isPoster:false,modelReady:true,requiresFlash:false,hasGUI:false,allowRandomSeek:false,flashVerifyMethod:"api_get",elementReady:false,mediaElement:null,pp:{},media:{duration:0,position:0,startOffset:0,file:false,poster:"",ended:false,message:"",error:null,loadProgress:0,errorCode:0,message:"",type:"NA"},_init:function(a){this.pp=a.pp||null;this.media=a.media||this.media;this._ap=a.autoplay;this._volume=this.pp.getVolume("volume");this.init()},init:function(a){this.ready()},ready:function(){this.sendUpdate("modelReady");this.displayItem(this._ap)},displayItem:function(a){if(a!==true||this.getState("STOPPED")){this._setState("idle");this.applyImage(this.getPoster(),this.pp.getMediaContainer().html(""));this._isPoster=true;this.elementReady=true}else{if(this.hasGUI){this.pp.env.playerDom.children().not(".ppdisplay").addClass("inactive").removeClass("active")}if(this.requiresFlash!==false){if(this.requiresFlash>this.pp.getFlashVersion()){this.setTestcard(6);return}}this._setState("awakening");this.elementReady=false;this._isPoster=false;this.applyMedia(this.pp.getMediaContainer().html("").show())}this.waitTillReady(a)},applyMedia:function(){},sendUpdate:function(a,d){this.pp._modelUpdateListener(a,d)},waitTillReady:function(d){var a=this;(function(){try{if(a.elementReady!==true){setTimeout(arguments.callee,70);return}}catch(c){}if(!a.getState("STOPPED")||d===true){try{a.addListeners()}catch(c){}}a.pp._modelUpdateListener("displayReady");if(d===true){if(a.pp.getIsMobileClient()){setTimeout(function(){a.setPlay()},500)}a.setPlay()}})()},addListeners:function(){},removeListeners:function(){try{this.mediaElement.unbind()}catch(a){}},detachMedia:function(){},destroy:function(){this.setPause();this.removeListeners();this.detachMedia();try{b("#"+this.mediaElement.id).empty()}catch(a){}try{b("#"+this.mediaElement.id).remove()}catch(a){}try{this.mediaElement.remove()}catch(a){}this.pp.getMediaContainer().html("");this.mediaElement=null;this.media.loadProgress=0;this.media.playProgress=0;this.media.position=0;this.media.duration=0;this._setState("stopped")},reInit:function(){if(this.requiresFlash===false||!(b.browser.mozilla)||this.getState("ERROR")||this.pp.getConfig("bypassFlashFFFix")===true){return}this.sendUpdate("FFreinit");this.removeListeners();this.displayItem((!this.getState("IDLE")))},applyCommand:function(d,a){switch(d){case"play":if(this.getState("ERROR")){break}if(this.getState("IDLE")){this._setState("awakening");this.displayItem(true);break}this.setPlay();break;case"pause":if(this.getState("ERROR")){break}this.setPause();break;case"volume":if(this.getState("ERROR")){break}if(!this.setVolume(a)){this._volume=a;this.sendUpdate("volume",a)}break;case"stop":this.setStop();break;case"seek":if(this.getState("ERROR")){break}if(this.media.loadProgress==-1){break}this.setSeek(a);break;case"fullscreen":this.sendUpdate("fullscreen",a);this.setFullscreen(a);this.reInit();break;case"resize":this.setResize();this.sendUpdate("resize",a);break}},setSeek:function(a){},setPlay:function(){},setPause:function(){},setStop:function(){this.detachMedia();this.destroy();this.displayItem(false)},setVolume:function(a){},setFullscreen:function(a){},setResize:function(){},getVolume:function(){if(this.mediaElement==null){return this._volume}return(this.mediaElement.prop("muted")==true)?0:this.mediaElement.prop("volume")},getLoadProgress:function(){return this.media.loadProgress||0},getLoadPlaybackProgress:function(){return this.media.playProgress||0},getPosition:function(){return this.media.position||0},getDuration:function(){return this.media.duration||0},getInFullscreen:function(){return this.pp.getInFullscreen()},getKbPerSec:function(){return this._KbPerSec},getState:function(a){var d=(this._currentState==null)?"IDLE":this._currentState;if(a!=null){return(d==a.toUpperCase())}return d},getFile:function(){return this.media.file||null},getModelName:function(){return this.modelId||null},getHasGUI:function(){return(this.hasGUI&&!this._isPoster)},getIsReady:function(){return this.elementReady},getPoster:function(){return this.pp.getConfig("poster")},timeListener:function(f){if(f==undefined){return}var g=(f.position!=undefined)?f.position:f.currentTime,h=f.duration,a=(g>0&&h>0)?g*100/h:0;this.media.duration=this._roundNumber(h,2);this.media.position=this._roundNumber(g,2);this.media.playProgress=a;this.sendUpdate("time",this.media.position);this.loadProgressUpdate()},loadProgressUpdate:function(){try{var g=this.mediaElement[0];if(typeof g.buffered!=="object"){return}if(typeof g.buffered.length<=0){return}var a=Math.round(g.buffered.end(g.buffered.length-1)*100)/100,h=a*100/this.media.duration;if(h==this.media.loadProgress){return}this.media.loadProgress=(this.allowRandomSeek===true)?100:-1;this.media.loadProgress=(this.media.loadProgress<100||this.media.loadProgress==undefined)?h:100;this.sendUpdate("progress",this.media.loadProgress)}catch(e){}},progressListener:function(l,e){try{if(typeof this.mediaElement[0].buffered=="object"){if(this.mediaElement[0].buffered.length>0){this.mediaElement.unbind("progress");return}}}catch(i){}if(this._bandWidthTimer==null){this._bandWidthTimer=(new Date()).getTime()}var j=0,k=0;if(!isNaN(l.loaded/l.total)){j=l.loaded;k=l.total}else{if(l.originalEvent&&!isNaN(l.originalEvent.loaded/l.originalEvent.total)){j=l.originalEvent.loaded;k=l.originalEvent.total}else{if(e&&!isNaN(e.loaded/e.total)){j=e.loaded;k=e.total}}}var a=(j>0&&k>0)?j*100/k:0;if(Math.round(a)>Math.round(this.media.loadProgress)){this._KbPerSec=((j/1024)/(((new Date()).getTime()-this._bandWidthTimer)/1000))}a=(this.media.loadProgress!==100)?a:100;a=(this.allowRandomSeek===true)?100:a;if(this.media.loadProgress!=a){this.media.loadProgress=a;this.sendUpdate("progress",a)}if(this.media.loadProgress>=100&&this.allowRandomSeek==false){this._setBufferState("full")}},endedListener:function(a){if(this.mediaElement===null){return}this._setState("completed")},waitingListener:function(a){this._setBufferState("empty")},canplayListener:function(a){this._setBufferState("full")},canplaythroughListener:function(a){this._setBufferState("full")},suspendListener:function(a){this._setBufferState("full")},playingListener:function(a){this._setState("playing")},startListener:function(a){this.applyCommand("volume",this.pp.getConfig("volume"));this._setState("playing")},pauseListener:function(a){this._setState("paused")},volumeListener:function(a){this.sendUpdate("volume",this.getVolume())},flashReadyListener:function(){this.elementReady=true},errorListener:function(a,e){try{switch(a.target.error.code){case a.target.error.MEDIA_ERR_ABORTED:this.setTestcard(1);break;case a.target.error.MEDIA_ERR_NETWORK:this.setTestcard(2);break;case a.target.error.MEDIA_ERR_DECODE:this.setTestcard(3);break;case a.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:this.setTestcard(4);break;default:this.setTestcard(5);break}}catch(f){}},metaDataListener:function(d){try{this.videoWidth=d.videoWidth;this.videoHeight=d.videoHeight}catch(a){}this._scaleVideo()},setTestcard:function(g,a){var h=this.pp.getMediaContainer(),i=this.pp.getConfig("messages"),j=(i[g]!=undefined)?i[g]:i[0];j=(a!=undefined&&a!="")?a:j;if(this.pp.getItemCount()>1){j+=i[99]}if(j.length<3){j="ERROR"}if(g==100){j=""}j=this.pp.parseTemplate(j,b.extend({},this.media,{flashver:this.requiresFlash}));h.css({width:"100%",height:"100%"}).html("");this.mediaElement=b(document.createElement("div")).addClass("pptestcard").attr("id",this.pp.getId()+"_testcard_media").appendTo(h);if(j.length>0){b(document.createElement("p")).appendTo(this.mediaElement).html(j)}this._setState("error")},applyImage:function(j,l){var h=b(document.createElement("img")).hide(),i=this;if(j==""||j==undefined){h=b(document.createElement("span")).attr({id:this.pp.getMediaId()+"_image"}).appendTo(l);return h}h.appendTo(l).attr({id:this.pp.getMediaId()+"_image",src:j}).css({position:"absolute"});h.error(function(c){b(this).remove()});var a=function(c){c.realWidth=c.prop("width");c.realHeight=c.prop("height");c.width=function(){return c.realWidth};c.height=function(){return c.realHeight}};if(b.browser.msie){(function(){try{if(h[0].complete==true){h.show();a(h);i.stretch(i.pp.getConfig("imageScaling"),h,l.width(),l.height());return}setTimeout(arguments.callee,100)}catch(c){setTimeout(arguments.callee,100)}})()}else{h.load(function(c){b(this).show();a(h);i.stretch(i.pp.getConfig("imageScaling"),b(this),l.width(),l.height())})}var k=function(c,d){if(d.is(":visible")===false){i.pp.removeListener("fullscreen",arguments.callee)}i.stretch(i.pp.getConfig("imageScaling"),c,d.width(),d.height())};this.pp.addListener("fullscreen",function(){k(h,l)});this.pp.addListener("resize",function(){k(h,l)});return h},stretch:function(x,v,a,o,t,r){if(v==undefined||v==null){return false}if(v._originalDimensions===undefined){v._originalDimensions={};v._originalDimensions={width:v.width(),height:v.height()}}var s=(t!==undefined)?t:v._originalDimensions.width;var w=(r!==undefined)?r:v._originalDimensions.height;var q=(a/s);var n=(o/w);var u=a;var p=o;switch(x){case"fill":if(q>n){u=s*q;p=w*q}else{if(q<n){u=s*n;p=w*n}}break;case"aspectratio":default:if(q>n){u=s*n;p=w*n}else{if(q<n){u=s*q;p=w*q}}break}a=this._roundNumber((u/a)*100,0);o=this._roundNumber((p/o)*100,0);if(a==0||o==0){return false}v.css({margin:0,padding:0,width:a+"%",height:o+"%",left:(100-a)/2+"%",top:(100-o)/2+"%"});if(v._originalDimensions.width!=v.width()||v._originalDimensions.height!=v.height()){return true}return false},createFlash:function(d,a){this.mediaElement=this.pp.embeddFlash(a,d);this._waitforPlayer()},_waitforPlayer:function(){if(this.elementReady==true){return}var a=this;this._setBufferState("empty");(function(){try{if(a.mediaElement==undefined){setTimeout(arguments.callee,100)}else{if(a.mediaElement[a.flashVerifyMethod]==undefined){setTimeout(arguments.callee,100)}else{a._setBufferState("full");a.flashReadyListener()}}}catch(d){setTimeout(arguments.callee,100)}})()},_roundNumber:function(a,d){if(a<=0||isNaN(a)){return 0}return Math.round(a*Math.pow(10,d))/Math.pow(10,d)},_setState:function(a){a=a.toUpperCase();if(this._currentState!=a){if(this._currentState=="PAUSED"&&a=="PLAYING"){this.sendUpdate("resume",this.media)}if((this._currentState=="IDLE"||this._currentState=="AWAKENING")&&a=="PLAYING"){this.sendUpdate("start",this.media)}this._currentState=a.toUpperCase();this.sendUpdate("state",this._currentState)}},_setBufferState:function(a){if(this._currentBufferState!=a){this._currentBufferState=a.toUpperCase();this.sendUpdate("buffer",this._currentBufferState)}},_scaleVideo:function(j){var m=this.pp.getMediaContainer();if(this.pp.getIsMobileClient()){return}try{var l=m.width(),e=m.height(),a=this.videoWidth,n=this.videoHeight;if(this.stretch(this.pp.getConfig("videoScaling"),this.mediaElement,l,e,a,n)){this.sendUpdate("scaled",{realWidth:a,realHeight:n,displayWidth:l,displayHeight:e})}}catch(k){}}}});jQuery(function(b){$p.newModel({modelId:"NA",iLove:[{ext:"NaN",type:"none/none",platform:"all"}],hasGUI:true,applyMedia:function(a){if(this.pp.getConfig("enableTestcard")&&!this.pp.getIsMobileClient()){this.setTestcard((this.media.file!==""&&this.media.errorCode===7)?5:this.media.errorCode);this.elementReady=true}else{this.elementReady=true;this.applyCommand("stop");window.location.href=this.media.file}},setPlay:function(){this.sendUpdate("start")},setPause:function(){if(this._hasEnded==false){this._hasEnded=true;this.sendUpdate("ended")}}})});jQuery(function(b){$p.newModel({modelId:"PLAYLIST",iLove:[{ext:"json",type:"text/json",platform:"internal"},{ext:"jsonp",type:"text/jsonp",platform:"internal"},{ext:"xml",type:"text/xml",platform:"internal"},{ext:"json",type:"application/json",platform:"internal"},{ext:"jsonp",type:"application/jsonp",platform:"internal"},{ext:"xml",type:"application/xml",platform:"internal"}],applyMedia:function(a){this.elementReady=true},setPlay:function(){this.sendUpdate("playlist",this.media.file)}})});jQuery(function(b){$p.newModel({modelId:"VIDEOFLASH",iLove:[{ext:"flv",type:"video/x-flv",platform:"flash",fixed:true},{ext:"flv",type:"video/flv",platform:"flash",fixed:true},{ext:"mp4",type:"video/mp4",platform:"flash",fixed:"maybe"},{ext:"mov",type:"video/quicktime",platform:"flash"},{ext:"m4v",type:"video/mp4",platform:"flash",fixed:"maybe"}],requiresFlash:9,allowRandomSeek:false,flashVerifyMethod:"api_get",_jarisVolume:0,applyMedia:function(a){var d={id:this.pp.getMediaId()+"_flash",name:this.pp.getMediaId()+"_flash",src:this.pp.getConfig("playerFlashMP4"),width:"100%",height:"100%",allowScriptAccess:"always",allowFullScreen:"true",allowNetworking:"all",wmode:"transparent",bgcolor:"#000000",FlashVars:{source:this.media.file,type:"video",streamtype:this.pp.getConfig("flashStreamType"),server:(this.pp.getConfig("flashStreamType")=="rtmp")?this.pp.getConfig("flashRTMPServer"):"",autostart:"false",hardwarescaling:"true",controls:"false",jsapi:"true"}};switch(this.pp.getConfig("flashStreamType")){case"rtmp":case"http":this.allowRandomSeek=true;this.media.loadProgress=100;break}this.createFlash(d,a)},addListeners:function(){if(this.mediaElement==null){return}this.mediaElement.api_addlistener("onprogress","projekktor('"+this.pp.getId()+"').playerModel.progressListener");this.mediaElement.api_addlistener("ontimeupdate","projekktor('"+this.pp.getId()+"').playerModel.timeListener");if(this.getModelName().indexOf("VIDEO")>-1){this.mediaElement.api_addlistener("ondatainitialized","projekktor('"+this.pp.getId()+"').playerModel.metaDataListener")}if(this.getModelName().indexOf("AUDIO")>-1){this.mediaElement.api_addlistener("onconnectionsuccess","projekktor('"+this.pp.getId()+"').playerModel.startListener")}this.mediaElement.api_addlistener("onplaypause","projekktor('"+this.pp.getId()+"').playerModel._playpauseListener");this.mediaElement.api_addlistener("onplaybackfinished","projekktor('"+this.pp.getId()+"').playerModel.endedListener");this.mediaElement.api_addlistener("onmute","projekktor('"+this.pp.getId()+"').playerModel.volumeListener");this.mediaElement.api_addlistener("onvolumechange","projekktor('"+this.pp.getId()+"').playerModel.volumeListener");this.mediaElement.api_addlistener("onbuffering","projekktor('"+this.pp.getId()+"').playerModel.waitingListener");this.mediaElement.api_addlistener("onnotbuffering","projekktor('"+this.pp.getId()+"').playerModel.canplayListener");this.mediaElement.api_addlistener("onconnectionfailed","projekktor('"+this.pp.getId()+"').playerModel.errorListener")},removeListeners:function(){try{this.mediaElement.api_removelistener("*")}catch(a){}},_playpauseListener:function(a){if(a.isplaying){this.playingListener()}else{this.pauseListener()}},metaDataListener:function(d){this.startListener(d);try{this.videoWidth=d.width;this.videoHeight=d.height;this.sendUpdate("scaled",{width:this.videoWidth,height:this.videoHeight})}catch(a){}},setSeek:function(d){try{this.mediaElement.api_seek(d)}catch(a){}},setVolume:function(a){this._volume=a;try{this.mediaElement.api_volume(a)}catch(d){return false}return a},setPause:function(a){try{this.mediaElement.api_pause()}catch(d){}},setPlay:function(a){try{this.mediaElement.api_play()}catch(d){}},getVolume:function(){return this._jarisVolume},errorListener:function(a){this.setTestcard(4)},volumeListener:function(a){if(this._jarisVolume!=a.volume){this._jarisVolume=a.volume;this.sendUpdate("volume",a.volume)}},detachMedia:function(){try{b(this.mediaElement).remove()}catch(a){}}});$p.newModel({modelId:"AUDIOFLASH",iLove:[{ext:"mp3",type:"audio/mp3",platform:"flash"},{ext:"mp3",type:"audio/mpeg",platform:"flash"},{ext:"m4a",type:"audio/mp4",platform:"flash"}],applyMedia:function(a){this.imageElement=this.applyImage(this.pp.getConfig("cover")||this.pp.getConfig("poster"),a);var f=b("#"+this.pp.getMediaId()+"_flash_container");if(f.length==0){f=b(document.createElement("div")).css({width:"1px",height:"1px"}).attr("id",this.pp.getMediaId()+"_flash_container").appendTo(a)}var e={id:this.pp.getMediaId()+"_flash",name:this.pp.getMediaId()+"_flash",src:this.pp.getConfig("playerFlashMP3"),width:"1px",height:"1px",allowScriptAccess:"always",allowFullScreen:"true",allowNetworking:"all",wmode:"transparent",bgcolor:"#000000",FlashVars:{source:this.media.file,type:"audio",streamtype:this.pp.getConfig("flashStreamType"),server:(this.pp.getConfig("flashStreamType")=="rtmp")?this.pp.getConfig("flashRTMPServer"):"",autostart:"false",hardwarescaling:"false",controls:"false",jsapi:"true"}};this.createFlash(e,f)}},"VIDEOFLASH")});jQuery(function(b){$p.newModel({modelId:"VIDEO",iLove:[{ext:"ogv",type:"video/ogg",platform:"native"},{ext:"webm",type:"video/webm",platform:"native"},{ext:"ogg",type:"video/ogg",platform:"native"},{ext:"anx",type:"video/ogg",platform:"native"},{ext:"mp4",type:"video/mp4",platform:"native",fixed:"maybe"}],allowRandomSeek:false,videoWidth:0,videoHeight:0,element:"video",init:function(a){if(this.pp.getIsMobileClient()&&this.element=="video"){this.hasGUI=true}this.ready()},applyMedia:function(e){this.elementReady=false;if(this.media.type.indexOf("/ogg")>-1||this.media.type.indexOf("/webm")>-1){this.allowRandomSeek=true}if(this.element=="audio"){this.imageElement=this.applyImage(this.pp.getConfig("cover")||this.pp.getConfig("poster"),e)}var a=(this.element=="video")?e:b("body");a.append(b(document.createElement(this.element)).attr({id:this.pp.getMediaId()+"_html",poster:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi/v//PwNAgAEACQsDAUdpTjcAAAAASUVORK5CYII=",loop:false,autoplay:true,"x-webkit-airplay":"allow"}).prop({controls:(this.hasGUI&&this.element=="video"),volume:this.getVolume()}).css({width:((this.element=="video")?"100%":"1px"),height:((this.element=="video")?"100%":"1px"),position:"absolute",top:0,left:0}));this.mediaElement=b("#"+this.pp.getMediaId()+"_html");for(var f in this.media.setup){if(this.media.setup[f].src){b(document.createElement("source")).appendTo(this.mediaElement).attr({src:this.media.setup[f].src,type:this.media.setup[f].type})}}this.waitforPlayer()},waitforPlayer:function(){if(this.elementReady==true){return}var e=this,f=b("#"+this.pp.getMediaId()+"_html");try{if(f==undefined){setTimeout(function(){e.waitforPlayer()},200);return}if(f[0].networkState==undefined){setTimeout(function(){e.waitforPlayer()},200);return}this.elementReady=true}catch(a){setTimeout(function(){e.waitforPlayer()},200);return}},addListeners:function(){var a=this;if(this.element=="video"){this.mediaElement.bind("loadedmetadata",function(){a.metaDataListener(this)})}this.mediaElement.bind("pause",function(){a.pauseListener(this)});this.mediaElement.bind("play",function(){a.playingListener(this)});this.mediaElement.bind("volumechange",function(){a.volumeListener(this)});this.mediaElement.bind("progress",function(d){a.progressListener(d,this)});this.mediaElement.bind("timeupdate",function(){a.timeListener(this)});this.mediaElement.bind("ended",function(){a.endedListener(this)});this.mediaElement.bind("waiting",function(){a.waitingListener(this)});this.mediaElement.bind("canplaythrough",function(){a.canplayListener(this)});this.mediaElement.bind("canplay",function(){a.canplayListener(this)});this.mediaElement.bind("error",function(d){a.errorListener(d,this)});this.mediaElement.bind("suspend",function(){a.suspendListener(this)})},updatePlayerInfo:function(){if(this.mediaElement==null){return}var a=this,d=this.mediaElement[0];if(this.getState()=="PLAYING"){switch(d.networkState){case d.NETWORK_EMPTY:break;case d.NETWORK_IDLE:break;case d.NETWORK_LOADING:break;case d.NETWORK_NO_SOURCE:this.setTestcard(4);break}}if("PAUSED|ERROR".indexOf(this.getState())==-1){setTimeout(function(){a.updatePlayerInfo()},500)}},detachMedia:function(){try{this.mediaElement[0].pause();b(this.mediaElement[0]).prop("src","");this.mediaElement[0].load()}catch(a){}},setPlay:function(){try{this.mediaElement[0].play()}catch(a){}this.updatePlayerInfo()},setPause:function(){try{this.mediaElement[0].pause()}catch(a){}},setVolume:function(a){this._volume=a;try{this.mediaElement.prop("volume",a)}catch(d){return false}return a},setSeek:function(d){try{this.mediaElement.prop("currentTime",d)}catch(a){}},setFullscreen:function(a){if(this.element=="audio"){return}this._scaleVideo()},setResize:function(){if(this.element=="audio"){return}this._scaleVideo(false)}});$p.newModel({modelId:"AUDIO",iLove:[{ext:"ogg",type:"audio/ogg",platform:"native"},{ext:"oga",type:"audio/ogg",platform:"native"},{ext:"mp3",type:"audio/mp3",platform:"native"}],imageElement:{},element:"audio"},"VIDEO")});jQuery(function(b){$p.newModel({modelId:"IMAGE",iLove:[{ext:"jpg",type:"image/jpeg",platform:"all"},{ext:"gif",type:"image/gif",platform:"all"},{ext:"png",type:"image/png",platform:"all"}],allowRandomSeek:true,_interval:null,_position:0,_duration:0,applyMedia:function(a){this.mediaElement=this.applyImage(this.media.file,a);this.elementReady=true;this._duration=this.pp.getConfig("duration")},setPlay:function(){var a=this;this._setBufferState("full");this.progressListener(100);this.playingListener();if(this._duration>0){this._interval=setInterval(function(){a._position=a._position+0.5;if(a._position>a._duration){clearInterval(a._interval);a._setState("completed")}a.timeListener({duration:a._duration,position:a._position})},500)}else{a._setState("completed")}},detachMedia:function(){this._position=0;clearInterval(this._interval);this.mediaElement.remove()},setPause:function(){this.pauseListener();clearInterval(this._interval)},setSeek:function(a){if(a<this._duration){this._position=a}}});$p.newModel({modelId:"HTML",iLove:[{ext:"html",type:"text/html",platform:"all"}],applyMedia:function(d){var a=this;this.mediaElement=b(document.createElement("iframe")).attr({id:this.pp.getMediaId()+"_iframe",name:this.pp.getMediaId()+"_iframe",src:this.media.file,scrolling:"no",frameborder:"0",width:"100%",height:"100%"}).css({overflow:"hidden",border:"0px",width:"100%",height:"100%"}).appendTo(d);this.mediaElement.load(function(c){a.success()});this.mediaElement.error(function(c){a.remove()});this._duration=this.pp.getConfig("duration")},success:function(){this.elementReady=true},remove:function(){this.mediaElement.remove();this.elementReady=true}},"IMAGE")});jQuery(function(b){$p.newModel({modelId:"YTVIDEO",iLove:[{ext:"youtube.com",type:"video/youtube",platform:"flash",fixed:true}],modelReady:false,allowRandomSeek:true,useIframeAPI:true,_updateTimer:null,init:function(f){var a=this;this.useIframeAPI=this.pp.getConfig("useYTIframeAPI")||this.pp.getIsMobileClient();if(this.useIframeAPI!==true){this.requiresFlash=8;this.flashVerifyMethod="cueVideoById";this.ready();return}var e=this.pp.getId();if(window.ProjekktorYoutubePlayerAPIReady!==true){b.getScript("http://www.youtube.com/player_api");(function(){try{if(window.ProjekktorYoutubePlayerAPIReady==true){a.ready();return}setTimeout(arguments.callee,50)}catch(c){setTimeout(arguments.callee,50)}})()}else{this.ready()}window.onYouTubePlayerAPIReady=function(){window.ProjekktorYoutubePlayerAPIReady=true}},applyMedia:function(f){this._setBufferState("empty");var a=this;if(this.useIframeAPI===true){this.mediaElement=new YT.Player(this.pp.getId()+"_media",{width:(this.pp.getIsMobileClient())?this.pp.config._width:"100%",height:(this.pp.getIsMobileClient())?this.pp.config._height:"100%",playerVars:{autoplay:0,disablekb:1,start:0,controls:0,enablejsapi:1,wmode:"opaque"},videoId:this.youtubeGetId(),events:{onReady:function(c){a.onReady(c)},onStateChange:function(c){a.stateChange(c)},onError:function(c){a.errorListener(c)}}});b(this.mediaElement.a).prop("ALLOWTRANSPARENCY",true).attr({scrolling:"no",frameborder:0}).css({overflow:"hidden",border:"0px",display:"block"});if(b.browser.mozilla){this.requiresFlash=8}}else{var e={id:this.pp.getId()+"_media_youtube",name:this.pp.getId()+"_media_youtube",src:"http://www.youtube.com/apiplayer",width:"100%",height:"100%",bgcolor:"#000000",allowScriptAccess:"always",wmode:"transparent",FlashVars:{enablejsapi:1,autoplay:1}};this.createFlash(e,f)}},flashReadyListener:function(){this._youtubeResizeFix();this.addListeners();this.mediaElement.cueVideoById(this.youtubeGetId())},flashReinitListener:function(){this._youtubeResizeFix();this.addListeners();if(b.browser.mozilla){this.mediaElement.cueVideoById(this.youtubeGetId());if(this.getState()==="PLAYING"){this.setPlay()}}this.elementReady=true},_youtubeResizeFix:function(){b(this.mediaElement).attr({width:"99.99999%",height:"99.9999%"});this.applyCommand("volume",this.pp.getConfig("volume"))},addListeners:function(){if(this.useIframeAPI===true){return}this.mediaElement.addEventListener("onStateChange","projekktor('"+this.pp.getId()+"').playerModel.stateChange");this.mediaElement.addEventListener("onError","projekktor('"+this.pp.getId()+"').playerModel.errorListener")},setSeek:function(d){try{this.mediaElement.seekTo(d,true)}catch(a){}},setVolume:function(a){try{this.mediaElement.setVolume(a*100)}catch(d){}},setPause:function(a){try{this.mediaElement.pauseVideo()}catch(d){}},setPlay:function(a){try{this.mediaElement.playVideo()}catch(d){}},getVolume:function(){try{return this.mediaElement.getVolume()}catch(a){}return 0},getPoster:function(){return this.media.config.poster||this.pp.config.poster||"http://img.youtube.com/vi/"+this.youtubeGetId()+"/0.jpg"},errorListener:function(a){switch((a.data==undefined)?a:a.data){case 100:this.setTestcard(500);break;case 101:case 150:this.setTestcard(501);break;case 2:this.setTestcard(502);break}},stateChange:function(a){clearTimeout(this._updateTimer);if(this.mediaElement===null){return}switch((a.data==undefined)?a:a.data){case -1:this.setPlay();break;case 0:this.endedListener({});break;case 1:this._setBufferState("full");this.playingListener({});this.canplayListener({});this.updateInfo();break;case 2:this.pauseListener({});break;case 3:this.waitingListener({});break;case 5:if(this.useIframeAPI!==true){this.onReady()}break}},onReady:function(){this.setVolume(this.pp.getVolume());this.elementReady=true;if(this.media.title||this.pp.config.title||this.elementReady){return}var a=this;b.ajax({url:"http://gdata.youtube.com/feeds/api/videos/"+this.youtubeGetId()+"?v=2&alt=jsonc",complete:function(e,h){try{data=e.responseText;if(typeof data=="string"){data=b.parseJSON(data)}if(data.data.title){a.sendUpdate("config",{title:data.data.title+" ("+data.data.uploader+")"})}}catch(g){}a.elementReady=true}})},youtubeGetId:function(){return encodeURIComponent(this.media.file.replace(/^[^v]+v.(.{11}).*/,"$1"))},updateInfo:function(){var a=this;clearTimeout(this._updateTimer);(function(){if(a.mediaElement==null){clearTimeout(a._updateTimer);return}try{if(a.getState()!=="IDLE"&&a.getState()!=="COMPLETED"){a.timeListener({position:a.mediaElement.getCurrentTime(),duration:a.mediaElement.getDuration()});a.progressListener({loaded:a.mediaElement.getVideoBytesLoaded(),total:a.mediaElement.getVideoBytesTotal()})}}catch(d){}a._updateTimer=setTimeout(arguments.callee,500)})()}});$p.newModel({modelId:"YTAUDIO",iLove:[{ext:"youtube.com",type:"audio/youtube",platform:"flash",fixed:"maybe"}],applyMedia:function(a){this.imageElement=this.applyImage(this.pp.getConfig("cover")||this.pp.getConfig("poster"),a);this._setBufferState("empty");this.mediaElement=new YT.Player(this.pp.getId()+"_media",{width:"100px",height:"100px",playerVars:{autoplay:10,disablekb:1,start:0,controls:0,enablejsapi:1,playerapiid:this.pp.getId(),origin:location.host},videoId:this.youtubeGetId(),events:{onReady:"onReady"+this.pp.getId(),onStateChange:"onStateChange"+this.pp.getId(),onError:"onError"+this.pp.getId()}})}},"YTVIDEO")});var projekktorControlbar=function(){};jQuery(function(b){projekktorControlbar.prototype={_cTimer:null,_noCHide:false,_cFading:false,_vSliderAct:false,_storeVol:0,_timeTags:{},cb:null,cbFS:null,_pos:{left:0,right:0},controlElements:{},controlElementsConfig:{cb:null,playhead:{on:null,call:null},loaded:{on:"click",call:"scrubberClk"},scrubber:{on:"click",call:"scrubberClk"},play:{on:"click",call:"playClk"},pause:{on:"click",call:"pauseClk"},stop:{on:"click",call:"stopClk"},prev:{on:"click",call:"prevClk"},next:{on:"click",call:"nextClk"},rewind:{on:"click",call:"rewindClk"},forward:{on:"click",call:"forwardClk"},fsexit:{on:"click",call:"exitFullscreenClk"},fsenter:{on:"click",call:"enterFullscreenClk"},vslider:{on:"click",call:"vsliderClk"},vmarker:{on:"click",call:"vsliderClk"},vknob:{on:"mousedown",call:"vknobStartDragListener"},mute:{on:"click",call:"muteClk"},unmute:{on:"click",call:"unmuteClk"},vmax:{on:"click",call:"vmaxClk"},open:{on:"click",call:"openCloseClk"},close:{on:"click",call:"openCloseClk"},loopon:{on:"click",call:"loopClk"},loopoff:{on:"click",call:"loopClk"},draghandle:{on:"mousedown",call:"handleStartDragListener"},controls:{on:null,call:null},title:null,sec_dur:null,min_dur:null,hr_dur:null,sec_elp:null,min_elp:null,hr_elp:null,sec_rem:null,min_rem:null,hr_rem:null},config:{disableFade:false,fadeDelay:2500,showOnStart:false,controlsTemplate:"<div %{fsexit}></div><div %{fsenter}></div><div %{play}></div><div %{pause}></div><div %{prev}></div><div %{next}></div><div %{title}></div><div %{timeleft}>%{min_elp}:%{sec_elp} | %{min_dur}:%{sec_dur}</div><div %{scrubber}><div %{loaded}></div><div %{playhead}></div></div><div %{vslider}><div %{vmarker}></div><div %{vknob}></div></div><div %{mute}></div><div %{vmax}></div>",controlsTemplateFull:null,toggleMute:false},initialize:function(){var h=this,i=this.playerDom.html(),j=true,g=this.getConfig("cssClassPrefix");for(var a in this.controlElementsConfig){if(i.match(new RegExp(g+a,"gi"))){j=false;break}}if(j){this.cb=this.applyToPlayer(b(document.createElement("div")).addClass("controls"));this.cbFS=this.applyToPlayer(b(document.createElement("div")).addClass("controls").addClass("fullscreen").removeClass("active").addClass("inactive"));this.applyTemplate(this.cb,this.getConfig("controlsTemplate"));this.applyTemplate(this.cbFS,this.getConfig("controlsTemplateFull")||this.getConfig("controlsTemplate"))}else{this.cb=this.playerDom.find("."+g+"controls:not(.fullscreen)");this.cbFS=this.playerDom.children("."+g+"controls.fullscreen");if(this.cbFS.length==0){this.cbFS=this.cb}}for(var a in this.controlElementsConfig){this.controlElements[a]=b(this.playerDom).find("."+g+a);this.blockSelection(this.controlElements[a])}this.addGuiListeners();this._storeVol=this.getConfig("volume");this.drawUpdateControls();this.hidecb(true);this.pluginReady=true},applyTemplate:function(i,j){var h=this,g=this.getConfig("cssClassPrefix");if(j){var a=j.match(/\%{[a-zA-Z_]*\}/gi);if(a!=null){b.each(a,function(e,d){var c=d.replace(/\%{|}/gi,"");if(d.match(/\_/gi)){j=j.replace(d,'<span class="'+g+c+'"></span>')}else{j=j.replace(d,'class="'+g+c+'"')}})}i.html(j)}},itemHandler:function(a){this.pluginReady=true;this.hidecb(true)},startHandler:function(){if(this.getConfig("showOnStart")==true){this.showcb(true)}else{this.hidecb(true)}},readyHandler:function(a){clearTimeout(this._cTimer);this.cb.removeClass("fade");this.cbFS.removeClass("fade");if(this.getConfig("disableFade")!=true){this.cb.addClass("fade");this.cbFS.addClass("fade")}this.pluginReady=true},drawUpdateControls:function(){var a=this,f=this.pp.getState();clearTimeout(this._cTimer);if(this.pp.getHasGUI()){return}if(this.getConfig("controls")==false){this.hidecb(true);return}var e=(this.pp.getItemCount()<2||this.getConfig("disallowSkip"));if(!e){this.controlElements.prev.removeClass("inactive").addClass("active");this.controlElements.next.removeClass("inactive").addClass("active")}else{this.controlElements.prev.removeClass("active").addClass("inactive");this.controlElements.next.removeClass("active").addClass("inactive")}if(this.pp.getItemIdx()<1){this.controlElements.prev.removeClass("active").addClass("inactive")}if(this.pp.getItemIdx()>=this.pp.getItemCount()-1){this.controlElements.next.removeClass("active").addClass("inactive")}if(this.getConfig("disablePause")){this.controlElements.pause.removeClass("active").addClass("inactive");this.controlElements.play.removeClass("active").addClass("inactive")}else{if(f==="PLAYING"){this.drawPauseButton()}if(f==="PAUSED"){this.drawPlayButton()}if(f==="IDLE"){this.drawPlayButton()}}if(f=="IDLE"){this.controlElements.stop.removeClass("active").addClass("inactive")}else{this.controlElements.stop.removeClass("inactive").addClass("active")}if(f=="IDLE"){this.controlElements.forward.removeClass("active").addClass("inactive");this.controlElements.rewind.removeClass("active").addClass("inactive")}else{this.controlElements.forward.removeClass("inactive").addClass("active");this.controlElements.rewind.removeClass("inactive").addClass("active")}if(this.pp.getInFullscreen()===true){this.drawExitFullscreenButton()}else{this.drawEnterFullscreenButton()}if(!this.getConfig("enableFullscreen")){this.controlElements.fsexit.removeClass("active").addClass("inactive");this.controlElements.fsenter.removeClass("active").addClass("inactive")}if(this.pp.config._loop!=true){this.controlElements.loopoff.removeClass("active").addClass("inactive");this.controlElements.loopon.removeClass("inactive").addClass("active")}else{this.controlElements.loopoff.removeClass("inactive").addClass("active");this.controlElements.loopon.removeClass("active").addClass("inactive")}this.drawTitle();this.drawUpdateTimeDisplay();this.drawUpdateVolumeDisplay(this.pp.getVolume()||this._storeVol)},stateHandler:function(a){this.drawUpdateControls();if("STOPPED|AWAKENING|IDLE".indexOf(a)>-1){this.drawUpdateTimeDisplay(0,0,0);this.drawUpdateProgressDisplay(0)}else{this.drawUpdateProgressDisplay()}},scheduleModifiedHandler:function(){if(this.pp.getState()==="IDLE"){return}this.drawUpdateControls();this.drawUpdateTimeDisplay();this.drawUpdateProgressDisplay()},volumeHandler:function(a){this.drawUpdateVolumeDisplay(a)},progressHandler:function(a){this.drawUpdateProgressDisplay()},timeHandler:function(a){this.drawUpdateTimeDisplay();this.drawUpdateProgressDisplay()},fullscreenHandler:function(e){var a=this,f=this.getConfig("cssClassPrefix");this._noCHide=false;this._cFading=false;this._vSliderAct=false;clearTimeout(this._cTimer);if(!this.getConfig("controls")){return}if(!this.getConfig("enableFullscreen")){return}if(this.pp.getInFullscreen()===true){this.playerDom.children("."+f+"controls:not(.fullscreen)").stop(true,true).removeClass("active").addClass("inactive").css("display","");this.playerDom.children("."+f+"controls.fullscreen").stop(true,true).removeClass("inactive").addClass("active").css("display","")}else{this.playerDom.children("."+f+"controls:not(.fullscreen)").stop(true,true).removeClass("inactive").addClass("active").css("display","");this.playerDom.children("."+f+"controls.fullscreen").stop(true,true).removeClass("active").addClass("inactive").css("display","")}this.drawUpdateControls();if(this.pp.getState()=="IDLE"){this.hidecb(true)}else{this._cTimer=setTimeout(function(){a.hidecb()},this.getConfig("fadeDelay"))}},addGuiListeners:function(){var a=this;b.each(this.controlElementsConfig,function(f,e){if(!e){return}if(e.on!=null){a.controlElements[f][e.on](function(c){a.clickCatcher(c,e.call,a.controlElements[f])})}});this.cbFS.mouseenter(function(d){a.controlsMouseEnterListener(d)});this.cbFS.mouseleave(function(d){a.controlsMouseLeaveListener(d)});this.cb.mouseenter(function(d){a.controlsMouseEnterListener(d)});this.cb.mouseleave(function(d){a.controlsMouseLeaveListener(d)})},clickCatcher:function(a,e,f){if(b.browser.msie){a.cancelBubble=true}else{a.stopPropagation()}if(!f.hasClass("inactive")){this[e](a,f)}return false},drawTitle:function(){this.controlElements.title.html(this.getConfig("title",""))},hidecb:function(h){clearTimeout(this._cTimer);var f=this.getConfig("cssClassPrefix"),a=(this.pp.getInFullscreen()===true)?this.cbFS:this.cb,g=this;if(a==null){return}a.stop(true,true);if(this._noCHide==true){return}if(!a.is(":visible")){return}if(h===true){this._cFading=false;a.removeClass("active").addClass("inactive").css("display","");return}if(this.getConfig("controls")==false||this.pp.getHasGUI()||!a.hasClass("fade")){a.removeClass("active").addClass("inactive");return}a.fadeOut("slow",function(){b(this).removeClass("active").addClass("inactive").css("display","");g._cFading=false})},showcb:function(h){clearTimeout(this._cTimer);if(this.pp.getHasGUI()||this.getConfig("controls")==false){a.removeClass("active").addClass("inactive").css("display","");return}var g=this,a=(this.pp.getInFullscreen()===true)?this.cbFS:this.cb,f=this.getConfig("cssClassPrefix");if(a==null){return}if("IDLE|AWAKENING|ERROR".indexOf(this.pp.getState())>-1&&h!=true){return}a.stop(true,true);if((!a.hasClass("fade")||h==true)){a.removeClass("inactive").addClass("active").css("display","");return}if(a.is(":visible")||this._cFading==true){this._cTimer=setTimeout(function(){g.hidecb()},this.getConfig("fadeDelay"));return}this._cFading=true;a.fadeIn("slow",function(){g._cFading=false;b(this).removeClass("inactive").addClass("active").css("display","")})},drawUpdateTimeDisplay:function(n,o,e){if(this.pp.getHasGUI()){return}try{var p=(n!=undefined)?n:this.pp.getLoadPlaybackProgress(),k=(o!=undefined)?o:this.pp.getDuration(),a=(e!=undefined)?e:this.pp.getPosition()}catch(m){var p=n||0,k=o||0,a=e||0}this.controlElements.playhead.css("width",p+"%");var l=b.extend({},this._clockDigits(k,"dur"),this._clockDigits(a,"elp"),this._clockDigits(k-a,"rem"));b.each(this.controlElements,function(d,c){if(l[d]){b.each(c,function(){b(this).html(l[d])})}})},drawUpdateProgressDisplay:function(){this.controlElements.loaded.css("width",this.pp.getLoadProgress()+"%")},drawUpdateVolumeDisplay:function(a){if(this._vSliderAct==true){return}if(a==undefined){return}clearTimeout(this._cTimer);var m=(this.pp.getInFullscreen()===true)?this.cbFS:this.cb,j=m.is(":visible"),k=this,n=(this.controlElements.mute.hasClass("toggle")||this.controlElements.unmute.hasClass("toggle")||this.getConfig("toggleMute")),l=m.find("."+this.getConfig("cssClassPrefix")+"vknob"),i=m.find("."+this.getConfig("cssClassPrefix")+"vslider");m.stop(true,true).show();switch(a){case 0:l.css("left",0);break;case 1:l.css("left",(i.width()-(l.width()/2))+"px");break;default:l.css("left",a*(i.width()-(l.width()/2))+"px");break}if(n){if(a){this.controlElements.mute.removeClass("inactive").addClass("active");this.controlElements.unmute.removeClass("active").addClass("inactive")}else{this.controlElements.mute.removeClass("active").addClass("inactive");this.controlElements.unmute.removeClass("inactive").addClass("active");this.controlElements.vmax.removeClass("inactive").addClass("active")}if(a==1){this.controlElements.vmax.removeClass("active").addClass("inactive")}else{this.controlElements.vmax.removeClass("inactive").addClass("active")}}else{this.controlElements.vmax.removeClass("inactive").addClass("active");this.controlElements.unmute.removeClass("inactive").addClass("active");this.controlElements.mute.removeClass("inactive").addClass("active")}this.controlElements.vmarker.css("width",a*100+"%");this._cTimer=setTimeout(function(){k.hidecb()},this.getConfig("fadeDelay"));if(!j){m.hide()}},drawPauseButton:function(a){this.controlElements.pause.removeClass("inactive").addClass("active");this.controlElements.play.removeClass("active").addClass("inactive")},drawPlayButton:function(a){this.controlElements.pause.removeClass("active").addClass("inactive");this.controlElements.play.removeClass("inactive").addClass("active")},drawEnterFullscreenButton:function(a){this.controlElements.fsexit.removeClass("active").addClass("inactive");this.controlElements.fsenter.removeClass("inactive").addClass("active")},drawExitFullscreenButton:function(a){this.controlElements.fsexit.removeClass("inactive").addClass("active");this.controlElements.fsenter.removeClass("active").addClass("inactive")},playClk:function(a){this.pp.setPlay()},pauseClk:function(a){this.pp.setPause()},stopClk:function(a){this.pp.setStop()},controlsMouseEnterListener:function(a){this._noCHide=true},controlsMouseLeaveListener:function(a){this._noCHide=false},controlsClk:function(a){},mousemoveHandler:function(a){this.showcb()},prevClk:function(a){this.pp.setActiveItem("previous")},nextClk:function(a){this.pp.setActiveItem("next")},forwardClk:function(a){this.pp.setPlayhead("+10")},rewindClk:function(a){this.pp.setPlayhead("-10")},muteClk:function(a){this._storeVol=(this.pp.getVolume()==0)?this.getConfig("volume"):this.pp.getVolume();this.pp.setVolume(0)},unmuteClk:function(a){if(this._storeVol<=0){this._storeVol=1}this.pp.setVolume(this._storeVol)},vmaxClk:function(a){this.pp.setVolume(1)},enterFullscreenClk:function(a){this.pp.setFullscreen(true)},exitFullscreenClk:function(a){this.pp.setFullscreen(false)},openCloseClk:function(a){var d=this;b(b(a.currentTarget).attr("class").split(/\s+/)).each(function(f,c){if(c.indexOf("toggle")==-1){return}d.playerDom.find("."+c.substring(6)).slideToggle("slow",function(){d.pp.setResize()});d.controlElements.open.toggle();d.controlElements.close.toggle()})},loopClk:function(a){if(b.inArray(this.getConfig("cssClassPrefix")+"loopon",b(a.currentTarget).attr("class").split(/\s+/))>-1){this.pp.config._loop=true}else{this.pp.config._loop=false}this.drawUpdateControls()},startClk:function(a){this.pp.setPlay()},scrubberClk:function(a){var j=0;if(this.getConfig("disallowSkip")==true){return}var h=(this.pp.getInFullscreen()===true&&this.controlElements.vslider.length>1)?1:0,k=b(this.controlElements.scrubber[h]).width(),l=b(this.controlElements.loaded[h]).width(),i=a.pageX-b(this.controlElements.scrubber[h]).offset().left;if(i<0||i=="NaN"||i==undefined){j=0}else{if(l!=undefined){if(i>l){i=l-1}j=((i*100/k)*this.pp.getDuration()/100)*1}}this.pp.setPlayhead(j)},vmarkerClk:function(a){vsliderClk(a)},vsliderClk:function(j){if(this._vSliderAct==true){return}var g=(this.pp.getInFullscreen()===true&&this.controlElements.vslider.length>1)?1:0,a=b(this.controlElements.vslider[g]),i=a.width(),h=j.pageX-a.offset().left;if(h<0||h=="NaN"||h==undefined){result=0}else{result=(h/i)}this.pp.setVolume(result);this._storeVol=result},vknobStartDragListener:function(t,m){this._vSliderAct=true;var r=this,p=(this.pp.getInFullscreen()===true&&this.controlElements.vslider.length>1)?1:0,s=b(m[p]),n=b(this.controlElements.vslider[p]),a=Math.abs(parseInt(s.position().left)-t.clientX),q=0,o=function(c){if(b.browser.msie){c.cancelBubble=true}else{c.stopPropagation()}r.playerDom.unbind("mouseup",o);n.unbind("mousemove",l);n.unbind("mouseup",o);s.unbind("mousemove",l);s.unbind("mouseup",o);r._vSliderAct=false;return false},l=function(d){clearTimeout(r._cTimer);if(b.browser.msie){d.cancelBubble=true}else{d.stopPropagation()}var c=(d.clientX-a);c=(c>n.width()-s.width()/2)?n.width()-(s.width()/2):c;c=(c<0)?0:c;s.css("left",c+"px");q=Math.abs(c/(n.width()-(s.width()/2)));r.pp.setVolume(q);r._storeVol=q;b(r.controlElements.vmarker[p]).css("width",q*100+"%");return false};this.playerDom.mouseup(o);n.mousemove(l);n.mouseup(o);s.mousemove(l);s.mouseup(o)},handleStartDragListener:function(m,j){var i=this;var k=Math.abs(parseInt(this.cb.position().left)-m.clientX);var n=Math.abs(parseInt(this.cb.position().top)-m.clientY);var a=function(c){if(b.browser.msie){c.cancelBubble=true}else{c.stopPropagation()}i.playerDom.unbind("mouseup",a);i.playerDom.unbind("mouseout",a);i.playerDom.unbind("mousemove",l);return false};var l=function(d){if(b.browser.msie){d.cancelBubble=true}else{d.stopPropagation()}clearTimeout(i._cTimer);var c=(d.clientX-k);c=(c>i.playerDom.width()-i.cb.width())?i.playerDom.width()-i.cb.width():c;c=(c<0)?0:c;i.cb.css("left",c+"px");var e=(d.clientY-n);e=(e>i.playerDom.height()-i.cb.height())?i.playerDom.height()-i.cb.height():e;e=(e<0)?0:e;i.cb.css("top",e+"px");return false};this.playerDom.mousemove(l);this.playerDom.mouseup(a)},errorHandler:function(a){this.hidecb(true)},_clockDigits:function(o,j){if(o<0||isNaN(o)||o==undefined){o=0}var m=Math.floor(o/(60*60));var l=o%(60*60);var p=Math.floor(l/60);var a=l%60;var n=Math.floor(a);var k={};k["min_"+j]=(p<10)?"0"+p:p;k["sec_"+j]=(n<10)?"0"+n:n;k["hr_"+j]=(m<10)?"0"+m:m;return k}}});var projekktorDisplay=function(){};jQuery(function(b){projekktorDisplay.prototype={logo:null,logoIsFading:false,display:null,displayClicks:0,buffIcn:null,buffIcnSprite:null,bufferDelayTimer:null,bufferIconDelay:1,config:{onclick:{callback:"setPlayPause",value:null},onclick_playing:{callback:"setPlayPause",value:null},ondblclick:{callback:"setFullscreen",value:null},bufferIconDelay:200,spriteUrl:"",spriteWidth:50,spriteHeight:50,spriteTiles:25,spriteOffset:1,spriteCountUp:false,logoImage:"",logoDelay:0,logoPosition:"tl",onlogoclick:{callback:"",value:{url:"",target:"_blank",pause:true}}},initialize:function(){var d=this;var a={position:"absolute",overflow:"hidden",height:"100%",width:"100%",top:0,left:0,padding:0,margin:0,display:"block"};this.startButton=this.applyToPlayer(b(document.createElement("div")).addClass("start")).addClass("inactive");this.buffIcn=this.applyToPlayer(b(document.createElement("div")).addClass("buffering")).addClass("inactive");if(this.config.spriteUrl!=""){this.buffIcnSprite=b(document.createElement("div")).appendTo(this.buffIcn).css({width:this.config.spriteWidth,height:this.config.spriteHeight,marginLeft:((this.buffIcn.width()-this.config.spriteWidth)/2)+"px",marginTop:((this.buffIcn.height()-this.config.spriteHeight)/2)+"px",backgroundColor:"transparent",backgroundImage:"url("+this.config.spriteUrl+")",backgroundRepeat:"no-repeat",backgroundPosition:"0 0"}).addClass("inactive")}this.display=this.applyToPlayer(b(document.createElement("div")).addClass("display").css(a));this.pp.getMediaContainer();this.logo=this.applyToPlayer(b(document.createElement("img")).addClass("logo").addClass("inactive").attr("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi/v//PwNAgAEACQsDAUdpTjcAAAAASUVORK5CYII=").css("position","absolute").css(((this.getConfig("logoPosition").indexOf("r")>-1)?"right":"left"),"2%").css(((this.getConfig("logoPosition").indexOf("t")>-1)?"top":"bottom"),"2%"));this.pluginReady=true},displayReadyHandler:function(){var a=this;this.startButton.unbind();this.startButton.click(function(){a.pp.setPlay()})},bufferHandler:function(a){if(a=="EMPTY"){this.showBufferIcon()}else{this.hideBufferIcon()}},stateHandler:function(a){if(a==="IDLE"){this.startButton.addClass("active").removeClass("inactive")}else{this.startButton.addClass("inactive").removeClass("active")}if(a=="AWAKENING"||a=="COMPLETED"||a=="ERROR"){this.hideBufferIcon()}if(a=="ERROR"||a==="STOPPED"){this.logo.addClass("inactive").removeClass("active")}},stoppedHandler:function(){this.hideBufferIcon()},scheduleLoadingHandler:function(){this.startButton.addClass("inactive").removeClass("active");this.showBufferIcon()},scheduledHandler:function(){if(!this.getConfig("autoplay")){this.startButton.addClass("active").removeClass("inactive")}this.hideBufferIcon()},itemHandler:function(){var a=this;this.hideBufferIcon();this.logoIsFading=false;this.logo.stop(true,true).addClass("inactive").removeClass("active").unbind();if(this.getConfig("logoImage")!=false){this.logo.attr("src",this.getConfig("logoImage")).css({cursor:(this.getConfig("logoURL")!="")?"pointer":"normal"}).click(function(){try{a.pp[a.getConfig("onlogoclick").callback](a.getConfig("onlogoclick").value)}catch(d){}return false})}else{this.logo.attr("src","").addClass("inactive").removeClass("active")}},timeHandler:function(){if(this.getConfig("logoImage")==false){return}if(this.pp.getIsMobileClient()){return}var a=this.pp.getPosition(),e=this.pp.getDuration(),f=this;if(!this.logo.is(":visible")&&!this.logoIsFading&&a+this.config.logoDelay<e){if(a>this.config.logoDelay&&e>(this.config.logoDelay*2)){this.logoIsFading=true;this.logo.fadeIn("slow",function(){f.logoIsFading=false;b(this).addClass("active").removeClass("inactive").css("display","")})}}if(this.logo.is(":visible")&&!this.logoIsFading){if(a+this.config.logoDelay>e){this.logoIsFading=true;this.logo.fadeOut("slow",function(){b(this).addClass("inactive").removeClass("active").css("display","");f.logoIsFading=false})}}},leftclickHandler:function(a){var d=this;if(b(a.target).attr("id").indexOf("_media")==-1){return}if(this.pp.getState()=="ERROR"){this.pp.setActiveItem("next");return}if(this.pp.getHasGUI()==true){return}this.displayClicks++;if(this.displayClicks>0){setTimeout(function(){if(d.displayClicks==1){if(d.pp.getState()=="PLAYING"){try{d.pp[d.getConfig("onclick_playing").callback](d.getConfig("onclick_playing").value)}catch(c){}}else{try{d.pp[d.getConfig("onclick").callback](d.getConfig("onclick").value)}catch(c){}}}else{if(d.displayClicks==2){try{d.pp[d.getConfig("ondblclick").callback](d.getConfig("ondblclick").value)}catch(c){}}}d.displayClicks=0},250)}return},hideBufferIcon:function(){var a=this;clearTimeout(this.bufferDelayTimer);this.buffIcn.stop(true,true);this.buffIcn.fadeOut("fast",function(){b(this).addClass("inactive").removeClass("active").css("display","")})},showBufferIcon:function(a){var d=this;clearTimeout(this.bufferDelayTimer);if(this.pp.getHasGUI()){return}if(this.pp.getModel()==="YTAUDIO"||this.pp.getModel()==="YTVIDEO"){a=true}if(a!=true&&this.config.bufferIconDelay>0){this.bufferDelayTimer=setTimeout(function(){d.showBufferIcon(true)},d.config.bufferIconDelay);return}this.buffIcn.stop(true,true);if(this.buffIcn.hasClass("active")){return}this.buffIcn.fadeIn("fast",function(){if(d.buffIcnSprite==null){return}var c=(d.config.spriteCountUp==true)?0:(d.config.spriteHeight+d.config.spriteOffset)*d.config.spriteTiles;d.buffIcnSprite.addClass("active").removeClass("inactive").css("display","");(function(){if(!d.buffIcn.is(":visible")){return}d.buffIcnSprite.css("backgroundPosition","0px -"+c+"px");if(d.config.spriteCountUp==true){c+=d.config.spriteHeight+d.config.spriteOffset}else{c-=d.config.spriteHeight+d.config.spriteOffset}if(c>=d.config.spriteHeight*d.config.spriteTiles){c=0}setTimeout(arguments.callee,60)})()})}}});projekktorConfig.prototype={_cookieName:"qwprojekktor",_cookieExpiry:356,_plugins:["Display","Controlbar"],_addplugins:[],_reelParser:function(b){return b},_cssClassPrefix:"pp",_platformPriority:["native","flash"],_bypassFlashFFFix:false,_iframe:false,_loop:false,_autoplay:false,_continuous:true,_playlist:[],_theme:false,_themeRepo:"http://www.projekktorxl.com/themegen/api/themes/live/format/jsonp/id/%{id}/version/%{ver}",_messages:{0:"An error occurred.",1:"You aborted the media playback. ",2:"A network error caused the media download to fail part-way. ",3:"The media playback was aborted due to a corruption problem. ",4:"The media (%{file}) could not be loaded because the server or network failed.",5:"Sorry, your browser does not support the media format of the requested file (%{type}).",6:"Your client is in lack of the Flash Plugin V%{flashver} or higher.",7:"No media scheduled.",8:"! Invalid media model configured !",9:"File (%{file}) not found.",97:"No media scheduled.",98:"Invalid or malformed playlist data!",99:"Click display to proceed. ",500:"This Youtube video has been removed or set to private",501:"The Youtube user owning this video disabled embedding.",502:"Invalid Youtube Video-Id specified."},_debug:false,_width:0,_height:0,_minHeight:40,_minWidth:40,ID:0,title:null,poster:false,controls:false,start:false,stop:false,volume:0.5,cover:"",disablePause:false,disallowSkip:false,fixedVolume:false,imageScaling:"aspectratio",videoScaling:"aspectratio",playerFlashMP4:"jarisplayer.swf",playerFlashMP3:"jarisplayer.swf",flashStreamType:"file",flashRTMPServer:"",useYTIframeAPI:false,enableFlashFallback:true,enableNativePlayback:true,enableKeyboard:true,enableFullscreen:true,enableTestcard:true,duration:0,className:""};(function(d){d.pixelentity=d.pixelentity||{version:"1.0.0"};function b(o,s,n,g,r){var j;function k(){j[0].play()}j=d('<video controls autobuffer height="'+n+'" width="'+s+'" poster="'+(r?r:"")+'"></video>');for(var m in g){if(typeof m==="string"){j.append('<source src="'+g[m].src+'" type="'+g[m].type+'">')}}j.bind("click",k);o.append(j);setTimeout(p,100);function p(){j.triggerHandler("ready");j.triggerHandler("buffer")}function q(){j.unbind("click",k).detach().empty();j=undefined}function f(h,i){j.bind(h,i)}function l(h,i){j.unbind(h,i)}d.extend(this,{destroy:q,addListener:f,removeListener:l})}d.pixelentity.video={conf:{disableFade:false,useVideoTag:false},getType:function(f){return"video/"+f.match(/(\w+)$/)[1].replace("ogv","ogg")},fallbackPlayer:"js/template/video/jarisplayer.swf",SimplePlayer:b};var a=navigator.userAgent.toLowerCase().match(/(iphone|ipod|ipad|android)/);var e=0;function c(v,n){var l=d(this);var m=v;var r;var s;var p=false;function g(){switch(n.type){case"youtube":d.pixelentity.youtube(k);break;case"vimeo":d.pixelentity.vimeo(f);break;case"vidly":i(["http://vid.ly/"+n.videoId+"?content=video&format=mp4","http://vid.ly/"+n.videoId+"?content=video&format=webm","http://vid.ly/"+n.videoId+"?content=video&format=ogv"],n.poster);break;case"local":i(n.videoId,n.poster);break}}function i(y,A){var x={};for(var w=0;w<y.length;w++){x[w]={src:y[w],type:d.pixelentity.video.getType(y[w])}}if(n.useVideoTag){r=new d.pixelentity.video.SimplePlayer(m,n.width,n.height,x,A)}else{e++;var z="pe_local_player_"+(e);var t=d('<div id="'+(z)+'"/>').css({"background-color":"black",width:n.width,height:n.height});m.html(t[0]);r=new projekktor("#"+z,{disableFade:n.disableFade,controls:true,volume:0.9,_width:n.width,_height:n.height,_autoplay:true,enableFullscreen:false,imageScaling:"fill",videoScaling:"aspectratio",poster:A,playerFlashMP4:d.pixelentity.video.fallbackPlayer,playerFlashMP3:d.pixelentity.video.fallbackPlayer,playlist:[x]})}r.addListener(a?"ready":"buffer",j)}function j(t){if(a){setTimeout(q,100);r.removeListener("ready",j)}else{if(t=="FULL"||n.useVideoTag){r.removeListener("buffer",j);q()}}}function k(t){var w=d("<div/>");m.append(w);r=new t(w[0],{height:n.height,width:n.width,videoId:n.videoId,playerVars:{theme:"dark",wmode:"opaque",autohide:1,enablejsapi:1,origin:location.href.match(/:\/\/(.[^\/]+)/)[1],loop:n.loop?1:0,hd:n.hd?1:0,autoplay:n.autoPlay?1:0,showinfo:0,iv_load_policy:3,modestbranding:1,showsearch:0,fs:0},events:{onStateChange:u,onReady:q}});r.peUseHD=n.hd;s=setInterval(u,250);if(d.browser.msie&&d.browser.version<8){setTimeout(q,1000)}}function q(){if(!p){l.trigger("video_ready.pixelentity");p=true}}function f(t){r=new t(m[0],{height:n.height,width:n.width,videoId:n.videoId,playerVars:{autohide:0,origin:location.href.match(/:\/\/(.[^\/]+)/)[1],loop:n.loop?1:0,autoplay:n.autoPlay?1:0}});d(r).one("video_ready.pixelentity",q).one("video_ended.pixelentity",o)}function o(){l.trigger("video_ended.pixelentity")}function u(){if(!r){return}if(r.getPlayerState){if(r.peUseHD&&r.getPlaybackQuality){if(r.getPlaybackQuality()!="hd720"){r.setPlaybackQuality("hd720")}}switch(r.getPlayerState()){case YT.PlayerState.ENDED:l.trigger("video_ended.pixelentity");break;case YT.PlayerState.PLAYING:if((r.getDuration()-r.getCurrentTime())<0.4){l.trigger("video_ended.pixelentity")}break}}}function h(t,x){if(r&&r.setSize){r.setSize({width:t,height:x})}}d.extend(this,{resize:h,bind:function(w,t){l.bind(w,t)},unbind:function(w,t){l.bind(w,t)},one:function(w,t){l.one(w,t)},destroy:function(){clearInterval(s);if(l){l.remove()}l=undefined;if(r){d(r).unbind("video_ended.pixelentity");switch(n.type){case"vidly":case"local":if(r.removeListener){r.removeListener(a?"ready":"buffer",j)}if(n.useVideoTag){if(r.destroy){r.destroy()}}else{if(r.selfDestruct){r.selfDestruct()}}break;default:if(r.destroy){r.destroy()}}}r=undefined;m.data("peVideo",null);m=undefined}});g()}d.fn.peVideo=function(f){var g=this.data("peVideo");if(g){return g}f=d.extend(true,{},d.pixelentity.video.conf,f);this.each(function(){g=new c(d(this),f);d(this).data("peVideo",g)});return f.api?g:this}}(jQuery));(function(f){f.pixelentity=f.pixelentity||{version:"1.0.0"};function a(k,r,t,u){var v,q,m,o,s=false,p=false;k=k?k:"";for(var l in d){if(typeof l==="string"){v=k.match(d[l]);if(v&&v.length>0){q=l;m=v[2];t=c[q]?c[q].replace("$ID",m):"";break}}}if(!m){var j=k.match(b);if(j){q="local";m=[j[0]];if(r){r=r.split(",");for(o=0;o<r.length;o++){m.push(j[1]+r[o])}}}else{m=false}}if(u){var n=u.split(/x| |,/);s=parseInt(n[0],10)||0;p=parseInt(n[1],10)||0}return{video:m,videoType:q,videoPoster:t,videoW:s,videoH:p}}f.pixelentity.videoplayer={conf:{autoPlay:false,responsive:false,api:false},getInfo:a};var g=[];var d={vidly:/http:\/\/(vid.ly)\/([\w|\-]+)/i,youtube:/http:\/\/(www.youtube.com\/watch\?v=|youtube.com\/watch\?v=|youtu.be\/)([\w|\-]+)/i,vimeo:/http:\/\/(vimeo\.com|www\.vimeo\.com)\/([\w|\-]+)/i};var c={vidly:"http://cf.cdn.vid.ly/$ID/poster.jpg",youtube:"http://img.youtube.com/vi/$ID/0.jpg",vimeo:"http://vimeo.com/api/v2/video/$ID.json?callback=?"};var b=/(.+[^w])(mp4|webm|ogv)$/i;function e(C,m){var u,n,z,j,v,p;var r;var y=false;var s;function k(){var D=a(C[0].href,C.attr("data-formats"),C.attr("data-poster"),C.attr("data-size"));if(D.video){v=D.video;j=D.videoType;p=D.videoPoster}else{return}if(D.videoW!==false){C.css({width:D.videoW,height:D.videoH})}n=D.videoW||C.width();z=D.videoH||C.height();var w=f('<span class="largePlay"></span>');if(m.responsive){r=f("<div/>").fadeTo(0,0);C.append(w).removeAttr("href").append(r).wrap('<div class="videoWrapper sixteenBYnine '+D.videoType+'"></div>');if(C.attr("data-target")!="flare"){C.addClass("peActiveWidget").bind("enable.pixelentity ",o).bind("disable.pixelentity ",i).bind("click",A)}}else{C.append(w).wrap('<div style="position: relative; overflow: hidden"></div>').addClass("peActiveWidget").bind("enable.pixelentity ",o).bind("disable.pixelentity ",i).bind("click",A);w.css({left:(n-w.width())>>1,top:(z-w.height())>>1});r=f("<div/>").css({position:"absolute","z-index":2,display:"none",width:n+"px",height:z+"px"});C.parent().prepend(r)}var h=C.children("img:eq(0)");if(h.length>0){u=h;p=h.attr("src");t()}else{if(C.attr("data-poster")){p=C.attr("data-poster");if(m.responsive){C.parent().addClass("customCover")}l()}else{if(p){if(j=="vimeo"){f.getJSON(p,q)}else{l()}}}}if(f.pixelentity.browser.mobile||m.autoPlay){o()}}function q(h){p=(h&&h[0]&&h[0].thumbnail_large)||false;if(p){l()}}function l(){u=f("<img/>");u.fadeTo(0,0).css("opacity",0).attr("data-src",p);C.append(u);f.pixelentity.preloader.load(u,t)}function t(){if(m.responsive){u.width("100%").fadeTo(300,1);return}var h=u[0].width||u.width();var w=u[0].height||u.height();var D=f.pixelentity.Geom.getScaler("fillmax","center","center",n,z,h,w);u.transform(D.ratio,D.offset.w,D.offset.h,n,z,true);u.fadeTo(300,1)}function A(w){if(y){return false}if(!f.pixelentity.browser.mobile){for(var h=0;h<g.length;h++){if(h!=s){g[h].disable()}}}r.show().fadeTo(0,0);y=r.peVideo({api:true,useVideoTag:m.responsive&&f.pixelentity.browser.mobile,width:m.responsive?"100%":n,height:m.responsive?"100%":z,type:j,videoId:v,poster:p,hd:true,autoPlay:true,loop:true});y.one("video_ready.pixelentity",B);return false}function B(){r.fadeTo(500,1)}function x(){}function o(){if(!y&&(f.pixelentity.browser.mobile||m.autoPlay)){A()}}function i(){if(y){if(y.destroy){y.destroy()}y=false;r.empty().fadeTo(0,0).hide()}}f.extend(this,{enable:o,disable:i,destroy:function(){if(y&&y.destroy){y.destroy()}y=undefined;g.splice(s,1);C.data("peVideoPlayer",null);C=undefined}});s=g.length;g.push(this);k()}f.fn.peVideoPlayer=function(h){var i=this.data("peVideoPlayer");if(i){return i}h=f.extend(true,{},f.pixelentity.videoplayer.conf,h);this.each(function(){i=new e(f(this),h);f(this).data("peVideoPlayer",i)});return h.api?i:this}}(jQuery));(function(c){c.pixelentity=c.pixelentity||{version:"1.0.0"};if(c.pixelentity.ticker){return}var i=[];var b=0;function a(){return(new Date()).getTime()}var h,f,d;var g=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||false;function e(){var m,l;if(b>0){m=a();for(var k in i){l=i[k];if(l.paused){continue}if(m-l.last>=l.each){l.callback(l.last,m);l.last=m}}if(g){g(e)}}}var j=c.pixelentity.ticker={register:function(l,k){b++;k=(typeof k=="undefined")?33:k;if(k>0){k=parseInt(1000/k,10)}else{if(c.browser.mozilla){k=parseInt(1000/50,10)}}i.push({callback:l,last:a(),each:k,delay:0});if(b==1){if(g){g(e)}else{h=setInterval(e,16);f=setInterval(e,20);d=setInterval(e,30)}}},pause:function(l){for(var k in i){if(i[k].callback==l){i[k].paused=true}}},resume:function(l){for(var k in i){if(i[k].callback==l){i[k].paused=false}}},unregister:function(l){for(var k in i){if(i[k].callback==l){delete i[k];b--}}if(b<=0){clearInterval(h);clearInterval(f);clearInterval(d)}}}}(jQuery));(function(a){a.pixelentity=a.pixelentity||{version:"1.0.0"};a.pixelentity.peBackgroundSlider={conf:{api:false,wait:false}};function b(I,m){var B,q,x,s;var r=a(this);var f=0;var A="center,center".split(/,/);var J="fillmax";var o,C;var G=false;var e=false;var y=false;var p;var u=0;function i(){s=a(window);if((p=I.attr("data-slideshow"))){p=JSON.parse(p);if(typeof p=="object"){l()}else{p=false}}}function l(){if(a.pixelentity.peFlareLightbox&&a.pixelentity.peFlareLightbox.active){setTimeout(l,1000);return}k(p[u],p[u]);u=(u+1)%p.length}function k(h,L){if(e){if(q){a.pixelentity.preloader.clear(q,c)}if(x){a.pixelentity.preloader.clear(x,c)}t()}y=G=false;e=true;if(q){B=q.removeClass("peCurrentColor").addClass("pePrevColor")}f=h?1:0;f+=L?1:0;r.triggerHandler("loading.pixelentity");var w=a.browser.mozilla;if(h){q=a("<img/>").addClass("peCurrentColor").attr("data-src",h);if(w){q.css("background-color","rgba(255,255,255,.01)")}I.append(q.fadeTo(0,0)[0]);a.pixelentity.preloader.load(q,c)}else{q=false}if(L){x=a("<img/>").addClass("peCurrentBW").attr("data-src",L);if(w){x.css("background-color","rgba(255,255,255,.01)")}I.append(x.fadeTo(0,0)[0]);a.pixelentity.preloader.load(x,c)}else{x=false}if(!f){z()}}function c(h){f--;if(f===0){z()}}function z(){if(G){return}G=true;r.triggerHandler("loaded.pixelentity");if(y||!m.wait){D()}}function n(){y=true;if(f===0){D()}}function D(){d(q);d(x);F();if(B){if(q){B.fadeTo(400,0);v()}else{B.fadeTo(400,0,v)}}else{v()}}function F(){o=s.width();C=window.innerHeight?window.innerHeight:s.height();g(q,1.02);g(x,1)}function g(M,w){if(M){var h=M.data("w");var L=M.data("h");var N=a.pixelentity.Geom.getScaler(J,A[1],A[0],o,C,h,L);M.transform(N.ratio*w,parseInt(N.offset.w+h*(N.ratio-N.ratio*w)*0.5,10),parseInt(N.offset.h+L*(N.ratio-N.ratio*w)*0.5,10),h,L,true,a.pixelentity.browser.android&&a.pixelentity.browser.android<3)}}function d(h){if(h){h.data("w",h[0].width||h.width()||h[0].naturalWidth);h.data("h",h[0].height||h.height()||h[0].naturalHeight)}}function v(){if(x){x.delay(200).fadeTo(800,1)}if(q){q.delay(600).fadeTo(1200,1,t)}else{t()}}function t(){e=false;if(B){B.remove();B=false}if(x){x.remove();x=false}if(r){r.triggerHandler("complete.pixelentity")}if(p){setTimeout(l,5000)}}function K(){r.bind.apply(r,arguments)}function j(){r.unbind.apply(r,arguments)}function H(w,h){J=w;A=h.split(/,/)}function E(){B=q=x=s=r=undefined;I.data("peBackgroundSlider",null);I=undefined}a.extend(this,{load:k,resize:F,gogo:n,bind:K,unbind:j,configure:H,destroy:E});i()}a.fn.peBackgroundSlider=function(c){var d=this.data("peBackgroundSlider");if(d){return d}c=a.extend(true,{},a.pixelentity.peBackgroundSlider.conf,c);this.each(function(){var e=a(this);d=new b(e,c);e.data("peBackgroundSlider",d)});return c.api?d:this}}(jQuery));(function(d){d.pixelentity=d.pixelentity||{version:"1.0.0"};d.pixelentity.peFlareLightbox={conf:{api:false}};d.pixelentity.video.fallbackPlayer="js/pe.flare/video/jarisplayer.swf";var b=navigator.userAgent.toLowerCase();var g=/http:\/\/(vimeo\.com|www\.vimeo\.com)\//i;var f={none:{from:0,to:0},prev:{from:-100,to:0},next:{from:100,to:0}};function e(){var ax;var aJ=false;var u=false;var W;var P,X;var aB;var ad=false;var y=false;var ap=false;var n=d.support.csstransitions;var aI=d.support.csstransitionsEnd;var ag,L;var aw=[];var ar=[];var J={};var k=[];var aC=[];var ay={};var aK=[];var au=[];var T=0;var M;var aL=false;var Q=0;var U=-1;var aQ=false;var K=1;var aD="none";var aE,D,i;var aj=0;var I=0;var al;var aS;var af=false;var ao;var B=0;var ak=0;var j=false;var ae,x;var aO;var R=0;var m=false;function s(){P=W.width();X=window.innerHeight?window.innerHeight:W.height();if(aB){aB.width(P).height(X);if(m){aB.css("top",W.scrollTop())}}if(d.pixelentity.browser.mobile&&al&&al.data("count")>0){av(B,true)}var h=au.length;while(h--){au[h].resize(P,X)}aA()}function aN(w,h){aw[h]=w}function o(h){clearTimeout(ao);switch(h.type){case"mouseenter":aH(true);break;case"mouseleave":aH(false);break;case"click":if(!I){var w=parseInt(h.currentTarget.id,10);if(U>=0){aD=w>U?"next":"prev"}l(w)}h.stopPropagation();h.stopImmediatePropagation();return false}}function ac(w){clearTimeout(ao);var aU=w?w.pageX:0;var h=al.data("width");var aT=h-P;if(aT>=0){aU=-aT*aU/P;aS.css("margin-left",aU)}else{aS.css("margin-left","auto")}}function av(aW,aV){var h=al.data("size");var w=Math.floor(P/h);var aU;var aT=0;if(al.data("width")>P){if(aV){B=aW}else{B=Math.max(0,B+aW*w)}if((aU=al.data("count")-B)<w){B-=(w-aU+1);aT=P-w*h-h-8}}else{B=0}ak=-B*h+aT;aS.transform(1,ak===0?0:ak-2,0)}function z(aT){if(!ad||aO){return true}var w=aT.type;var aU=aT.originalEvent;switch(w){case"touchstart":if(aU.touches.length>1||aU.scale&&aU.scale!==1){return true}aE=aU.touches[0].pageX;D=0;break;case"touchmove":if(aU.touches.length>1||aU.scale&&aU.scale!==1){return true}D=(aU.touches[0].pageX-aE);aT.preventDefault();aT.stopPropagation();if(af){aS.addClass("touchMove").transform(1,ak+D,0)}break;case"touchend":if(af){aS.removeClass("touchMove")}if(D===0){return false}var h=false;if(D>10){h=true;if(!af){N()}else{av(-1)}}if(D<-10){h=true;if(!af){ai()}else{av(+1)}}D=0;break}return true}function S(h){if(!ad){return true}h.preventDefault();h.stopPropagation();return false}function ai(){if(I||!aL){return}aD="next";l(aL[(Q+1)%aL.length])}function N(){if(I||!aL){return}aD="prev";l(aL[Q===0?aL.length-1:Q-1])}function aH(h){var w=al.parent();af=h===true?true:(h===false?false:(af?false:true));if(aI){w[af?"addClass":"removeClass"]("peFlareLightboxActive")}else{w.animate({"margin-top":(af?-84:0)},500)}}function aA(){if(x.hasClass("peFlareLightboxActive")){if(d.pixelentity.browser.mobile||j.videoType=="youtube"||j.videoType=="vimeo"){var h=d.pixelentity.browser.iDev?35:0;var w=d.pixelentity.browser.android?P*9/16:X;w=Math.min(w,X);x.find("iframe, video").css("margin-top",(X-w)/2+h).height(w-h).width("100%")}else{aO.resize(P,X)}}}function ah(){clearTimeout(R);aO.unbind("video_ready.pixelentity",ah);ag.hide();x.addClass("peFlareLightboxActive");aA();if(d.pixelentity.browser.iDev&&(j.videoType=="vimeo"||j.videoType=="youtube")){m=true;aB.css({position:"absolute",top:W.scrollTop()})}}function t(){clearTimeout(R);if(aO){if(aO.destroy){aO.destroy()}aO=false;x.removeClass("peFlareLightboxActive").empty();ae.addClass("peFlareLightboxActive")}if(m){m=false;aB.css({position:"fixed",top:0})}}function aR(){if(aO){t();ae.addClass("peFlareLightboxActive");if(!aL){Z()}}else{Z()}}function aa(){ag.show();ae.removeClass("peFlareLightboxActive");aO=x.peVideo({api:true,useVideoTag:d.pixelentity.browser.mobile,disableFade:true,width:P,height:X,type:j.videoType,videoId:j.video,poster:d.pixelentity.browser.mobile&&j.videoPoster,hd:true,autoPlay:true,loop:false});aO.one("video_ready.pixelentity",ah);R=setTimeout(ah,5000)}function aP(h){switch(h.currentTarget.id){case"peFlareLightboxControlClose":aR();break;case"peFlareLightboxControlNext":ai();break;case"peFlareLightboxControlPrev":N();break;case"peFlareLightboxControlThumbs":aH();break;case"peFlareLightboxControlVideo":aa();break}h.stopPropagation();h.stopImmediatePropagation();return false}function Y(h,w){if(!ad){return true}if(h.type=="keydown"){switch(h.keyCode){case 27:aR();break;case 39:ai();break;case 37:N();break}}else{if(!aO){if(w<0){ai()}else{N()}}}h.preventDefault();h.stopPropagation();return false}function am(h){if(aJ){return true}aJ=true;ax=h;return true}function at(h){if(!ad){return}if(m){aB.css("top",W.scrollTop())}}function H(){if(u){return true}u=true;W=d(window).resize(s);W.scroll(at);aB=d('<div class="peFlareLightbox"><div class="peFlareLightboxHidden"></div><div class="peFlareLightboxControls"><div><a href="#" class="sprite" id="peFlareLightboxControlClose"/><a href="#" class="sprite" id="peFlareLightboxControlNext"/><a href="#" class="sprite" id="peFlareLightboxControlPrev"/><a href="#" class="sprite" id="peFlareLightboxControlThumbs"/></div></div><div class="peFlareLightboxOverlay"></div><div class="peFlareLightboxContent"></div><div class="peFlareLightboxThumbs"><span></span></div><a id="peFlareLightboxControlVideo" class="peFlareLightboxVideoIcon"><span></span></a><div class="peFlareLightboxVideo"></div><div class="peFlareLightboxSpinner"><span/></div></div>');if(!n){aB.addClass("no-transitions")}if(d.browser.msie){aB.addClass("msie")}d("body").append(aB).bind("touchmove",S);ag=aB.find(".peFlareLightboxSpinner").hide();L=aB.find(".peFlareLightboxContent");ae=aB.find(".peFlareLightboxVideoIcon");x=aB.find(".peFlareLightboxVideo");al=d("<div/>");if(d.pixelentity.browser.mobile){aB.addClass("mobile");aB.find(".peFlareLightboxThumbs").append(al)}else{aB.find(".peFlareLightboxThumbs").bind("mouseenter mouseleave",o).append(al)}M=aB.find(".peFlareLightboxHidden");aB.bind("touchstart touchmove touchend",z).bind("mousewheel",Y).delegate(".peFlareLightboxControls a","click touchstart",aP).delegate(".peFlareLightboxThumbs span","click",o);ae.click(aP);if(!d.pixelentity.browser.mobile){al.bind("mousemove",ac)}else{aB.click(aH)}d(document).bind("keydown",Y)}function v(){y=true;aB.css("filter","none");if(al.data("created")){aH(true);ao=setTimeout(aH,2000)}if(aK.length===T){ab()}}function an(){aB.addClass("peFlareLightboxActive");if(n){setTimeout(v,600)}else{aB.stop().css("opacity",0).fadeTo(500,1,v)}}function V(){d.pixelentity.peFlareLightbox.active=ad=true;H();s();W.scrollLeft(0);aB.show();setTimeout(an,10)}function aq(){d.pixelentity.peFlareLightbox.active=ad=false;aL=false;I=false;U=-1;t();aB.hide();L.empty();var h,w;while((w=au.shift())){w.destroy()}while((h=ar.shift())){J[h].destroy()}al.data("created",false).empty();aB.removeClass("peFlareLightboxActive");ae.removeClass("peFlareLightboxActive");aD="none"}function Z(h){y=false;if(n){if(false){aB.one(aI,aq)}else{setTimeout(aq,600)}aB.removeClass("peFlareLightboxActive")}else{aB.stop().css("opacity",1).fadeTo(500,0,aq)}}function aG(){ag.show()}function G(){aj=setTimeout(aG,500)}function aM(){clearTimeout(aj);ag.hide()}function O(){if(!aL||al.data("created")===true){return}var w,aV;aS=d("<div/>");al.empty().append(aS);var aU=0;for(var aT=0;aT<aL.length;aT++){aV=aL[aT];if((w=aC[aV].thumb)){w=d("<span/>").attr("data-src",w).attr("id",aV);aS.append(w);w.peSimpleThumb();aU++}}var h=aU*(104)+10;aS.width(h);al.data("count",aU);al.data("size",104);if(aU>0){al.data("created",true);al.data("width",h)}else{aB.find("#peFlareLightboxControlThumbs").hide()}}function q(h){aM();var w=U;aC[w].resource=(h&&h[0]&&h[0].thumbnail_large)||false;U=-1;l(w)}function l(aV){var aT=aC[aV];if(aT.resource.match(g)){U=aV;G();d.getJSON(aT.resource,q);return false}if(aV===U){ap=true;T=0;return false}U=aV;t();aL=aT.gallery?ay[aT.gallery]:false;aL=aL.length>1?aL:false;aB.find("#peFlareLightboxControlPrev,#peFlareLightboxControlNext,#peFlareLightboxControlThumbs")[aL&&aL.length>1?"show":"hide"]();if(aL){Q=d.inArray(aV,aL);O()}ap=false;T=0;var w;var aU,h;if(ar.length>0&&(aU=J[ar[0]]).isGallery){w=ar[0];aQ=false}else{w=K++;h=aw[aT.plugin]||aw["default"];aU=new h(w,P,X);J[w]=aU;ar.push(w);aQ=true}j=aT.video?aT:false;if(!j){ae.removeClass("peFlareLightboxActive")}aK.push(w);G();aU.load(aT)}function F(aT){var h=aT.currentTarget;var w=parseInt(h.getAttribute("data-pe-flare-id"||0),10);var aV=h.getAttribute("data-pe-flare-gallery");var aU;if(aV&&w>=0){if(!ay[aV]){return false}aU=ay[aV][w]}else{aU=parseInt(h.getAttribute("data-pe-target-id"),10)}if(aU>=0){V();l(aU)}return false}function aF(w){var h=d.inArray(w,ar);if(h!==false){ar.splice(h,1)}J[w]=undefined;delete J[w]}function p(h,w){switch(h){case"loaded":T++;if(aK.length===T&&y){ab()}break;case"destroy":aF(w);break;case"locked":I++;break;case"unlocked":I--;break}}function r(aT){var w=J[aT];var h=w.resize(P,X).render();if(w.isGallery){L.append(h)}else{h.css("left",f[aD].from);L.append(h);if(n){h.fadeTo(0,1).css("left",f[aD].to)}else{h.css("opacity",0).animate({left:f[aD].to,opacity:1},1000)}}if(d.inArray(w,au)<0){au.push(w)}if(j&&!aL){ae.removeClass("peFlareLightboxActive");aa()}else{ae[j?"addClass":"removeClass"]("peFlareLightboxActive")}}function E(){if(!aQ){return}aQ=false;var w,h;while((w=au.shift())){if(aI){w.render().fadeTo(0,0).css("left",-f[aD].from).one(aI,w.destroy)}else{w.render().css("opacity",1).animate({left:-f[aD].from,opacity:0},1000,null,w.destroy)}}}function ab(){aM();if(ap){return}ap=true;var h;E();while((h=aK.shift())!==undefined){r(h)}}function az(w){var h=w.gallery||false;var aT=w.id!==undefined?w.id:aC.length;if(h){if(ay[h]){ay[h].push(aT)}else{ay[h]=[aT]}}aC.push(w)}function C(aX){var aY,aU=aX.attr("href");if(aU.charAt(0)=="#"){aU=aU.substring(1);var h=aU.substring(0,aU.lastIndexOf("-"));if(h){aY=aU.substring(aU.lastIndexOf("-")+1)}else{h=aU;aY=0}if(h){aX.attr("data-pe-flare-id",aY).attr("data-pe-flare-gallery",h).bind("click",F)}return}aY=k.length;var aV=aX.attr("href");var aT=aX.attr("data-flare-plugin")||"default";aX.attr("data-pe-target-id",k.length).bind("click",F);var aW;aW=d.pixelentity.videoplayer.getInfo(aV,aX.attr("data-flare-videoformats"),aX.attr("data-flare-videoposter"));if(aW.video){aV=aW.videoPoster}else{aW=d.pixelentity.videoplayer.getInfo(aX.attr("data-flare-video"),aX.attr("data-flare-videoformats"))}var w={id:aY,plugin:aT,resource:aV||"",gallery:aX.attr("data-flare-gallery")||false,bw:aX.attr("data-flare-bw"),thumb:aX.attr("data-flare-thumb"),scale:aX.attr("data-flare-scale")||"fit"};if(aW.video){d.extend(w,aW)}k.push(aX);az(w)}function A(h){M.append(h)}d.extend(this,{init:am,add:C,show:r,signal:p,register:aN,addToBuffer:A})}var c=d.pixelentity.lightbox=new e();function a(i,h){function j(){c.init(h);c.add(i)}d.extend(this,{destroy:function(){i.data("peFlareLightbox",null);i=undefined}});j()}d.fn.peFlareLightbox=function(h){var i=this.data("peFlareLightbox");if(i){return i}h=d.extend(true,{},d.pixelentity.peFlareLightbox.conf,h);this.each(function(){var j=d(this);i=new a(j,h);j.data("peFlareLightbox",i)});return h.api?i:this}}(jQuery));(function(b){b.pixelentity=b.pixelentity||{version:"1.0.0"};b.pixelentity.peSimpleThumb={conf:{api:false}};function a(f,e){var c;function g(){c=b("<img/>").attr("src",f.attr("data-src")).fadeTo(0,0);f.append(c);b.pixelentity.preloader.load(c,d)}function d(){var h=c[0].naturalWidth||c[0].width||c.width();var i=c[0].naturalHeight||c[0].height||c.height();var j=b.pixelentity.Geom.getScaler("fillmax","center","center",f.width(),f.height(),h,i);c.transform(j.ratio,parseInt(j.offset.w,10),parseInt(j.offset.h,10),h,i,true,true);c.fadeTo(500,1);f.addClass("loaded");f=undefined;c=undefined}b.extend(this,{destroy:function(){f.data("peSimpleThumb",null);f=undefined}});g()}b.fn.peSimpleThumb=function(c){var d=this.data("peSimpleThumb");if(d){return d}c=b.extend(true,{},b.pixelentity.peSimpleThumb.conf,c);this.each(function(){var e=b(this);d=new a(e,c);e.data("peSimpleThumb",d)});return c.api?d:this}}(jQuery));(function(c){var b;if(!c.pixelentity||!(b=c.pixelentity.lightbox)){return}function a(f,s,n){var g;var l,u;var k=false;var j=false;var p;function t(h){p=h;b.signal("locked",f);q(h);return this}function i(h,v){s=h;n=v;if(g){g.resize(s,n)}return this}function m(){b.signal("loaded",f)}function e(){b.signal("unlocked",f)}function d(){setTimeout(o,50);return j}function o(){if(g){g.gogo()}}function q(h){k=true;if(!g){j=c('<div class="peFlareLightboxRenderGallery" />');b.addToBuffer(j);g=j.peBackgroundSlider({api:true,wait:true});g.bind("loaded.pixelentity",m);g.bind("complete.pixelentity",e)}g.load(h.resource,h.bw);g.configure("fillmax","center,center")}function r(){if(j){j.detach();j=undefined}if(g){g.unbind("loaded.pixelentity",m);g.unbind("complete.pixelentity",e);g.destroy();g=undefined}b.signal("destroy",f)}c.extend(this,{load:t,preload:q,resize:i,render:d,isGallery:true,destroy:r})}b.register(a,"shutter")}(jQuery));(function(c){var b;if(!c.pixelentity||!(b=c.pixelentity.lightbox)){return}function a(e,r,n){var m;var k,t;var j=false;var i=false;var o;function s(h){o=h;b.signal("locked",e);p(h);return this}function g(){b.signal("unlocked",e)}function f(h,u){r=h;n=u;if(m){var v=0;if(o.scale=="fit"){v=40}var w=c.pixelentity.Geom.getScaler(o.scale,"center","center",r-v,n-v,k,t);m.transform(w.ratio,parseInt(w.offset.w,10)+v/2,parseInt(w.offset.h,10)+v/2,k,t,true,c.pixelentity.browser.android&&c.pixelentity.browser.android<3)}return this}function l(){k=m[0].naturalWidth||m[0].width||m.width();t=m[0].naturalHeight||m[0].height||m.height();b.signal("loaded",e);setTimeout(g,500)}function d(){if(!i){i=c('<div class="peFlareLightboxRenderImage" />').append(m.addClass(o.scale));m.wrap("<div/>")}return i}function p(h){j=true;m=c('<img class="singleImage" src="%0"/>'.format(h.resource));b.addToBuffer(m);c.pixelentity.preloader.load(m,l)}function q(){m=undefined;if(i){i.detach();i=undefined}b.signal("destroy",e)}c.extend(this,{load:s,preload:p,resize:f,render:d,isGallery:false,destroy:q})}b.register(a,"default")}(jQuery));(function(d,f,g,b){var c={transition:"cubeV",fallback3d:"sliceV",controls:"thumbs",thumbMargin:3,autoPlay:false,delay:5000,transitionDuration:800,startSlide:0,keyNav:true,captionWidth:50,arrowTemplate:'<div class="rs-arrows"><a href="#" class="rs-prev"></a><a href="#" class="rs-next"></a></div>',onInit:function(){},onChange:function(){},afterChange:function(){}};function h(k,j){this.$slider=d(k).addClass("rs-slider");this.settings=d.extend({},c,j);this.$slides=this.$slider.find("> div");this.totalSlides=this.$slides.length;this.cssTransitions=i.cssTransitions();this.cssTransforms3d=i.cssTransforms3d();this.currentPlace=this.settings.startSlide;this.$currentSlide=d(this.$slides[this.currentPlace]);this.inProgress=false;this.$sliderWrap=this.$slider.wrap('<div class="rs-wrap" />').parent();this.$sliderBG=this.$slider.wrap('<div class="rs-slide-bg" />').parent();this.settings.slider=this;this.init()}h.prototype={init:function(){var m=this;this.settings.onInit();this.captions();if(this.settings.controls==="arrows"){this.setArrows()}if(this.settings.keyNav){this.setKeys()}for(var k=0;k<this.totalSlides;k++){d(this.$slides[k]).attr("class","rs-slide-"+k)}if(this.settings.autoPlay){this.setAutoPlay();this.$slider.on("mouseenter",function(){clearTimeout(m.cycling)});this.$slider.on("mouseleave",function(){m.setAutoPlay()})}var j=d(this.$slides).find("> img:eq(0)").addClass("rs-slide-image"),l=[];d.pixelentity.preloader.load(d(j),function(){for(var n=0;n<m.totalSlides;n++){l.push(d(j[n]).clone().css({position:"absolute",visibility:"hidden",display:"block"}).appendTo(m.$slider))}setTimeout(function(){m.setup(l)},0)})},setup:function(l){var o=this,m=parseInt(this.$sliderBG.css("padding-left").replace("px",""))+parseInt(this.$sliderBG.css("padding-right").replace("px","")),k=[];var j=l.length,n;while(j--){n=l[j];k.push(n[0].naturalWidth||n[0].width||n.width());if(o.settings.controls!=="thumbs"){d(l[j]).remove()}}this.$sliderWrap.css("width",Math.floor.apply(Math,k)+m);if(this.settings.controls==="thumbs"){this.setThumbs(l)}this.$currentSlide.css({opacity:1,"z-index":2});this.$sliderBG.prefixes({transform:"translateZ(0)"});this.$slider.trigger("init.pixelentity")},setArrows:function(){var j=this;this.$sliderWrap.append(this.settings.arrowTemplate);d(".rs-next",this.$sliderWrap).on("click",function(k){k.preventDefault();j.next()});d(".rs-prev",this.$sliderWrap).on("click",function(k){k.preventDefault();j.prev()})},next:function(){if(this.currentPlace===this.totalSlides-1){this.transition(0,true)}else{this.transition(this.currentPlace+1,true)}},prev:function(){if(this.currentPlace==0){this.transition(this.totalSlides-1,false)}else{this.transition(this.currentPlace-1,false)}},setKeys:function(){var j=this;d(g).on("keydown",function(k){if(k.keyCode===39){j.next()}else{if(k.keyCode===37){j.prev()}}})},setAutoPlay:function(){var j=this;this.cycling=setTimeout(function(){j.next()},this.settings.delay)},setThumbs:function(l){var n=this,k=(100-((this.totalSlides-1)*this.settings.thumbMargin))/this.totalSlides+"%";this.$thumbWrap=d('<div class="rs-thumb-wrap" />').appendTo(this.$sliderWrap);for(var j=0;j<this.totalSlides;j++){var m=d('<a class="rs-slide-link-'+j+'" />').css({width:k,marginLeft:this.settings.thumbMargin+"%"}).attr({href:"#"});d(l[j]).removeAttr("style").appendTo(this.$thumbWrap).wrap(m)}this.$thumbWrap.children().last().css("margin-right",-10);d(this.$thumbWrap.find("a")[this.settings.startSlide]).addClass("active");this.$thumbWrap.on("click","a",function(p){p.preventDefault();var o=parseInt(d(this).attr("class").split("-")[3]);n.transition(o)})},captions:function(){var k=this,j=this.$slides.find(".rs-caption");j.css({width:k.settings.captionWidth+"%",opacity:0});this.$currentSlide.find(".rs-caption").css({opacity:1});j.each(function(){d(this).prefixes({transition:"opacity "+k.settings.transitionDuration+"ms ease-in-out",transform:"translateZ(0)"})})},transition:function(k,j){if(!this.inProgress){if(k!==this.currentPlace){if(j===b){j=k>this.currentPlace?true:false}this.$nextSlide=d(this.$slides[k]);this.currentPlace=k;this.settings.onChange();new e(this,this.settings.transition,j);if(this.settings.controls==="thumbs"){this.$thumbWrap.find("a").removeClass("active");d(this.$thumbWrap.find("a")[k]).addClass("active")}}}}};function e(k,l,j){this.RS=k;this.RS.inProgress=true;this.forward=j;this.transition=l;this.fallback3d=this.RS.settings.fallback3d;this.init()}e.prototype={fallback:"fade",anims:["cubeH","cubeV","fade","sliceH","sliceV","slideH","slideV","scale","blockScale","kaleidoscope","fan","blindH","blindV"],init:function(){this[this.transition]()},before:function(n){var m=this;this.RS.$currentSlide.css("z-index",2);this.RS.$nextSlide.css({opacity:1,"z-index":1});if(this.RS.cssTransitions){this.RS.$currentSlide.find(".rs-caption").css("opacity",0);this.RS.$nextSlide.find(".rs-caption").css("opacity",1)}else{this.RS.$currentSlide.find(".rs-caption").animate({opacity:0},m.RS.settings.transitionDuration);this.RS.$nextSlide.find(".rs-caption").animate({opacity:1},m.RS.settings.transitionDuration)}if(typeof this.setup==="function"){var l=this.setup();setTimeout(function(){n(l)},40)}else{this.execute()}if(this.RS.cssTransitions){var j=false;var k=function(o){if(!j){m.after();j=true}};setTimeout(k,m.RS.settings.transitionDuration*2);d(this.listenTo).one("webkitTransitionEnd transitionend otransitionend msTransitionend MSTransitionEnd",k)}},after:function(){this.RS.$slider.removeAttr("style");this.RS.$currentSlide.removeAttr("style").css("opacity",0);this.RS.$nextSlide.removeAttr("style").css({"z-index":2,opacity:1});if(typeof this.reset==="function"){this.reset()}if(this.RS.settings.autoPlay){clearTimeout(this.RS.cycling);this.RS.setAutoPlay()}this.RS.$currentSlide=this.RS.$nextSlide;this.RS.inProgress=false;this.RS.settings.afterChange()},fade:function(){var j=this;if(this.RS.cssTransitions){this.setup=function(){j.listenTo=j.RS.$currentSlide;j.RS.$currentSlide.prefixes({transition:"opacity "+j.RS.settings.transitionDuration+"ms ease-in-out"})};this.execute=function(){j.RS.$currentSlide.css({opacity:0})}}else{this.execute=function(){j.RS.$currentSlide.animate({opacity:0},j.RS.settings.transitionDuration,function(){j.after()})}}this.before(function(){j.execute()})},cube:function(q,k,j,o,n,m,l){if(!this.RS.cssTransitions||!this.RS.cssTransforms3d){return this[this["fallback3d"]]()}var p=this;this.setup=function(){p.listenTo=p.RS.$slider;this.RS.$sliderBG.prefixes({perspective:1000});var r={transform:"translateZ("+q+"px)","backface-visibility":"hidden"};p.RS.$currentSlide.prefixes(r);p.RS.$nextSlide.prefixes(r);p.RS.$slider.prefixes({transition:"none","transform-style":"preserve-3d",transform:"translateZ(-"+q+"px)"});p.RS.$nextSlide.css({opacity:1}).prefixes({transform:"translateZ(0px) translateY("+j+"px) translateX("+k+"px) rotateY("+n+"deg) rotateX("+o+"deg)"})};this.execute=function(){var r=[];for(var s=0;s<i.browserVendors.length;s++){r[i.browserVendors[s]+"transition"]=i.browserVendors[s]+"transform "+p.RS.settings.transitionDuration+"ms ease-in-out"}p.RS.$slider.prefixes(r);p.RS.$slider.prefixes({transform:"translateZ(-"+q+"px) rotateX("+m+"deg) rotateY("+l+"deg)"})};this.before(function(){p.execute()})},cubeH:function(){var j=d(this.RS.$slides).width()/2;if(this.forward){this.cube(j,j,0,0,90,0,-90)}else{this.cube(j,-j,0,0,-90,0,90)}},cubeV:function(){var j=d(this.RS.$slides).height()/2;if(this.forward){this.cube(j,0,-j,90,0,-90,0)}else{this.cube(j,0,j,-90,0,90,0)}},grid:function(n,m,l,k,j,o,q){if(!this.RS.cssTransitions){return this[this["fallback"]]()}var p=this;this.setup=function(){var x=(p.RS.settings.transitionDuration)/(n+m);function w(M,T,Q,N,L,R,S,P,K){var O=(P+K)*x;return d('<div class="rs-gridlet" />').css({width:M,height:T,top:Q,left:N,"background-image":"url("+L+")","background-position":"-"+N+"px -"+Q+"px","background-size":R+"px "+S+"px"}).prefixes({transition:"all "+p.RS.settings.transitionDuration+"ms ease-in-out "+O+"ms",transform:"none"})}p.$img=p.RS.$currentSlide.find("img.rs-slide-image");p.$grid=d("<div />").addClass("rs-grid");p.RS.$currentSlide.prepend(p.$grid);var y=p.$img.width(),H=p.$img.height(),s=p.$img.attr("src"),J=Math.floor(y/n),u=Math.floor(H/m),C=y-(n*J),z=Math.ceil(C/n),D=H-(m*u),t=Math.ceil(D/m),I=0;k=k==="auto"?y:k;k=k==="min-auto"?-y:k;j=j==="auto"?H:j;j=j==="min-auto"?-H:j;for(var G=0;G<n;G++){var v=0,B=J;if(C>0){var A=C>=z?z:C;B+=A;C-=A}for(var F=0;F<m;F++){var E=u,r=D;if(r>0){A=r>=t?t:D;E+=A;r-=A}p.$grid.append(w(B,E,v,I,s,y,H,G,F));v+=E}I+=B}p.listenTo=p.$grid.children().last();p.$grid.show();p.$img.css("opacity",0);p.$grid.children().first().addClass("rs-top-left");p.$grid.children().last().addClass("rs-bottom-right");p.$grid.children().eq(m-1).addClass("rs-bottom-left");p.$grid.children().eq(-m).addClass("rs-top-right")};this.execute=function(){p.$grid.children().css("opacity",q).prefixes({transform:"rotate("+l+"deg) translateX("+k+"px) translateY("+j+"px) scale("+o+")"})};this.before(function(){p.execute()});this.reset=function(){p.$img.css("opacity",1);p.$grid.remove()}},sliceH:function(){this.grid(1,8,0,"min-auto",0,1,0)},sliceV:function(){this.grid(10,1,0,0,"auto",1,0)},slideV:function(){this.grid(1,1,0,0,"auto",1,1)},slideH:function(){this.grid(1,1,0,"min-auto",0,1,1)},scale:function(){this.grid(1,1,0,0,0,1.5,0)},blockScale:function(){this.grid(8,6,0,0,0,0.6,0)},kaleidoscope:function(){this.grid(10,8,0,0,0,1,0)},fan:function(){this.grid(1,10,45,100,0,1,0)},blindV:function(){this.grid(1,8,0,0,0,0.7,0)},blindH:function(){this.grid(10,1,0,0,0,0.7,0)},random:function(){this[this.anims[Math.floor(Math.random()*this.anims.length)]]()}};var i={browserVendors:["","-webkit-","-moz-","-ms-","-o-","-khtml-"],domPrefixes:["","Webkit","Moz","ms","O","Khtml"],testDom:function(k){var j=this.domPrefixes.length;while(j--){if(g.body.style[this.domPrefixes[j]+k]!==b){return true}}return false},cssTransitions:function(){if(f.Modernizr&&Modernizr.csstransitions!==b){return Modernizr.csstransitions}return this.testDom("Transition")},cssTransforms3d:function(){if(f.Modernizr&&Modernizr.csstransforms3d!==b){return Modernizr.csstransforms3d}if(g.body.style.perspectiveProperty!==b){return true}return this.testDom("Perspective")}};d.fn.prefixes=function(l){var j=[];for(var m in l){if(l.hasOwnProperty(m)){var k=i.browserVendors.length;while(k--){j[i.browserVendors[k]+m]=l[m]}}}this.css(j);return this};
/*!
     * David Desandro's imagesloaded plugin is included here as a cross-browser way to ensure all images have loaded before slider setup (e.g. testing for image dimensions)
     * Another reliable method would be to wait until the window.load event before setup - though that could cause considerable delays on certain pages
     *
     * jQuery imagesLoaded plugin v2.0.1
     * http://github.com/desandro/imagesloaded
     *
     * MIT License. by Paul Irish et al.
     */
var a="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";d.fn.imagesLoaded=function(q){var n=this,s=d.isFunction(d.Deferred)?d.Deferred():0,r=d.isFunction(s.notify),k=n.find("img").add(n.filter("img")),l=[],p=[],m=[];function o(){var t=d(p),u=d(m);if(s){if(m.length){s.reject(k,t,u)}else{s.resolve(k)}}if(d.isFunction(q)){q.call(n,k,t,u)}}function j(t,u){if(t.src===a||d.inArray(t,l)!==-1){return}l.push(t);if(u){m.push(t)}else{p.push(t)}d.data(t,"imagesLoaded",{isBroken:u,src:t.src});if(r){s.notifyWith(d(t),[u,k,d(p),d(m)])}if(k.length===l.length){setTimeout(o);k.unbind(".imagesLoaded")}}if(!k.length){o()}else{k.bind("load.imagesLoaded error.imagesLoaded",function(t){j(t.target,t.type==="error")}).each(function(t,v){var w=v.src;var u=d.data(v,"imagesLoaded");if(u&&u.src===w){j(v,u.isBroken);return}if(v.complete&&v.naturalWidth!==b){j(v,v.naturalWidth===0||v.naturalHeight===0);return}if(v.readyState||v.complete){v.src=a;v.src=w}})}return s?s.promise(n):n};d.fn.refineSlide=function(j){return this.each(function(){if(!d.data(this,"refineSlide")){d.data(this,"refineSlide",new h(this,j))}})}})(jQuery,window,document);(function(b){b.pixelentity=b.pixelentity||{version:"1.0.0"};b.pixelentity.peRefineSlide={conf:{api:false}};function a(){this.slider.$slides=this.slider.$slider.find("> div")}function c(m,n){var j,e=[];function r(s,t){e.push(b(t))}function g(){m.trigger("resize.pixelentity")}function l(){m.trigger("ready.pixelentity",{slides:e.length,markup:e});m.triggerHandler("change.pixelentity",{slideIdx:1});b(window).bind("resize",g);g()}function o(){m.triggerHandler("change.pixelentity",{slideIdx:j.currentPlace+1})}function q(){if(b.browser.msie&&m.height()>(m.find("> div:eq(0)").height()+10)){setTimeout(q,100)}else{l()}}function f(){m.bind("init.pixelentity",q);m.find("> div").each(r);m.wrapInner('<div class="rs-slider"/>');var s=m;m=m.find("img").show().end().find("div.rs-slider");m.refineSlide({transition:s.attr("data-transition")||"random",transitionDuration:700,autoPlay:true,keyNav:false,delay:parseInt(s.attr("data-delay")||100000000,10)*1000,controls:null,onInit:a,onChange:o});j=m.data("refineSlide")}function p(){return m.bind.apply(m,arguments)}function k(){j.next()}function i(){j.prev()}function h(s){j.currentPlace=s-1;k()}function d(s){return e[s]}b.extend(this,{bind:p,show:function(s){h(s-1)},next:k,prev:i,getSlide:d,destroy:function(){m.data("peRefineSlide",null);m=undefined}});f()}b.fn.peRefineSlide=function(d){var e=this.data("peRefineSlide");if(e){return e}d=b.extend(true,{},b.pixelentity.peRefineSlide.conf,d);this.each(function(){var f=b(this);e=new c(f,d);f.data("peRefineSlide",e)});return d.api?e:this}}(jQuery));(function(c){c.pixelentity=c.pixelentity||{version:"1.0.0"};c.pixelentity.peThemeContactForm={conf:{api:false}};var d=window.peContactForm?decodeURIComponent(window.peContactForm.url):false;var b={email:/^[a-zA-Z0-9._\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$/,"default":/.{4}/};function a(l,m){var k=[];var h,j;function g(){l.bind("submit",n).find("input,textarea").each(f).bind("change",e).end();h=c("#contactFormSent");j=c("#contactFormError")}function f(){var q=c(this);if(q.attr("type")=="submit"){return}k.push(q);q.attr("data-fieldID",k.length-1)}function e(){o(k[this.getAttribute("data-fieldID")]);return true}function o(v,t){var w=v.val();var r=v.attr("data-validation");var q=true;if(w===""){if(v.hasClass("required")){q=false}}else{var u=b[r]?b[r]:b["default"];q=(w.match(u)!==null)}var s=q?"removeClass":"addClass";v[s]("error");v.closest(".control-group")[s]("error");return q}function n(t){var r=true;var s={};var u;var q;for(q=0;q<k.length;q++){r=o(k[q],true)&&r;if(r){u=k[q].val();s[k[q].attr("name")]=u}}l.find("span.error")[r?"hide":"show"]().end();l.find("span.success")[r?"show":"hide"]().end();if(r){i(s);j.hide()}else{j.show()}return false}function i(q){jQuery.post(d||l.attr("action"),{action:"peThemeContactForm",data:q},p)}function p(q){if(q.success){for(var r=0;r<k.length;r++){k[r].val("")}h.show();j.hide()}else{j.show();h.hide()}}c.extend(this,{destroy:function(){l.data("peThemeContactForm",null);l=undefined}});g()}c.fn.peThemeContactForm=function(e){var f=this.data("peThemeContactForm");if(f){return f}e=c.extend(true,{},c.pixelentity.peThemeContactForm.conf,e);this.each(function(){var g=c(this);f=new a(g,e);g.data("peThemeContactForm",f)});return e.api?f:this}}(jQuery));(function(c){c.pixelentity=c.pixelentity||{};var b=[];var d=[];function a(){function e(g,h){b.push({check:g,widget:h})}function f(m,g){if(m.data("peWidgets")){return false}var l=false;m.data("peWidgets",true);var o=b.length;var k;var j;for(var h=0;h<o;h++){k=b[h];j=k.check(m,g);if(j){l=true;if(k.widget){d.push(new k.widget(j))}}}return l}c.extend(this,{add:e,build:f})}c.pixelentity.widgets=new a()}(jQuery));(function(b){function a(d){var c=d.find(".peThemeContactForm");if(c.length>0){c.peThemeContactForm()}return false}b.pixelentity.widgets.add(a)}(jQuery));!function(b){b(function(){"use strict",b.support.transition=function(){var a=document.body||document.documentElement,f=a.style,e=f.transition!==undefined||f.WebkitTransition!==undefined||f.MozTransition!==undefined||f.MsTransition!==undefined||f.OTransition!==undefined;return e&&{end:function(){var c="TransitionEnd";return b.browser.webkit?c="webkitTransitionEnd":b.browser.mozilla?c="transitionend":b.browser.opera&&(c="oTransitionEnd"),c}()}}()})}(window.jQuery),!function(e){var d='[data-dismiss="alert"]',f=function(a){e(a).on("click",d,this.close)};f.prototype={constructor:f,close:function(a){function g(){h.trigger("closed").remove()}var j=e(this),i=j.attr("data-target"),h;i||(i=j.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),h=e(i),h.trigger("close"),a&&a.preventDefault(),h.length||(h=j.hasClass("alert")?j:j.parent()),h.trigger("close").removeClass("in"),e.support.transition&&h.hasClass("fade")?h.on(e.support.transition.end,g):g()}},e.fn.alert=function(a){return this.each(function(){var c=e(this),b=c.data("alert");b||c.data("alert",b=new f(this)),typeof a=="string"&&b[a].call(c)})},e.fn.alert.Constructor=f,e(function(){e("body").on("click.alert.data-api",d,f.prototype.close)})}(window.jQuery),!function(d){var c=function(a,e){this.$element=d(a),this.options=d.extend({},d.fn.button.defaults,e)};c.prototype={constructor:c,setState:function(g){var f="disabled",j=this.$element,i=j.data(),h=j.is("input")?"val":"html";g+="Text",i.resetText||j.data("resetText",j[h]()),j[h](i[g]||this.options[g]),setTimeout(function(){g=="loadingText"?j.addClass(f).attr(f,f):j.removeClass(f).removeAttr(f)},0)},toggle:function(){var b=this.$element.parent('[data-toggle="buttons-radio"]');b&&b.find(".active").removeClass("active"),this.$element.toggleClass("active")}},d.fn.button=function(a){return this.each(function(){var h=d(this),g=h.data("button"),b=typeof a=="object"&&a;g||h.data("button",g=new c(this,b)),a=="toggle"?g.toggle():a&&g.setState(a)})},d.fn.button.defaults={loadingText:"loading..."},d.fn.button.Constructor=c,d(function(){d("body").on("click.button.data-api","[data-toggle^=button]",function(a){var e=d(a.target);e.hasClass("btn")||(e=e.closest(".btn")),e.button("toggle")})})}(window.jQuery),!function(d){var c=function(a,e){this.$element=d(a),this.options=d.extend({},d.fn.carousel.defaults,e),this.options.slide&&this.slide(this.options.slide),this.options.pause=="hover"&&this.$element.on("mouseenter",d.proxy(this.pause,this)).on("mouseleave",d.proxy(this.cycle,this))};c.prototype={cycle:function(){return this.interval=setInterval(d.proxy(this.next,this),this.options.interval),this},to:function(a){var j=this.$element.find(".active"),i=j.parent().children(),h=i.index(j),g=this;if(a>i.length-1||a<0){return}return this.sliding?this.$element.one("slid",function(){g.to(a)}):h==a?this.pause().cycle():this.slide(a>h?"next":"prev",d(i[a]))},pause:function(){return clearInterval(this.interval),this.interval=null,this},next:function(){if(this.sliding){return}return this.slide("next")},prev:function(){if(this.sliding){return}return this.slide("prev")},slide:function(a,p){var o=this.$element.find(".active"),n=p||o[a](),m=this.interval,l=a=="next"?"left":"right",k=a=="next"?"first":"last",j=this;this.sliding=!0,m&&this.pause(),n=n.length?n:this.$element.find(".item")[k]();if(n.hasClass("active")){return}return !d.support.transition&&this.$element.hasClass("slide")?(this.$element.trigger("slide"),o.removeClass("active"),n.addClass("active"),this.sliding=!1,this.$element.trigger("slid")):(n.addClass(a),n[0].offsetWidth,o.addClass(l),n.addClass(l),this.$element.trigger("slide"),this.$element.one(d.support.transition.end,function(){n.removeClass([a,l].join(" ")).addClass("active"),o.removeClass(["active",l].join(" ")),j.sliding=!1,setTimeout(function(){j.$element.trigger("slid")},0)})),m&&this.cycle(),this}},d.fn.carousel=function(a){return this.each(function(){var h=d(this),g=h.data("carousel"),b=typeof a=="object"&&a;g||h.data("carousel",g=new c(this,b)),typeof a=="number"?g.to(a):typeof a=="string"||(a=b.slide)?g[a]():g.cycle()})},d.fn.carousel.defaults={interval:5000,pause:"hover"},d.fn.carousel.Constructor=c,d(function(){d("body").on("click.carousel.data-api","[data-slide]",function(a){var j=d(this),i,h=d(j.attr("data-target")||(i=j.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),g=!h.data("modal")&&d.extend({},h.data(),j.data());h.carousel(g),a.preventDefault()})})}(window.jQuery),!function(d){var c=function(a,e){this.$element=d(a),this.options=d.extend({},d.fn.collapse.defaults,e),this.options.parent&&(this.$parent=d(this.options.parent)),this.options.toggle&&this.toggle()};c.prototype={constructor:c,dimension:function(){var b=this.$element.hasClass("width");return b?"width":"height"},show:function(){var a=this.dimension(),h=d.camelCase(["scroll",a].join("-")),g=this.$parent&&this.$parent.find(".in"),f;g&&g.length&&(f=g.data("collapse"),g.collapse("hide"),f||g.data("collapse",null)),this.$element[a](0),this.transition("addClass","show","shown"),this.$element[a](this.$element[0][h])},hide:function(){var b=this.dimension();this.reset(this.$element[b]()),this.transition("removeClass","hide","hidden"),this.$element[b](0)},reset:function(f){var e=this.dimension();return this.$element.removeClass("collapse")[e](f||"auto")[0].offsetWidth,this.$element[f?"addClass":"removeClass"]("collapse"),this},transition:function(a,j,i){var h=this,g=function(){j=="show"&&h.reset(),h.$element.trigger(i)};this.$element.trigger(j)[a]("in"),d.support.transition&&this.$element.hasClass("collapse")?this.$element.one(d.support.transition.end,g):g()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}},d.fn.collapse=function(a){return this.each(function(){var h=d(this),g=h.data("collapse"),b=typeof a=="object"&&a;g||h.data("collapse",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.collapse.defaults={toggle:!0},d.fn.collapse.Constructor=c,d(function(){d("body").on("click.collapse.data-api","[data-toggle=collapse]",function(a){var j=d(this),i,h=j.attr("data-target")||a.preventDefault()||(i=j.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),g=d(h).data("collapse")?"toggle":j.data();d(h).collapse(g)})})}(window.jQuery),!function(f){function g(){f(e).parent().removeClass("open")}"use strict";var e='[data-toggle="dropdown"]',h=function(a){var d=f(a).on("click.dropdown.data-api",this.toggle);f("html").on("click.dropdown.data-api",function(){d.parent().removeClass("open")})};h.prototype={constructor:h,toggle:function(a){var k=f(this),j=k.attr("data-target"),i,d;return j||(j=k.attr("href"),j=j&&j.replace(/.*(?=#[^\s]*$)/,"")),i=f(j),i.length||(i=k.parent()),d=i.hasClass("open"),g(),!d&&i.toggleClass("open"),!1}},f.fn.dropdown=function(a){return this.each(function(){var c=f(this),b=c.data("dropdown");b||c.data("dropdown",b=new h(this)),typeof a=="string"&&b[a].call(c)})},f.fn.dropdown.Constructor=h,f(function(){f("html").on("click.dropdown.data-api",g),f("body").on("click.dropdown.data-api",e,h.prototype.toggle)})}(window.jQuery),!function(i){function n(){var a=this,d=setTimeout(function(){a.$element.off(i.support.transition.end),m.call(a)},500);this.$element.one(i.support.transition.end,function(){clearTimeout(d),m.call(a)})}function m(b){this.$element.hide().trigger("hidden"),l.call(this)}function l(a){var o=this,g=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=i.support.transition&&g;this.$backdrop=i('<div class="modal-backdrop '+g+'" />').appendTo(document.body),this.options.backdrop!="static"&&this.$backdrop.click(i.proxy(this.hide,this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),f?this.$backdrop.one(i.support.transition.end,a):a()}else{!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),i.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(i.support.transition.end,i.proxy(k,this)):k.call(this)):a&&a()}}function k(){this.$backdrop.remove(),this.$backdrop=null}function j(){var a=this;this.isShown&&this.options.keyboard?i(document).on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()}):this.isShown||i(document).off("keyup.dismiss.modal")}"use strict";var h=function(a,d){this.options=d,this.$element=i(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",i.proxy(this.hide,this))};h.prototype={constructor:h,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var a=this;if(this.isShown){return}i("body").addClass("modal-open"),this.isShown=!0,this.$element.trigger("show"),j.call(this),l.call(this,function(){var b=i.support.transition&&a.$element.hasClass("fade");!a.$element.parent().length&&a.$element.appendTo(document.body),a.$element.show(),b&&a.$element[0].offsetWidth,a.$element.addClass("in"),b?a.$element.one(i.support.transition.end,function(){a.$element.trigger("shown")}):a.$element.trigger("shown")})},hide:function(a){a&&a.preventDefault();if(!this.isShown){return}var c=this;this.isShown=!1,i("body").removeClass("modal-open"),j.call(this),this.$element.trigger("hide").removeClass("in"),i.support.transition&&this.$element.hasClass("fade")?n.call(this):m.call(this)}},i.fn.modal=function(a){return this.each(function(){var g=i(this),c=g.data("modal"),b=i.extend({},i.fn.modal.defaults,g.data(),typeof a=="object"&&a);c||g.data("modal",c=new h(this,b)),typeof a=="string"?c[a]():b.show&&c.show()})},i.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},i.fn.modal.Constructor=h,i(function(){i("body").on("click.modal.data-api",'[data-toggle="modal"]',function(a){var q=i(this),p,o=i(q.attr("data-target")||(p=q.attr("href"))&&p.replace(/.*(?=#[^\s]+$)/,"")),g=o.data("modal")?"toggle":i.extend({},o.data(),q.data());a.preventDefault(),o.modal(g)})})}(window.jQuery),!function(d){var c=function(f,e){this.init("tooltip",f,e)};c.prototype={constructor:c,init:function(a,j,i){var h,g;this.type=a,this.$element=d(j),this.options=this.getOptions(i),this.enabled=!0,this.options.trigger!="manual"&&(h=this.options.trigger=="hover"?"mouseenter":"focus",g=this.options.trigger=="hover"?"mouseleave":"blur",this.$element.on(h,this.options.selector,d.proxy(this.enter,this)),this.$element.on(g,this.options.selector,d.proxy(this.leave,this))),this.options.selector?this._options=d.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(a){return a=d.extend({},d.fn[this.type].defaults,a,this.$element.data()),a.delay&&typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),a},enter:function(a){var e=d(a.currentTarget)[this.type](this._options).data(this.type);!e.options.delay||!e.options.delay.show?e.show():(e.hoverState="in",setTimeout(function(){e.hoverState=="in"&&e.show()},e.options.delay.show))},leave:function(a){var e=d(a.currentTarget)[this.type](this._options).data(this.type);!e.options.delay||!e.options.delay.hide?e.hide():(e.hoverState="out",setTimeout(function(){e.hoverState=="out"&&e.hide()},e.options.delay.hide))},show:function(){var i,h,n,m,l,k,j;if(this.hasContent()&&this.enabled){i=this.tip(),this.setContent(),this.options.animation&&i.addClass("fade"),k=typeof this.options.placement=="function"?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,h=/in/.test(k),i.remove().css({top:0,left:0,display:"block"}).appendTo(h?this.$element:document.body),n=this.getPosition(h),m=i[0].offsetWidth,l=i[0].offsetHeight;switch(h?k.split(" ")[1]:k){case"bottom":j={top:n.top+n.height,left:n.left+n.width/2-m/2};break;case"top":j={top:n.top-l,left:n.left+n.width/2-m/2};break;case"left":j={top:n.top+n.height/2-l/2,left:n.left-m};break;case"right":j={top:n.top+n.height/2-l/2,left:n.left+n.width}}i.css(j).addClass(k).addClass("in")}},setContent:function(){var b=this.tip();b.find(".tooltip-inner").html(this.getTitle()),b.removeClass("fade in top bottom left right")},hide:function(){function e(){var g=setTimeout(function(){f.off(d.support.transition.end).remove()},500);f.one(d.support.transition.end,function(){clearTimeout(g),f.remove()})}var a=this,f=this.tip();f.removeClass("in"),d.support.transition&&this.$tip.hasClass("fade")?e():f.remove()},fixTitle:function(){var b=this.$element;(b.attr("title")||typeof b.attr("data-original-title")!="string")&&b.attr("data-original-title",b.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(a){return d.extend({},a?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var f,e=this.$element,g=this.options;return f=e.attr("data-original-title")||(typeof g.title=="function"?g.title.call(e[0]):g.title),f=(f||"").toString().replace(/(^\s*|\s*$)/,""),f},tip:function(){return this.$tip=this.$tip||d(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(){this[this.tip().hasClass("in")?"hide":"show"]()}},d.fn.tooltip=function(a){return this.each(function(){var h=d(this),g=h.data("tooltip"),b=typeof a=="object"&&a;g||h.data("tooltip",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.tooltip.Constructor=c,d.fn.tooltip.defaults={animation:!0,delay:0,selector:!1,placement:"top",trigger:"hover",title:"",template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}}(window.jQuery),!function(d){var c=function(f,e){this.init("popover",f,e)};c.prototype=d.extend({},d.fn.tooltip.Constructor.prototype,{constructor:c,setContent:function(){var a=this.tip(),f=this.getTitle(),e=this.getContent();a.find(".popover-title")[d.type(f)=="object"?"append":"html"](f),a.find(".popover-content > *")[d.type(e)=="object"?"append":"html"](e),a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var f,e=this.$element,g=this.options;return f=e.attr("data-content")||(typeof g.content=="function"?g.content.call(e[0]):g.content),f=f.toString().replace(/(^\s*|\s*$)/,""),f},tip:function(){return this.$tip||(this.$tip=d(this.options.template)),this.$tip}}),d.fn.popover=function(a){return this.each(function(){var h=d(this),g=h.data("popover"),b=typeof a=="object"&&a;g||h.data("popover",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.popover.Constructor=c,d.fn.popover.defaults=d.extend({},d.fn.tooltip.defaults,{placement:"right",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"><p></p></div></div></div>'})}(window.jQuery),!function(d){function c(a,j){var i=d.proxy(this.process,this),h=d(a).is("body")?d(window):d(a),g;this.options=d.extend({},d.fn.scrollspy.defaults,j),this.$scrollElement=h.on("scroll.scroll.data-api",i),this.selector=(this.options.target||(g=d(a).attr("href"))&&g.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=d("body").on("click.scroll.data-api",this.selector,i),this.refresh(),this.process()}"use strict",c.prototype={constructor:c,refresh:function(){this.targets=this.$body.find(this.selector).map(function(){var a=d(this).attr("href");return/^#\w/.test(a)&&d(a).length?a:null}),this.offsets=d.map(this.targets,function(a){return d(a).position().top})},process:function(){var g=this.$scrollElement.scrollTop()+this.options.offset,f=this.offsets,j=this.targets,i=this.activeTarget,h;for(h=f.length;h--;){i!=j[h]&&g>=f[h]&&(!f[h+1]||g<=f[h+1])&&this.activate(j[h])}},activate:function(f){var e;this.activeTarget=f,this.$body.find(this.selector).parent(".active").removeClass("active"),e=this.$body.find(this.selector+'[href="'+f+'"]').parent("li").addClass("active"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active")}},d.fn.scrollspy=function(a){return this.each(function(){var h=d(this),g=h.data("scrollspy"),b=typeof a=="object"&&a;g||h.data("scrollspy",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.scrollspy.Constructor=c,d.fn.scrollspy.defaults={offset:10},d(function(){d('[data-spy="scroll"]').each(function(){var a=d(this);a.scrollspy(a.data())})})}(window.jQuery),!function(d){var c=function(a){this.element=d(a)};c.prototype={constructor:c,show:function(){var a=this.element,j=a.closest("ul:not(.dropdown-menu)"),i=a.attr("data-target"),h,g;i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));if(a.parent("li").hasClass("active")){return}h=j.find(".active a").last()[0],a.trigger({type:"show",relatedTarget:h}),g=d(i),this.activate(a.parent("li"),j),this.activate(g,g.parent(),function(){a.trigger({type:"shown",relatedTarget:h})})},activate:function(a,l,k){function h(){j.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),a.addClass("active"),i?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active"),k&&k()}var j=l.find("> .active"),i=k&&d.support.transition&&j.hasClass("fade");i?j.one(d.support.transition.end,h):h(),j.removeClass("in")}},d.fn.tab=function(a){return this.each(function(){var f=d(this),b=f.data("tab");b||f.data("tab",b=new c(this)),typeof a=="string"&&b[a]()})},d.fn.tab.Constructor=c,d(function(){d("body").on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(a){a.preventDefault(),d(this).tab("show")})})}(window.jQuery),!function(d){var c=function(a,e){this.$element=d(a),this.options=d.extend({},d.fn.typeahead.defaults,e),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.$menu=d(this.options.menu).appendTo("body"),this.source=this.options.source,this.shown=!1,this.listen()};c.prototype={constructor:c,select:function(){var b=this.$menu.find(".active").attr("data-value");return this.$element.val(b),this.$element.change(),this.hide()},show:function(){var a=d.extend({},this.$element.offset(),{height:this.$element[0].offsetHeight});return this.$menu.css({top:a.top+a.height,left:a.left}),this.$menu.show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(a){var h=this,g,f;return this.query=this.$element.val(),this.query?(g=d.grep(this.source,function(b){if(h.matcher(b)){return b}}),g=this.sorter(g),g.length?this.render(g.slice(0,this.options.items)).show():this.shown?this.hide():this):this.shown?this.hide():this},matcher:function(b){return ~b.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(g){var f=[],j=[],i=[],h;while(h=g.shift()){h.toLowerCase().indexOf(this.query.toLowerCase())?~h.indexOf(this.query)?j.push(h):i.push(h):f.push(h)}return f.concat(j,i)},highlighter:function(b){return b.replace(new RegExp("("+this.query+")","ig"),function(f,e){return"<strong>"+e+"</strong>"})},render:function(a){var e=this;return a=d(a).map(function(f,g){return f=d(e.options.item).attr("data-value",g),f.find("a").html(e.highlighter(g)),f[0]}),a.first().addClass("active"),this.$menu.html(a),this},next:function(a){var f=this.$menu.find(".active").removeClass("active"),e=f.next();e.length||(e=d(this.$menu.find("li")[0])),e.addClass("active")},prev:function(f){var e=this.$menu.find(".active").removeClass("active"),g=e.prev();g.length||(g=this.$menu.find("li").last()),g.addClass("active")},listen:function(){this.$element.on("blur",d.proxy(this.blur,this)).on("keypress",d.proxy(this.keypress,this)).on("keyup",d.proxy(this.keyup,this)),(d.browser.webkit||d.browser.msie)&&this.$element.on("keydown",d.proxy(this.keypress,this)),this.$menu.on("click",d.proxy(this.click,this)).on("mouseenter","li",d.proxy(this.mouseenter,this))},keyup:function(b){switch(b.keyCode){case 40:case 38:break;case 9:case 13:if(!this.shown){return}this.select();break;case 27:if(!this.shown){return}this.hide();break;default:this.lookup()}b.stopPropagation(),b.preventDefault()},keypress:function(b){if(!this.shown){return}switch(b.keyCode){case 9:case 13:case 27:b.preventDefault();break;case 38:b.preventDefault(),this.prev();break;case 40:b.preventDefault(),this.next()}b.stopPropagation()},blur:function(f){var e=this;setTimeout(function(){e.hide()},150)},click:function(b){b.stopPropagation(),b.preventDefault(),this.select()},mouseenter:function(a){this.$menu.find(".active").removeClass("active"),d(a.currentTarget).addClass("active")}},d.fn.typeahead=function(a){return this.each(function(){var h=d(this),g=h.data("typeahead"),b=typeof a=="object"&&a;g||h.data("typeahead",g=new c(this,b)),typeof a=="string"&&g[a]()})},d.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},d.fn.typeahead.Constructor=c,d(function(){d("body").on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(a){var e=d(this);if(e.data("typeahead")){return}a.preventDefault(),e.typeahead(e.data())})})}(window.jQuery);(function(d){var b=d.pixelentity.browser.mobile;var f=/[^w](mp4|webm|ogv)$|^http:\/\/(vid\.ly|youtube\.|www\.youtube\.|youtu\.be|vimeo\.|www\.vimeo\.)/i;function c(){return false}function e(){var i=d(this);var j=i.attr("data-target");var h=(j&&pixelentity.targets[j])?pixelentity.targets[j]:false;if(h){i.click(h)}if(j=="flare"){i.peFlareLightbox()}switch(i.attr("data-rel")){case"popover":i.popover();break;case"tooltip":i.tooltip({placement:i.attr("data-position")||"top"});break}if(i.hasClass("peOver")){var g=d('<span class="overIcon '+(i.attr("data-target")=="flare"?"lightbox":"link")+'Icon"></span>').hide();i.append(g).data("icon",g);if(!b){i.bind("mouseenter mouseleave",d.pixelentity.effects.iconmove)}}if(i.hasClass("peOverBW")){if(!b){i.bind("mouseenter mouseleave",d.pixelentity.effects.bw)}}if(i.hasClass("peOverInfo")){if(!b){if(i.find("div.title").length===0){var k=d('<div class="title"></div>');k.append('<div class="infoWrap"><span class="peOverElementIconBG">%0</span></div>'.format('<span class="projectIcon peOverElementIcon"><i class="icon-%0 icon-white"></i></span>'.format(i.attr("data-target")=="flare"?"lightbox":"link")));k.append('<div class="peOverElementInnerBG"></div>');i.append(k)}i.bind("mouseenter mouseleave",d.pixelentity.effects.info)}}if(i.hasClass("peVideo")){i.peVideoPlayer({responsive:true})}}function a(h){var g=h.find("a");if(g.length>0){g.each(e)}return false}d.pixelentity.widgets.add(a)}(jQuery));(function(b){function a(c){return false}b.pixelentity.widgets.add(a)}(jQuery));(function(T,S,R){var Q=T.document,P=T.Modernizr,O=function(b){return b.charAt(0).toUpperCase()+b.slice(1)},N="Moz Webkit O Ms".split(" "),M=function(f){var d=Q.documentElement.style,j;if(typeof d[f]=="string"){return f}f=O(f);for(var i=0,g=N.length;i<g;i++){j=N[i]+f;if(typeof d[j]=="string"){return j}}},L=M("transform"),K=M("transitionProperty"),J={csstransforms:function(){return !!L},csstransforms3d:function(){var b=!!M("perspective");if(b){var j=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),i="@media ("+j.join("transform-3d),(")+"modernizr)",h=S("<style>"+i+"{#modernizr{height:3px}}</style>").appendTo("head"),g=S('<div id="modernizr" />').appendTo("html");b=g.height()===3,g.remove(),h.remove()}return b},csstransitions:function(){return !!K}},I;if(P){for(I in J){P.hasOwnProperty(I)||P.addTest(I,J[I])}}else{P=T.Modernizr={_version:"1.6ish: miniModernizr for Isotope"};var H=" ",G;for(I in J){G=J[I](),P[I]=G,H+=" "+(G?"":"no-")+I}S("html").addClass(H)}if(P.csstransforms){var F=P.csstransforms3d?{translate:function(b){return"translate3d("+b[0]+"px, "+b[1]+"px, 0) "},scale:function(b){return"scale3d("+b+", "+b+", 1) "}}:{translate:function(b){return"translate("+b[0]+"px, "+b[1]+"px) "},scale:function(b){return"scale("+b+") "}},E=function(v,u,t){var s=S.data(v,"isoTransform")||{},r={},q,p={},o;r[u]=t,S.extend(s,r);for(q in s){o=s[q],p[q]=F[q](o)}var n=p.translate||"",i=p.scale||"",b=n+i;S.data(v,"isoTransform",s),v.style[L]=b};S.cssNumber.scale=!0,S.cssHooks.scale={set:function(d,c){E(d,"scale",c)},get:function(b,f){var e=S.data(b,"isoTransform");return e&&e.scale?e.scale:1}},S.fx.step.scale=function(b){S.cssHooks.scale.set(b.elem,b.now+b.unit)},S.cssNumber.translate=!0,S.cssHooks.translate={set:function(d,c){E(d,"translate",c)},get:function(b,f){var e=S.data(b,"isoTransform");return e&&e.translate?e.translate:[0,0]}}}var D,C;P.csstransitions&&(D={WebkitTransitionProperty:"webkitTransitionEnd",MozTransitionProperty:"transitionend",OTransitionProperty:"oTransitionEnd",transitionProperty:"transitionEnd"}[K],C=M("transitionDuration"));var B=S.event,A;B.special.smartresize={setup:function(){S(this).bind("resize",B.special.smartresize.handler)},teardown:function(){S(this).unbind("resize",B.special.smartresize.handler)},handler:function(f,e){var h=this,g=arguments;f.type="smartresize",A&&clearTimeout(A),A=setTimeout(function(){jQuery.event.handle.apply(h,g)},e==="execAsap"?0:100)}},S.fn.smartresize=function(b){return b?this.bind("smartresize",b):this.trigger("smartresize",["execAsap"])},S.Isotope=function(b,f,e){this.element=S(f),this._create(b),this._init(e)};var z=["width","height"],y=S(T);S.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:{opacity:0,scale:0.001},visibleStyle:{opacity:1,scale:1},containerStyle:{position:"relative",overflow:"hidden"},animationEngine:"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!S.browser.opera,itemPositionDataEnabled:!1},S.Isotope.prototype={_create:function(b){this.options=S.extend({},S.Isotope.settings,b),this.styleQueue=[],this.elemCount=0;var p=this.element[0].style;this.originalStyle={};var o=z.slice(0);for(var n in this.options.containerStyle){o.push(n)}for(var m=0,l=o.length;m<l;m++){n=o[m],this.originalStyle[n]=p[n]||""}this.element.css(this.options.containerStyle),this._updateAnimationEngine(),this._updateUsingTransforms();var k={"original-order":function(d,c){return c.elemCount++,c.elemCount},random:function(){return Math.random()}};this.options.getSortData=S.extend(this.options.getSortData,k),this.reloadItems(),this.offset={left:parseInt(this.element.css("padding-left")||0,10),top:parseInt(this.element.css("padding-top")||0,10)};var j=this;setTimeout(function(){j.element.addClass(j.options.containerClass)},0),this.options.resizable&&y.bind("smartresize.isotope",function(){j.resize()}),this.element.delegate("."+this.options.hiddenClass,"click",function(){return !1})},_getAtoms:function(f){var e=this.options.itemSelector,h=e?f.filter(e).add(f.find(e)):f,g={position:"absolute"};return this.usingTransforms&&(g.left=0,g.top=0),h.css(g).addClass(this.options.itemClass),this.updateSortData(h,!0),h},_init:function(b){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(b)},option:function(b){if(S.isPlainObject(b)){this.options=S.extend(!0,this.options,b);var f;for(var e in b){f="_update"+O(e),this[f]&&this[f]()}}},_updateAnimationEngine:function(){var d=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,""),c;switch(d){case"css":case"none":c=!1;break;case"jquery":c=!0;break;default:c=!P.csstransitions}this.isUsingJQueryAnimation=c,this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){var b=this.usingTransforms=this.options.transformsEnabled&&P.csstransforms&&P.csstransitions&&!this.isUsingJQueryAnimation;b||(delete this.options.hiddenStyle.scale,delete this.options.visibleStyle.scale),this.getPositionStyles=b?this._translate:this._positionAbs},_filter:function(i){var h=this.options.filter===""?"*":this.options.filter;if(!h){return i}var n=this.options.hiddenClass,m="."+n,l=i.filter(m),k=l;if(h!=="*"){k=l.filter(h);var j=i.not(m).not(h).addClass(n);this.styleQueue.push({$el:j,style:this.options.hiddenStyle})}return this.styleQueue.push({$el:k,style:this.options.visibleStyle}),k.removeClass(n),i.filter(h)},updateSortData:function(b,l){var k=this,j=this.options.getSortData,i,h;b.each(function(){i=S(this),h={};for(var c in j){!l&&c==="original-order"?h[c]=S.data(this,"isotope-sort-data")[c]:h[c]=j[c](i,k)}S.data(this,"isotope-sort-data",h)})},_sort:function(){var f=this.options.sortBy,e=this._getSorter,h=this.options.sortAscending?1:-1,g=function(i,c){var b=e(i,f),a=e(c,f);return b===a&&f!=="original-order"&&(b=e(i,"original-order"),a=e(c,"original-order")),(b>a?1:b<a?-1:0)*h};this.$filteredAtoms.sort(g)},_getSorter:function(b,d){return S.data(b,"isotope-sort-data")[d]},_translate:function(d,c){return{translate:[d,c]}},_positionAbs:function(d,c){return{left:d,top:c}},_pushPosition:function(f,e,h){e=Math.round(e+this.offset.left),h=Math.round(h+this.offset.top);var g=this.getPositionStyles(e,h);this.styleQueue.push({$el:f,style:g}),this.options.itemPositionDataEnabled&&f.data("isotope-item-position",{x:e,y:h})},layout:function(f,e){var h=this.options.layoutMode;this["_"+h+"Layout"](f);if(this.options.resizesContainer){var g=this["_"+h+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:g})}this._processStyleQueue(f,e),this.isLaidOut=!0},_processStyleQueue:function(ab,aa){var Z=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",Y=this.options.animationOptions,X=this.options.onLayout,W,V,U,w;V=function(d,c){c.$el[Z](c.style,Y)};if(this._isInserting&&this.isUsingJQueryAnimation){V=function(d,c){W=c.$el.hasClass("no-transition")?"css":Z,c.$el[W](c.style,Y)}}else{if(aa||X||Y.complete){var v=!1,r=[aa,X,Y.complete],q=this;U=!0,w=function(){if(v){return}var a;for(var g=0,f=r.length;g<f;g++){a=r[g],typeof a=="function"&&a.call(q.element,ab,q)}v=!0};if(this.isUsingJQueryAnimation&&Z==="animate"){Y.complete=w,U=!1}else{if(P.csstransitions){var e=0,b=this.styleQueue[0],ae=b&&b.$el,ad;while(!ae||!ae.length){ad=this.styleQueue[e++];if(!ad){return}ae=ad.$el}var ac=parseFloat(getComputedStyle(ae[0])[C]);ac>0&&(V=function(d,c){c.$el[Z](c.style,Y).one(D,w)},U=!1)}}}}S.each(this.styleQueue,V),U&&w(),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(b){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,b)},addItems:function(e,d){var f=this._getAtoms(e);this.$allAtoms=this.$allAtoms.add(f),d&&d(f)},insert:function(e,d){this.element.append(e);var f=this;this.addItems(e,function(b){var c=f._filter(b);f._addHideAppended(c),f._sort(),f.reLayout(),f._revealAppended(c,d)})},appended:function(e,d){var f=this;this.addItems(e,function(b){f._addHideAppended(b),f.layout(b),f._revealAppended(b,d)})},_addHideAppended:function(b){this.$filteredAtoms=this.$filteredAtoms.add(b),b.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:b,style:this.options.hiddenStyle})},_revealAppended:function(e,d){var f=this;setTimeout(function(){e.removeClass("no-transition"),f.styleQueue.push({$el:e,style:f.options.visibleStyle}),f._isInserting=!1,f._processStyleQueue(e,d)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(f,e){var h=this,g=function(){h.$allAtoms=h.$allAtoms.not(f),f.remove(),e&&e.call(h.element)};f.filter(":not(."+this.options.hiddenClass+")").length?(this.styleQueue.push({$el:f,style:this.options.hiddenStyle}),this.$filteredAtoms=this.$filteredAtoms.not(f),this._sort(),this.reLayout(g)):g()},shuffle:function(b){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout(b)},destroy:function(){var f=this.usingTransforms,e=this.options;this.$allAtoms.removeClass(e.hiddenClass+" "+e.itemClass).each(function(){var a=this.style;a.position="",a.top="",a.left="",a.opacity="",f&&(a[L]="")});var h=this.element[0].style;for(var g in this.originalStyle){h[g]=this.originalStyle[g]}this.element.unbind(".isotope").undelegate("."+e.hiddenClass,"click").removeClass(e.containerClass).removeData("isotope"),y.unbind(".isotope")},_getSegments:function(j){var f=this.options.layoutMode,p=j?"rowHeight":"columnWidth",o=j?"height":"width",n=j?"rows":"cols",m=this.element[o](),l,k=this.options[f]&&this.options[f][p]||this.$filteredAtoms["outer"+O(o)](!0)||m;l=Math.floor(m/k),l=Math.max(l,1),this[f][n]=l,this[f][p]=k},_checkIfSegmentsChanged:function(f){var e=this.options.layoutMode,h=f?"rows":"cols",g=this[e][h];return this._getSegments(f),this[e][h]!==g},_masonryReset:function(){this.masonry={},this._getSegments();var b=this.masonry.cols;this.masonry.colYs=[];while(b--){this.masonry.colYs.push(0)}},_masonryLayout:function(b){var f=this,e=f.masonry;b.each(function(){var c=S(this),m=Math.ceil(c.outerWidth(!0)/e.columnWidth);m=Math.min(m,e.cols);if(m===1){f._masonryPlaceBrick(c,e.colYs)}else{var l=e.cols+1-m,k=[],j,d;for(d=0;d<l;d++){j=e.colYs.slice(d,d+m),k[d]=Math.max.apply(Math,j)}f._masonryPlaceBrick(c,k)}})},_masonryPlaceBrick:function(t,s){var r=Math.min.apply(Math,s),q=0;for(var p=0,o=s.length;p<o;p++){if(s[p]===r){q=p;break}}var n=this.masonry.columnWidth*q,m=r;this._pushPosition(t,n,m);var l=r+t.outerHeight(!0),k=this.masonry.cols+1-o;for(p=0;p<k;p++){this.masonry.colYs[q+p]=l}},_masonryGetContainerSize:function(){var b=Math.max.apply(Math,this.masonry.colYs);return{height:b}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(b){var h=this,g=this.element.width(),f=this.fitRows;b.each(function(){var c=S(this),e=c.outerWidth(!0),d=c.outerHeight(!0);f.x!==0&&e+f.x>g&&(f.x=0,f.y=f.height),h._pushPosition(c,f.x,f.y),f.height=Math.max(f.y+d,f.height),f.x+=e})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return !0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(b){var f=this,e=this.cellsByRow;b.each(function(){var c=S(this),k=e.index%e.cols,j=Math.floor(e.index/e.cols),i=(k+0.5)*e.columnWidth-c.outerWidth(!0)/2,d=(j+0.5)*e.rowHeight-c.outerHeight(!0)/2;f._pushPosition(c,i,d),e.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(b){var d=this;b.each(function(c){var e=S(this);d._pushPosition(e,0,d.straightDown.y),d.straightDown.y+=e.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return !0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var b=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(b--){this.masonryHorizontal.rowXs.push(0)}},_masonryHorizontalLayout:function(b){var f=this,e=f.masonryHorizontal;b.each(function(){var c=S(this),m=Math.ceil(c.outerHeight(!0)/e.rowHeight);m=Math.min(m,e.rows);if(m===1){f._masonryHorizontalPlaceBrick(c,e.rowXs)}else{var l=e.rows+1-m,k=[],j,d;for(d=0;d<l;d++){j=e.rowXs.slice(d,d+m),k[d]=Math.max.apply(Math,j)}f._masonryHorizontalPlaceBrick(c,k)}})},_masonryHorizontalPlaceBrick:function(t,s){var r=Math.min.apply(Math,s),q=0;for(var p=0,o=s.length;p<o;p++){if(s[p]===r){q=p;break}}var n=r,m=this.masonryHorizontal.rowHeight*q;this._pushPosition(t,n,m);var l=r+t.outerWidth(!0),k=this.masonryHorizontal.rows+1-o;for(p=0;p<k;p++){this.masonryHorizontal.rowXs[q+p]=l}},_masonryHorizontalGetContainerSize:function(){var b=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:b}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(b){var h=this,g=this.element.height(),f=this.fitColumns;b.each(function(){var c=S(this),e=c.outerWidth(!0),d=c.outerHeight(!0);f.y!==0&&d+f.y>g&&(f.x=f.width,f.y=0),h._pushPosition(c,f.x,f.y),f.width=Math.max(f.x+e,f.width),f.y+=d})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return !0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(b){var f=this,e=this.cellsByColumn;b.each(function(){var c=S(this),k=Math.floor(e.index/e.rows),j=e.index%e.rows,i=(k+0.5)*e.columnWidth-c.outerWidth(!0)/2,d=(j+0.5)*e.rowHeight-c.outerHeight(!0)/2;f._pushPosition(c,i,d),e.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(b){var d=this;b.each(function(c){var e=S(this);d._pushPosition(e,d.straightAcross.x,0),d.straightAcross.x+=e.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return !0}},S.fn.imagesLoaded=function(b){function k(){b.call(p,o)}function j(d){var e=d.target;e.src!==m&&S.inArray(e,l)===-1&&(l.push(e),--n<=0&&(setTimeout(k),o.unbind(".imagesLoaded",j)))}var p=this,o=p.find("img").add(p.filter("img")),n=o.length,m="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",l=[];return n||k(),o.bind("load.imagesLoaded error.imagesLoaded",j).each(function(){var c=this.src;this.src=m,this.src=c}),p};var x=function(a){T.console&&T.console.error(a)};S.fn.isotope=function(b,f){if(typeof b=="string"){var e=Array.prototype.slice.call(arguments,1);this.each(function(){var a=S.data(this,"isotope");if(!a){x("cannot call methods on isotope prior to initialization; attempted to call method '"+b+"'");return}if(!S.isFunction(a[b])||b.charAt(0)==="_"){x("no such method '"+b+"' for isotope instance");return}a[b].apply(a,e)})}else{this.each(function(){var a=S.data(this,"isotope");a?(a.option(b),a._init(f)):S.data(this,"isotope",new S.Isotope(b,this,f))})}return this}})(window,jQuery);(function(a){a.pixelentity=a.pixelentity||{version:"1.0.0"};a.pixelentity.peIsotope={conf:{api:false}};a.Isotope.prototype._fitRowsLayout=function(h){var d=this,g=this.element.width(),e=this.fitRows,f=0,c=0;h.each(function(){var j=a(this);var i=parseInt(j.css("margin-left").replace(/px/,""),10);f=Math.max(f,i)});h.each(function(){var l=a(this),k=l.outerWidth(true),i=l.outerHeight(true);if(k*1.1>g){l.width(g).data("resized",true).addClass("no-transition");k=l.width();i=l.height()}else{if(l.data("resized")){l.css("width","").data("resized",false).removeClass("no-transition");k=l.width();i=l.height()}}if(e.x!==0&&k+e.x>g){e.x=0;e.y=e.height}var j=parseInt(l.css("margin-left").replace(/px/,""),10);f=Math.max(f,j);if(e.x===0&&j>0){e.x=-j}if(e.x>0&&j===0){e.x+=f}d._pushPosition(l,e.x,e.y);e.height=Math.max(e.y+i,e.height);e.x+=k})};function b(k,l){var e;var i;var m;function f(){e=k.find(".peIsotopeContainer");a.pixelentity.preloader.load(e,j)}function g(o){var n=o.currentTarget.getAttribute("data-category");i.removeClass("active").filter(o.currentTarget).addClass("active");n=n?".filter-"+n:"";e.isotope({filter:n});return false}function j(){m=e.isotope({hiddenStyle:{opacity:0},visibleStyle:{opacity:1},itemSelector:".peIsotopeItem",layoutMode:"fitRows",resizable:false}).data("isotope");i=k.find(".peIsotopeFilter a").click(g);setTimeout(d,500)}function h(){m.resize();setTimeout(c,1000)}function c(){m.reLayout()}function d(){a(window).bind("smartresize.isotope",h);m.reLayout()}a.extend(this,{destroy:function(){k.data("peIsotope",null);k=undefined}});f()}a.fn.peIsotope=function(c){var d=this.data("peIsotope");if(d){return d}c=a.extend(true,{},a.pixelentity.peIsotope.conf,c);this.each(function(){var e=a(this);d=new b(e,c);e.data("peIsotope",d)});return c.api?d:this}}(jQuery));(function(b){function a(d){var c=d.find(".peIsotope");if(c.length>0){c.peIsotope();return true}return false}b.pixelentity.widgets.add(a)}(jQuery));(function(c){function b(d,e){e=c(e);var f=e.peBackgroundSlider({api:true});f.configure("fillmax","center,center");c(window).resize(f.resize);if(e.attr("data-color")||e.attr("data-bw")){f.load(e.attr("data-color"),e.attr("data-bw"))}if(e.attr("data-resource")=="slider"&&!c.pixelentity.themeBackgroundSlider){c.pixelentity.themeBackgroundSlider=f}}function a(e){var d=e.find("#backgroundSlider");if(d.length>0){d.each(b);return true}return false}c.pixelentity.widgets.add(a)}(jQuery));(function(k){k.pixelentity=k.pixelentity||{version:"1.0.0"};k.pixelentity.peVolo={conf:{api:false,count:1,transition:500}};k.extend(k.easing,{easeOutQuad:function(q,r,i,u,s){return u*((r=r/s-1)*r*r+1)+i}});var b=navigator.userAgent.toLowerCase();var e=b.match(/(iphone|ipod|ipad)/)!==null;var f=!e&&b.match(/android ([^;]+)/);if(f){f=f[1].split(/\./);f=parseFloat(f.shift()+"."+f.join(""))}else{f=false}var c=(e||f||b.match(/(android|blackberry|webOS|opera mobi)/)!==null);var a=document.createElement("div").style;var n,l=["O","ms","Webkit","Moz"];var o,m,g=false,h=false,p=false;for(var j=0;j<l.length;j++){o=l[j]+"Transform";if(o in a){g=o;n=l[j];continue}}if(g){p=("WebKitCSSMatrix" in window&&"m11" in new WebKitCSSMatrix());o=n+"Transition";h=(o in a)?o:false}if(!h){m=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(i){setTimeout(i,25)}}function d(i,Z){var W;var y=[];var L;var J;var I=0;var D=0;var ah=0;var C=0;var G;var s=false;var z,x,S;var P=0;var U=0;var ae=0;var X=false;var R;var af=1;var T=Number.MAX_VALUE;var r="auto";var V=false;var E=Z.count;var B;function O(){V=true;i.addClass("peVolo");if(c){i.addClass("peVoloMobile")}if(i.find("> div.peWrap:eq(0)").length===0){i.wrapInner('<div class="peWrap"></div>')}var aj=(i.attr("data-height")||"").split(/,| /);if(aj[0]){af=parseInt(aj[0],10)}if(aj[1]){r=aj[1]==="auto"?"auto":parseFloat(aj[1],10)}if(aj[2]){T=parseInt(aj[2],10)}if(r===0){if(af>1){i.height(af)}}else{if(r==="auto"){var w=i.find("img").not(".peCaption img").eq(0);if(w.length>0){r=(w[0].naturalWidth/w[0].naturalHeight)*E}else{r=0}}}B=i.attr("data-slidewidth");if(B){Z.slideWidth=parseInt(B,10)}J=i.find("> div:eq(0)");var ai=J.find("> div").each(A);G=J[0].style;L=y.length;F();J.css("visibility","visible");ai.css("visibility","visible").show();k(window).bind("resize",ab);i.bind("touchstart touchmove touchend",u);if(i.attr("data-autopause")!=="disabled"){i.bind("mouseenter mouseleave",ac)}if(h){i.bind(n.toLowerCase()+"TransitionEnd transitionend",K)}K();setTimeout(ag,100);return true}function ag(){i.trigger("ready.pixelentity",{slides:y.length,markup:y});i.triggerHandler("change.pixelentity",{slideIdx:1})}function H(){if(!V||U===0){return}var w=ae>0?k.now()-ae:0;ae=0;w=U-w;if(w>0){N();R=setTimeout(t,w)}else{t()}}function M(){if(!V){return}ae=k.now();N()}function N(){clearTimeout(R)}function A(w,ai){y.push(k(ai))}function F(al){if(!V){return}al=typeof al==="undefined"?i.width():al;if(al===W){return}W=al;var w,ai,am;if(B>0){E=Math.floor(W/200)}if(E>1){al=Math.floor(W/E)*E;i.css("margin-right",(W-al));W=al}for(var ak=0;ak<L;ak++){w=y[ak];w.width(W/E);if(w.hasClass("scale")){ai=w.find("img:eq(0)");if(ai.length>0){if(g){am=(W/ai[0].naturalWidth)/E;ai[0].style[g]="scale("+am+","+am+")"}else{ai.width(W/E)}}}}J.width(W*L/E);if(r>0){var aj=(W/r)/E;i.height(Math.max(af,Math.min(T,aj)))}if(!s){Y(P,0)}i.trigger("resize.pixelentity")}function t(){if(!V||L<=E){return}I=(I+1)%(L-E+1);aa(I)}function Q(){if(!V||L<=E){return}I--;if(I<0){I+=(L-E+1)}aa(I)}function aa(w){if(!V){return}I=w;D=ah;ah=100*(w/L);C=k.now();x=0;s=true;i.triggerHandler("change.pixelentity",{slideIdx:w+1});if(h){P=ah;Y(ah,Z.transition)}else{q()}}function Y(ai,w){ai=-ai;if(g){if(h&&typeof w!=="undefined"){G[h]=w+"ms"}G[g]=p?"translate3d("+ai+"%,0,0)":"translate("+ai+"%,0)"}else{J.css("margin-left",parseInt(ai*(W*L/E)/100,10))}}function q(){if(x!==0){return}var w=Math.min(Z.transition,k.now()-C);var ai=k.easing.easeOutQuad(0,w,D,ah-D,Z.transition);P=ai;Y(ai,0);K();if(w<Z.transition){m(q)}else{K()}}function K(){s=false;var w=parseInt(y[I].attr("data-delay"),10)*1000;if(w>0){U=w;if(X){M()}else{H()}}}function u(aj){var ai=aj.type;var ak=aj.originalEvent;switch(ai){case"touchstart":if(ak.touches.length>1||ak.scale&&ak.scale!==1){return}z=ak.touches[0].pageX;x=0;break;case"touchmove":if(ak.touches.length>1||ak.scale&&ak.scale!==1){return}N();x=(ak.touches[0].pageX-z);S=P-100*x/(W*L);aj.preventDefault();aj.stopPropagation();Y(S,0);break;case"touchend":if(x===0){return}ah=S;var w=false;if(x>10&&I>0){w=true;Q()}if(x<-10&&I<(L-E)){w=true;t()}if(!w){aa(I)}x=0;break}}function ac(w){if(w.type==="mouseenter"){X=true;M()}else{X=false;H()}}function ab(w){F()}function v(){return i.bind.apply(i,arguments)}function ad(w){return y[w]}k.extend(this,{bind:v,show:function(w){aa(w-1)},next:t,prev:Q,pause:M,resume:H,resize:F,getSlide:ad,current:function(){return I},currentPos:function(){return P},destroy:function(){k(window).unbind("resize",ab);i.unbind("touchstart touchmove touchend",u).unbind("mouseenter mouseleave",ac).unbind(n.toLowerCase()+"TransitionEnd transitionend",K).data("peVolo",null);i=undefined}});k.pixelentity.preloader.load(i,O)}k.fn.peVolo=function(i){var q=this.data("peVolo");if(q){return q}i=k.extend(true,{},k.pixelentity.peVolo.conf,i);this.each(function(){var r=k(this);q=new d(r,i);r.data("peVolo",q)});return i.api?q:this}}(jQuery));(function(b){b.pixelentity=b.pixelentity||{version:"1.0.0"};b.pixelentity.peVoloSimpleSkin={conf:{api:false}};function a(x,j){var s;var r;var t,i,e;var k,u;function c(){if(!k||!u||k<20||u<20){setTimeout(v,100);return}var h=0;if(i){if(x.attr("data-controls-arrows")=="edges"){i.css({top:(u-i.height())/2,left:k-i.width()-6}).show();t.css({top:(u-t.height())/2,left:6}).show()}else{h=k-i.width()-12;i.css({top:u-i.height()-8,left:h}).show();h-=(t.width()-2);t.css({top:u-t.height()-8,left:h}).show()}}if(e){e.css({top:u-e.height()-12,left:9}).show()}}function o(){s.prev();return false}function q(){s.next();return false}function g(w){var h=w.currentTarget.getAttribute("data-idx");s.show(parseInt(h,10)+1);return false}function p(h){if(e){e.find("a").removeClass("selected").eq(h).addClass("selected")}}function l(w,h){p(h.slideIdx-1)}function d(){t=b('<div class="peVoloPrev"><a href="#"></a></div>').find("a").click(o).end().hide();i=b('<div class="peVoloNext"><a href="#"></a></div>').find("a").click(q).end().hide();if(x.attr("data-controls-bullets")!="disabled"){e=b('<div class="peVoloBullets"></div>').hide();for(var h=0;h<r;h++){e.append('<a href="#" data-idx="'+h+'"></a>')}e.delegate("a","click",g);p(0)}x.prepend(t).prepend(i);if(e){x.prepend(e)}c()}function m(w,h){r=h.slides;if(r>1){d()}}function v(){k=x.width();u=x.height();c()}function f(){s=x[x.attr("data-plugin")||"peVolo"]({api:true});var h=x.peVoloCaptions({api:true,slider:s});s.bind("ready.pixelentity",m);s.bind("resize.pixelentity",v);s.bind("change.pixelentity",l)}function n(){if(s){return s}return false}b.extend(this,{getSlider:n,destroy:function(){x.data("peVoloSimpleSkin",null);x=undefined}});f()}b.fn.peVoloSimpleSkin=function(c){var d=this.data("peVoloSimpleSkin");if(d){return d}c=b.extend(true,{},b.pixelentity.peVoloSimpleSkin.conf,c);this.each(function(){var e=b(this);d=new a(e,c);e.data("peVoloSimpleSkin",d)});return c.api?d:this}}(jQuery));(function(d){d.pixelentity=d.pixelentity||{version:"1.0.0"};d.pixelentity.peVoloCaptions={conf:{slider:false,api:false}};var b=d.support.csstransitions;var a="";if(b){a="opacity, %0transform".format(d.support.csstransitionsPrefix)}function c(y,l){var m,v;var t;var s;var j={};var r=-1;function f(B){if(!m||!v||m<20||v<20){setTimeout(x,100);return}B=d(B);var A=(B.attr("data-align")||"center,left").split(",");var w=d.pixelentity.Geom.getScaler("none",A[1],A[0],m,v,B.outerWidth(),B.outerHeight());var h=(B.attr("data-offset")||"0,0").split(",");B.css({"margin-top":w.offset.h+parseInt(h[0],10),"margin-left":w.offset.w+parseInt(h[1],10)})}function p(){var w,h;for(w in j){if(typeof w=="string"&&j[w]){for(h=0;h<j[w].length;h++){f(j[w][h])}}}}function x(){m=y.width();v=y.height();p()}function z(w,h){s[h].append(j[h]);delete j[h]}function q(w){var B=d(w);var A=parseFloat(B.attr("data-duration")||0.5);var h=parseFloat(B.attr("data-delay")||0);if(b){w.style[b+"Property"]=a;w.style[b+"Duration"]=A+"s";w.style[b+"Delay"]=h+"s";B.css("opacity",1);B.transform(1,0,0,m,v)}else{B.stop().delay(h*1000).animate({opacity:1,left:0,top:0},A*1000)}}function e(h){var w=d(h);if(b){h.style[b+"Property"]="opacity";h.style[b+"Delay"]="0s";h.style[b+"Duration"]="0.5s";w.css("opacity",0)}else{w.stop().animate({opacity:0},500)}}function u(){var h;for(h in j){if(typeof h=="string"&&h!=r&&j[h]){s[h].append(j[h]);j[h]=false}}}function i(h){h=d(h);h.fadeTo(0,0);var A=0,w=0;switch(h.attr("data-transition")){case"flyRight":A=100;break;case"flyLeft":A=-100;break;case"flyTop":w=-100;break;case"flyBottom":w=100;break}if(b){h.transform(1,A,w,m,v)}else{h.css({left:A,top:w})}}function n(C,B){var A,w,h=B.slideIdx-1;if(h===r){return}var D=s[h].find(".peCaption");for(A=0;A<D.length;A++){i(D[A])}D.fadeTo(0,0);y.prepend(D);r=h;j[h]=D;x();for(A in j){if(typeof A=="string"&&A!=h&&j[A]){for(w=0;w<j[A].length;w++){e(j[A][w])}}}setTimeout(u,500);for(A=0;A<D.length;A++){q(D[A])}j[h]=D}function o(w,h){s=h.markup}function g(){if(l.slider){k(l.slider)}}function k(h){t=h;t.bind("ready.pixelentity",o);t.bind("resize.pixelentity",x);t.bind("change.pixelentity",n)}d.extend(this,{link:k,destroy:function(){y.data("peVoloCaptions",null);y=undefined}});g()}d.fn.peVoloCaptions=function(e){var f=this.data("peVoloCaptions");if(f){return f}e=d.extend(true,{},d.pixelentity.peVoloCaptions.conf,e);this.each(function(){var g=d(this);f=new c(g,e);g.data("peVoloCaptions",f)});return e.api?f:this}}(jQuery));(function(c){function b(d,e){e=c(e);var f=e.peVoloSimpleSkin({api:true});if(!c.pixelentity.themeSlider){c.pixelentity.themeSlider=f}}function a(e){var d=e.find(".peVolo");if(d.length>0){d.each(b);return true}return false}c.pixelentity.widgets.add(a)}(jQuery));(function(d){d.pixelentity=d.pixelentity||{version:"1.0.0"};d.pixelentity.twitter={conf:{username:"",topDate:false,callback:false,count:3,api:false}};var f=d.jStorage;var c={url:{from:/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,to:'<a href="$1" target="_blank">$1</a>'},user:{from:/@(\w+)/gi,to:'<a href="http://twitter.com/$1" target="_blank">@$1</a>'},hash:{from:/(?:^| )[\#]+([\w\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u00ff\u0600-\u06ff]+)/gi,to:' <a href="http://search.twitter.com/search?q=&tag=$1&lang=all&from=[USERNAME]" target="_blank">#$1</a>'}};var a=30*60*1000;function b(g){var i=parseInt((d.now()-Date.parse(g.replace(/^([a-z]{3})( [a-z]{3} \d\d?)(.*)( \d{4})$/i,"$1,$2$4$3")))/1000,10);var h="";if(i<60){h=i+" seconds"}else{if(i<120){h="1 minute"}else{if(i<(45*60)){h=(parseInt(i/60,10)).toString()+" minutes"}else{if(i<(2*60*60)){h="1 hour"}else{if(i<(24*60*60)){h=""+(parseInt(i/3600,10)).toString()+" hours"}else{if(i<(48*60*60)){h="1 day"}else{h=(parseInt(i/86400,10)).toString()+" days"}}}}}}return h}function e(l,i){var k;function n(){if(!i.username){return}k="peTwitter"+i.username;var o=f?f.get(k):false;if(o){if(o.photos){if((d.now()-o.time)>a){j()}else{m(o.photos)}}else{if(typeof o=="array"){f.get(k).push(m)}else{j()}}}else{j()}}function j(){if(f){f.set(k,[])}d.getJSON(h(),g)}function h(){var o=("https:"==document.location.protocol?"https:":"http:");var p=false;return o+"//api.twitter.com/1/statuses/user_timeline.json?screen_name="+i.username+"&count="+10+(p?"&include_rts=1":"")+"&callback=?"}function g(o){m(o);if(f){if(f.get(k).length>0){var p;while((p=f.get(k).pop())){p(o)}}f.set(k,{time:d.now(),tweets:o})}}function m(t){var u;var r=[];var p;var v;var o=Math.min(i.count,t.length);for(var q=0;q<o;q++){u=t[q];v=u.text;if(!u){break}for(var s in c){v=v.replace(c[s].from,c[s].to)}v=v.replace("[USERNAME]",i.username);if(i.topDate){r.push('<p class="tweet"><span>'+b(u.created_at)+" ago</span>"+v+"</p>")}else{r.push('<p class="tweet">'+v+"<span>"+b(u.created_at)+" ago</span></p>")}}if(r.length>0){r[r.length-1]=r[r.length-1].replace('class="tweet"','class="tweet last"');l.html(r.join(""));if(i.callback){i.callback()}}}d.extend(this,{destroy:function(){l.data("peTwitter",null);l=undefined}});n()}d.fn.peTwitter=function(g){var h=this.data("peTwitter");if(h){return h}g=d.extend(true,{},d.pixelentity.twitter.conf,g);this.each(function(){h=new e(d(this),g);d(this).data("peTwitter",h)});return g.api?h:this}}(jQuery));(function(d){var c;function b(){var e=d(this);if(e.hasClass("static")){return}e.peTwitter({username:e.attr("data-username"),count:parseInt(e.attr("data-count"),10)||9,topDate:(e.attr("data-topdate")==="true"),callback:c.expand,api:true})}function a(g,e){var f=g.find(".twitter");if(f.length>0){c=e;f.each(b);return true}return false}d.pixelentity.widgets.add(a)}(jQuery));(function(c){c.pixelentity=c.pixelentity||{version:"1.0.0"};c.pixelentity.flickr={conf:{userID:"",callback:false,count:6,cols:3,api:false}};var d=c.jStorage;var b=30*60*1000;function a(j,g){var i;function l(){if(!g.userID){return}i="peFlickr"+g.userID;var m=d?d.get(i):false;if(m){if(m.photos){if((c.now()-m.time)>b){h()}else{k(m.photos)}}else{if(typeof m=="array"){d.get(i).push(k)}else{h()}}}else{h()}}function h(){if(d){d.set(i,[])}c.getJSON(f(),e)}function f(){var m=("https:"==document.location.protocol?"https:":"http:");return m+"//api.flickr.com/services/feeds/photos_public.gne?id="+g.userID+"&lang=en-us&format=json&jsoncallback=?"}function e(m){k(m);if(d){if(d.get(i).length>0){var n;while((n=d.get(i).pop())){n(m)}}d.set(i,{time:c.now(),photos:m})}}function k(r){var s;var q=[];var p;var m;for(p=0;p<g.count;p++){s=r.items[p];if(!s){break}m=s.media.m.replace("_m.","_s.");q.push('<a class="'+((p%g.cols===0)?"first":"")+'" href="'+s.link+'" target="_blank"><img width="58" height="58" src="'+m+'"/></a>')}var t=q.length;if(t>0){var o=Math.max((Math.floor(t/g.cols)-1)*g.cols,0);for(p=o;p<t;p++){q[p]=q[p].replace('class="','class="lower ')}j.html(q.join(""));if(g.callback){g.callback()}}}c.extend(this,{destroy:function(){j.data("peFlickr",null);j=undefined}});l()}c.fn.peFlickr=function(e){var f=this.data("peFlickr");if(f){return f}e=c.extend(true,{},c.pixelentity.flickr.conf,e);this.each(function(){f=new a(c(this),e);c(this).data("peFlickr",f)});return e.api?f:this}}(jQuery));(function(b){function a(e,c){var d=e.find(".flickr");if(d.length>0){d.peFlickr({userID:d.attr("data-userID"),count:parseInt(d.attr("data-count"),10)||6,cols:parseInt(d.attr("data-cols"),10)||3,callback:c.expand,api:true});return true}return false}b.pixelentity.widgets.add(a)}(jQuery));(function(c){c.pixelentity=c.pixelentity||{version:"1.0.0"};c.pixelentity.peNewsletter={conf:{api:false}};var d=window.peNewsletter?decodeURIComponent(window.peNewsletter.url):false;var b={email:/^[a-zA-Z0-9._\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$/,"default":/.{4}/};function a(h,i){var g;var m;var o;var k;function f(){g=h.attr("data-default")||"";m=h.attr("data-subscribed");o=h.is("form")?h:h.find("form");k=o.find('input[name="email"]');if(g){k.val(g).focus(l).focusout(j)}o.change(l);o.submit(n)}function p(q){k.removeClass("error").closest(".control-group").addClass("success");k.val(m);if(!g){k.one("focus",l)}}function e(r){var q=true;if(k.val()==g||k.val()==m){k.val("");k.removeClass("error").closest(".control-group").removeClass("error").removeClass("success");if(!r){q=false}}if(q){if(b.email.test(k.val())){k.removeClass("error").closest(".control-group").removeClass("error");if(r){if(d){jQuery.post(d||h.attr("action"),{action:"peThemeNewsletter",data:{email:k.val(),instance:h.attr("data-instance")}},p)}else{jQuery.post(h.attr("action"),o.serialize(),p)}k.val("sending")}}else{k.addClass("error").closest(".control-group").addClass("error")}}return false}function j(r){var q=c(r.currentTarget);if(q.val()===""){q.val(g);k.removeClass("error").closest(".control-group").removeClass("error")}return true}function l(){return e(false)}function n(){return e(true)}c.extend(this,{destroy:function(){h.data("peNewsletter",null);h=undefined}});f()}c.fn.peNewsletter=function(e){var f=this.data("peNewsletter");if(f){return f}e=c.extend(true,{},c.pixelentity.peNewsletter.conf,e);this.each(function(){var g=c(this);f=new a(g,e);g.data("peNewsletter",f)});return e.api?f:this}}(jQuery));(function(b){function a(d){var c=d.find(".newsletter");if(c.length>0){c.peNewsletter();return true}return false}b.pixelentity.widgets.add(a)}(jQuery));(function(c){var b=[];c.pixelentity.gmap=function(){var g,f,l,j,e,k;for(var h=0;h<b.length;h++){k=b[h];g=new google.maps.LatLng(k.attr("data-latitude"),k.attr("data-longitude"));f={zoom:parseInt(k.attr("data-zoom"),10)||6,center:g,html:k.attr("data-title"),popup:true,mapTypeId:google.maps.MapTypeId.ROADMAP};l=new google.maps.Map(k[0],f);j=new google.maps.InfoWindow({content:k.data("description")});e=new google.maps.Marker({position:g,map:l,title:k.attr("data-title")});google.maps.event.addListener(e,"click",function(){j.open(l,e)})}};function d(){var e=c(this);e.data("description",e.html());b.push(e)}function a(g,e){var f=g.find(".gmap");if(f.length>0){f.each(d);c.getScript("http://maps.google.com/maps/api/js?sensor=false&callback=jQuery.pixelentity.gmap&async=2");return true}return false}c.pixelentity.widgets.add(a)}(jQuery));(function(d){var b=false;function c(){b=true;d("body").append('<div id="fb-root"/>');var f,e=document.getElementsByTagName("script")[0];f=document.createElement("script");f.async=true;f.src="//connect.facebook.net/en_US/all.js#xfbml=1";e.parentNode.insertBefore(f,e)}function a(g,e){var f=g.find("button.share.facebook");if(f.length>0){f.replaceWith('<div class="shareButton"><div class="fb-like" data-send="false" data-layout="button_count" data-show-faces="true" data-width="100"></div></div>');if(!b){c()}return true}return false}d.pixelentity.widgets.add(a)}(jQuery));(function(d){var b=false;function c(){b=true;var f,e=document.getElementsByTagName("script")[0];f=document.createElement("script");f.async=true;f.src="//platform.twitter.com/widgets.js";e.parentNode.insertBefore(f,e)}function a(g,e){var f=g.find("button.share.twitter");if(f.length>0){f.replaceWith('<div class="shareButton"><a class="twitter-share-button"></a></div>');if(!b){c()}return true}return false}d.pixelentity.widgets.add(a)}(jQuery));(function(d){var b=false;function c(){b=true;d("body").append('<div id="fb-root"/>');var f,e=document.getElementsByTagName("script")[0];f=document.createElement("script");f.async=true;f.src="https://apis.google.com/js/plusone.js";e.parentNode.insertBefore(f,e)}function a(g,e){var f=g.find("button.share.google");if(f.length>0){f.replaceWith('<div class="shareButton"><div class="g-plusone" data-size="medium" data-width="120"></div></div>');if(!b){c()}return true}return false}d.pixelentity.widgets.add(a)}(jQuery));(function(d){var b=false;function c(){b=true;d("body").append('<div id="fb-root"/>');var f,e=document.getElementsByTagName("script")[0];f=document.createElement("script");f.async=true;f.src="//assets.pinterest.com/js/pinit.js";e.parentNode.insertBefore(f,e)}function a(h,e){var g=h.find("button.share.pinterest");if(g.length>0){var f=encodeURIComponent(location.href);g.replaceWith('<div class="shareButton"><a href="http://pinterest.com/pin/create/button/?url='+f+'" class="pin-it-button" count-layout="horizontal"><img border="0" src="//assets.pinterest.com/images/PinExt.png" title="Pin It" /></a></div>');if(!b){c()}return true}return false}d.pixelentity.widgets.add(a)}(jQuery));(function(c){var b;function e(f){if(f.currentTarget.id==="carouselPrev"){b.prev()}else{b.next()}return false}function d(){var f=c(this);b=f.parent().next(".carouselBox");if(b.length>0){b.addClass("peVolo").wrapInner('<div class="peWrap"></div>')}f.delegate("a","click",e);b=b.peVolo({api:true})}function a(h,f){var g=h.find(".carousel-nav");if(g.length>0){g.each(d);return true}return false}c.pixelentity.widgets.add(a)}(jQuery));(function(e){var d,c;function f(j,i){var g=d.getSlide(i.slideIdx-1);var h=g.attr("data-background");c.load(h,h)}function b(h,g){d=g.getSlider();c=h;d.bind("change.pixelentity",f)}function a(g){if(e.pixelentity.themeBackgroundSlider&&e.pixelentity.themeSlider){b(e.pixelentity.themeBackgroundSlider,e.pixelentity.themeSlider);return true}return false}e.pixelentity.widgets.add(a)}(jQuery));(function(b){function a(){return false}function c(){return this.href.match(/\.(jpg|jpeg|png|gif)$/i)}pixelentity.classes.Controller=function(){var m=b("#peBackToTop");var o=b(window);var l=b("body,html");var g=b("header ul.nav > li > ul");function i(q){var r=q.split(/\//).pop();var p=b("header ul.nav");p.find('a[href$="'+r+'"]').parents("li").addClass("active")}function f(p){var q=o.scrollTop();m[q>100?"removeClass":"addClass"]("disabled")}function d(p){var v=g.eq(p);var s,u=v.find("ul.sub-menu").removeClass("rightAlign");var q=o.width();var r=v.width()+v.parent().offset().left;if(r>=q){v.addClass("rightAlign")}else{for(var t=0;t<u.length;t++){s=u.eq(t);if(r+s.width()>q){s.addClass("rightAlign")}}}}function h(){g.removeClass("rightAlign").each(d)}function n(){l.animate({scrollTop:0},500);return false}function k(p,r){r=b(r);r.attr("data-target","flare");var q=r.find("img:first");if(q.length===1&&!(r.parent().hasClass("wp-caption")||q.hasClass("alignleft")||q.hasClass("alignleft"))){if(q.hasClass("alignleft")){r.addClass("alignright")}else if(q.hasClass("alignright")){r.addClass("alignright")}r.addClass("peOverInfo")}}function j(r){var q=b(r.currentTarget);var p=q.next();p.css("visibility",p.css("visibility")=="visible"?"hidden":"visible")}function e(){if(b.pixelentity.browser.mobile){b("html").addClass("mobile")}if(!b.pixelentity.browser.mobile){m.click(n);o.scroll(f)}b('.navbar ul.nav a[href="#"]').click(a);b('a[data-target!="flare"]').filter(c).each(k);if(b.pixelentity.browser.iDev){b(".nav > li.dropdown a, .nav > li.dropdown .dropdown-menu a").click(j)}if(jQuery.browser.msie&&jQuery.browser.version<9){jQuery(".portfolioItem img, img.alignnone, img.alignleft, img.alignright").removeAttr("width")}if(b("aside.sidebar").length>0){b("body").addClass("hasSidebar")}var p;if((p=window.peThemeOptions)){if(b.pixelentity.browser.android||(p.backgroundMinWidth>0&&b(window).width()<p.backgroundMinWidth)){b(".peBackground, .pePatternOverlay, .peOverlay").detach();b("body").removeClass("black")}}b.pixelentity.widgets.build(b("body"),{});if(b("pre.prettyprint").length>0){prettyPrint()}o.resize(h);h()}e()}}(jQuery));jQuery(function(a){if(window.peFallBackPlayer){a.pixelentity.video.fallBackPlayer=decodeURIComponent(window.peFallBackPlayer.url)}pixelentity.controller=new pixelentity.classes.Controller()});
